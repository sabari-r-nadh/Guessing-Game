define("client/app",["vs/workbench/workbench.web.main"],(e=>(()=>{var t,n={29271:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(8645),o=n.n(r),i=n(60278),s=n.n(i)()(o());s.push([e.id,":root {\n    --grid-unit: 1rem;\n    --button-bg-color: #0278d5;\n    --dev-panel-height: 2.5rem;\n    --dev-panel-text-color: hsla(0,0%,100%,.5);\n    --dev-panel-border-color: #2a2a2a;\n    --dev-panel-bg-emphasis: #000;\n    --dev-panel-bg-emphasis-hover: #111;\n    --dev-panel-selection-color: #00FFFF;\n    --dev-panel--linkselection-color: #00BEFF;\n}\n\n.cs-dev-panel {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 10;\n    box-sizing: border-box;\n    color: white;\n    font-family: Helvetica, Arial, sans-serif;\n    transition: height .1s ease-in-out;\n    letter-spacing: 0.5px;\n}\n\n.cs-dev-panel.is-hidden {\n    height: var(--dev-panel-height);\n    box-shadow: none;\n}\n\n.cs-dev-panel input:focus {\n    background-color: rgba(255, 255, 255, .1);;\n    outline: none;\n    border-color: white;\n    color: white;\n}\n\n.cs-dev-panel__input[type='text'] {\n    height: calc(1 * var(--grid-unit));\n    border-radius: 0;\n    border: 1px solid var(--dev-panel-border-color);\n    color: inherit;\n    background-color: rgba(255, 255, 255, .05);\n    font-size: 12px;\n    --input-height: calc(2.5 * var(--grid-unit));\n    height: var(--input-height);\n    line-height: var(--input-height);\n    padding: calc(.5 * var(--grid-unit));\n    box-sizing: border-box;\n    margin: calc(.5 * var(--grid-unit)) 0;\n    width: 100%;\n}\n\n.cs-dev-panel__input--button {\n    padding: calc(.5 * var(--grid-unit)) calc(1 * var(--grid-unit));\n    margin: 0 calc(.25 * var(--grid-unit));\n    --button-height: calc(2.5 * var(--grid-unit));\n    height: var(--button-height);\n    line-height: calc((var(--button-height) / 2) - 1px);\n    font-size: 12px;\n    cursor: pointer;\n    border: none;\n}\n\n.cs-dev-panel__input--button-margin {\n    margin-top: 5px;\n}\n\n.cs-dev-panel__input--button:disabled {\n    opacity: .2;\n    cursor: default;\n}\n\n.cs-dev-panel__toggle-button {\n    position: absolute;\n    top: 0;\n    right: 0;\n    height: var(--dev-panel-height);\n    width: var(--dev-panel-height);\n    background: var(--dev-panel-bg-emphasis);\n    font-size: 12px;\n    line-height: calc(var(--dev-panel-height) + 2px);\n    cursor: pointer;\n    text-align: center;\n    border-left: 1px solid var(--dev-panel-border-color);\n    box-sizing: content-box;\n    z-index: 1;\n}\n\n.cs-dev-panel__toggle-button:hover {\n    background-color: var(--dev-panel-bg-emphasis-hover);\n}\n\n.cs-dev-panel__header {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: var(--dev-panel-height);\n    line-height: calc(var(--dev-panel-height) - 1px);\n    font-size: 12px;\n    background: #161818;\n    box-shadow: 0 5px 0 rgba(0,0,0,.15);\n    z-index: 0;\n    border-bottom: 1px solid var(--dev-panel-border-color);\n}\n\n.cs-dev-panel__body {\n    position: absolute;\n    top: var(--dev-panel-height);\n    right: 0;\n    width: calc(20 * var(--grid-unit));\n    padding: calc(1.5 * var(--grid-unit));\n    padding-bottom: calc(.5 * var(--grid-unit));\n    overflow: hidden;\n    overflow-y: auto;\n    background: #161818;\n    box-shadow: 5px 5px 0 rgba(0,0,0,.15),\n                inset 0 1px 0 var(--dev-panel-border-color);\n    max-height: calc(40 * var(--grid-unit));\n    z-index: 0;\n}\n\n.cs-dev-panel.is-hidden .cs-dev-panel__body {\n    display: none;\n}\n\n.cs-dev-panel.is-hidden .cs-dev-panel__header {\n    box-shadow: none;\n}\n",""]);const a=s},47592:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(8645),o=n.n(r),i=n(60278),s=n.n(i)()(o());s.push([e.id,".cs-dev-panel-header {\n    padding-right: calc(var(--dev-panel-height) + var(--grid-unit));\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    z-index: 0;\n}\n\n.cs-dev-panel-header__section {\n    position: relative;\n    height: var(--dev-panel-height);\n    line-height: var(--dev-panel-height);\n    float: left;\n    overflow: hidden;\n}\n\n.cs-dev-panel-header__section--text {\n    padding-left: calc(1 * var(--grid-unit));\n}\n\n.cs-dev-panel-header__section--text + .cs-dev-panel-header__section--text {\n    padding-left: calc(.5 * var(--grid-unit));\n}\n\n.cs-dev-panel-header__section-title {\n    color: var(--dev-panel-text-color);\n    cursor: default;\n}\n\n.cs-dev-panel-header__section::selection {\n    background-color: var(--dev-panel-selection-color);\n}\n\n.cs-dev-panel-header__emoji {\n    display: inline-block;\n    border-right: 1px solid var(--dev-panel-border-color);\n    padding: 0 calc(.7 * var(--grid-unit));\n    height: 100%;\n    position: relative;\n}\n\n.cs-dev-panel-header__emoji.is-corner::after {\n    content: '';\n    position: absolute;\n    --gap: calc(.3 * var(--grid-unit));\n    --size: calc(.3 * var(--grid-unit));\n    top: var(--gap);\n    right: var(--gap);\n    width: var(--size);\n    height: var(--size);\n    border-radius: 50%;\n    background-color: #00E600;\n}\n",""]);const a=s},14290:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(8645),o=n.n(r),i=n(60278),s=n.n(i)()(o());s.push([e.id,".cs-dev-panel-header-perf-block__controls {\n    float: left;\n    display: none;\n    margin-left: calc(.5 * var(--grid-unit));\n}\n\n.cs-dev-panel-header-perf-block__controls .cs-dev-panel-header-perf-block__console-button {\n    padding: calc(.4 * var(--grid-unit));\n    padding-bottom: calc(.2 * var(--grid-unit));\n    height: auto;\n    vertical-align: middle;\n}\n\n.cs-dev-panel-header-perf-block.is-ready {\n    cursor: pointer;\n}\n\n.cs-dev-panel-header-perf-block.is-ready:hover .cs-dev-panel-header-perf-block__controls {\n    display: block;\n}\n",""]);const a=s},94574:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(8645),o=n.n(r),i=n(60278),s=n.n(i)()(o());s.push([e.id,".cs-dev-panel-section {\n    margin-bottom: calc(1.5 * var(--grid-unit));\n}\n\n.cs-dev-panel-section + .cs-dev-panel-section {\n    padding-top: calc(1.5 * var(--grid-unit));\n    border-top: 1px solid var(--dev-panel-border-color);\n}\n\n.cs-dev-panel-section__title {\n    position: relative;\n    font-size: 12px;\n    font-weight: bold;\n    cursor: pointer;\n    padding-left: calc(1.25 * var(--grid-unit));\n}\n\n.cs-dev-panel-section__title::before {\n    content: '▶';\n    color: inherit;\n    font-size: 10px;\n    font-family: monospace;\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: transform .075s ease-in-out;\n    transform-origin: 25% 60%;\n}\n\n.cs-dev-panel-section.is-open .cs-dev-panel-section__title::before {\n    transform: rotate(90deg);\n}\n\n.cs-dev-panel-section.is-open .cs-dev-panel-section__body {\n    display: block;\n}\n\n.cs-dev-panel-section__title:hover {\n    opacity: .85;\n}\n\n.cs-dev-panel-section__body {\n    display: none;\n    margin-top: calc(1 * var(--grid-unit));\n    padding: 0 calc(1.5 * var(--grid-unit));\n    border-left: 1px solid var(--dev-panel-border-color);\n    min-width: calc(20 * var(--grid-unit));\n    box-sizing: border-box;\n}\n\n.cs-dev-panel-section__body hr {\n    margin: calc(1 * var(--grid-unit)) 0;\n    border: none;\n    border-top: 1px solid var(--dev-panel-border-color);\n}\n\n.cs-dev-panel-section__body p,\n.cs-dev-panel-section__body pre {\n    margin: calc(.5 * var(--grid-unit)) 0;\n}\n\n.cs-dev-panel-section__body .cs-dev-panel-section__footer {\n    margin-top: calc(1.5 * var(--grid-unit));\n}\n\n/* clearfix */\n.cs-dev-panel-section__body p::after {\n    content: '';\n    clear: both;\n    display: table;\n}\n\n.cs-dev-panel-section__body label {\n    color: #e1e1e1;\n    float: left;\n    margin-top: calc(.3 * var(--grid-unit));\n    margin-right: calc(.5 * var(--grid-unit));\n}\n\n.cs-dev-panel-section__body input[type='checkbox'] {\n    float: left;\n    margin-left: 0;\n    margin-right: calc(1 * var(--grid-unit));\n}\n",""]);const a=s},90820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(8645),o=n.n(r),i=n(60278),s=n.n(i)()(o());s.push([e.id,".jupyter-workbench {\n\theight: 100%;\n\twidth: 100%;\n}\n",""]);const a=s},56165:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(8645),o=n.n(r),i=n(60278),s=n.n(i)()(o());s.push([e.id,".vsonline-serverless-workbench {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 3;\n}\n",""]);const a=s},42268:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(8645),o=n.n(r),i=n(60278),s=n.n(i)()(o());s.push([e.id,".cs-icon {\n    display: inline-block;\n    position: relative;\n    width: calc(1.6 * var(--grid-unit));\n    height: calc(1.6 * var(--grid-unit));\n    /* prevent flex layout to affect the sice of the icons */\n    flex-shrink: 0;\n    flex-grow: 0;\n    fill: var(--vscode-editor-foreground, #444d56);\n}\n\n.cs-icon > svg,\n.cs-icon::after {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n}\n\n.cs-icon::after {\n    content: '';\n    z-index: 2;\n}\n\n.cs-icon svg,\n.cs-icon use {\n    fill: inherit;\n    z-index: 1;\n}\n\n.cs-icon--blue {\n    fill: var(--vscode-debugIcon-continueForeground, #0366d6);\n}\n.cs-icon--green {\n    fill: var(--vscode-debugIcon-startForeground, #28a745);\n}\n.cs-icon--red {\n    fill: var(--vscode-errorForeground, #cb2431);\n}\n.cs-icon--black {\n    fill: var(--vscode-editor-foreground, #444d56);\n}\n\n.cs-icon--white {\n    fill: var(--vscode-editor-foreground, #444d56);\n}",""]);const a=s},73966:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(8645),o=n.n(r),i=n(60278),s=n.n(i)()(o());s.push([e.id,".cs-workbench-root {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tz-index: 0;\n}\n\n.cs-workbench-page__dev-panel {\n\tdisplay: none;\n}\n\n.cs-workbench-page__body {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tleft: 0;\n\tbottom: 0;\n\ttransition: top 0.15s ease-in-out;\n}\n\n.cs-workbench-page.is-dev-panel .cs-workbench-page__dev-panel {\n\tdisplay: block;\n}\n\n.cs-workbench-page.is-dev-panel .cs-workbench-page__body {\n\ttop: var(--dev-panel-height);\n}\n\n.cs-workbench-page .Header {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tleft: 0;\n\tz-index: 1;\n}\n\n.cs-workbench-page.is-dev-panel .Header {\n\ttop: var(--dev-panel-height);\n}\n",""]);const a=s},30362:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(8645),o=n.n(r),i=n(60278),s=n.n(i)()(o());s.push([e.id,'/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */\n /* xterm copyright applies to xterm styles below  */\n\n .cs-splash-screen .xterm {\n    font-feature-settings: "liga"0;\n    user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    cursor: text;\n}\n\n.cs-splash-screen .xterm.focus,\n.cs-splash-screen .xterm:focus {\n    outline: none;\n}\n\n.cs-splash-screen .xterm .xterm-helpers {\n    position: absolute;\n    top: 0;\n    /**\n   * The z-index of the helpers must be higher than the canvases in order for\n   * IMEs to appear on top.\n   */\n    z-index: 5;\n}\n\n.cs-splash-screen .xterm .xterm-helper-textarea {\n    /*\n   * HACK: to fix IE\'s blinking cursor\n   * Move textarea out of the screen to the far left, so that the cursor is not visible.\n   */\n    position: absolute;\n    opacity: 0;\n    left: -9999em;\n    top: 0;\n    width: 0;\n    height: 0;\n    z-index: -5;\n    /** Prevent wrapping so the IME appears against the textarea at the correct position */\n    white-space: nowrap;\n    overflow: hidden;\n    resize: none;\n}\n\n.cs-splash-screen .xterm .composition-view {\n    background: #000;\n    color: #FFF;\n    display: none;\n    position: absolute;\n    white-space: nowrap;\n    z-index: 1;\n}\n\n.cs-splash-screen .xterm .composition-view.active {\n    display: block;\n}\n\n.cs-splash-screen .xterm .xterm-viewport {\n    /* On OS X this is required in order for the scroll bar to appear fully opaque */\n    background-color: #000;\n    overflow-y: auto;\n    cursor: default;\n    position: absolute;\n    right: 0;\n    left: 0;\n    top: 0;\n    bottom: 0;\n}\n\n.cs-splash-screen .xterm .xterm-screen {\n    position: relative;\n}\n\n.cs-splash-screen .xterm .xterm-screen canvas {\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n.cs-splash-screen .xterm .xterm-scroll-area {\n    visibility: hidden;\n}\n\n.cs-splash-screen .xterm-char-measure-element {\n    display: inline-block;\n    visibility: hidden;\n    position: absolute;\n    top: 0;\n    left: -9999em;\n    line-height: 17.5px;\n}\n\n.cs-splash-screen .xterm.enable-mouse-events {\n    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */\n    cursor: default;\n}\n\n.cs-splash-screen .xterm.xterm-cursor-pointer {\n    cursor: pointer;\n}\n\n.cs-splash-screen .xterm.column-select.focus {\n    /* Column selection mode */\n    cursor: crosshair;\n}\n\n.cs-splash-screen .xterm .xterm-accessibility,\n.cs-splash-screen .xterm .xterm-message {\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 10;\n    color: transparent;\n}\n\n.cs-splash-screen .xterm .live-region {\n    position: absolute;\n    left: -9999px;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n}\n\n.cs-splash-screen .xterm-dim {\n    opacity: 0.5;\n}\n\n.cs-splash-screen .xterm-underline {\n    text-decoration: underline;\n}',""]);const a=s},14294:(e,t,n)=>{var r=n(95292),o=n(29271);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},60945:(e,t,n)=>{var r=n(95292),o=n(47592);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},35403:(e,t,n)=>{var r=n(95292),o=n(14290);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},90709:(e,t,n)=>{var r=n(95292),o=n(94574);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},95122:(e,t,n)=>{var r=n(95292),o=n(90820);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},4942:(e,t,n)=>{var r=n(95292),o=n(56165);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},83141:(e,t,n)=>{var r=n(95292),o=n(42268);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},19417:(e,t,n)=>{var r=n(95292),o=n(73966);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},6013:(e,t,n)=>{var r=n(95292),o=n(30362);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},85864:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(29913),n(70759),n(67052),n(14493),n(89036),n(12759)],o=function(e,t,r,o,s,a,c,d){"use strict";var l,u;Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenCommunicationAdapter=void 0,function(e){e[e.Green=0]="Green",e[e.Red=1]="Red",e[e.Yellow=2]="Yellow",e[e.Underline=3]="Underline"}(l||(l={})),function(e){e[e.Starting=0]="Starting",e[e.Connecting=1]="Connecting",e[e.Streaming=2]="Streaming",e[e.Unknown=3]="Unknown"}(u||(u={}));class p extends r.DisposableClass{constructor(e,t,n,r,o){super(e),this.performance=t,this.correlationId=r,this.telemetry=o,this.frames=["⣷","⣯","⣟","⡿","⢿","⣻","⣽","⣾"],this.streamStatus=u.Unknown,this.intervalCounts=0,this.line=1,this.communicationProvider=n}connect(){return i(this,void 0,void 0,(function*(){return this.connectionPromise||(this.connectionPromise=new Promise((e=>i(this,void 0,void 0,(function*(){try{try{this.performance.main.markBlockEnd({id:o.PerformanceEventIds.EarlyConnectionTime,name:"early connection time"},!0);const e=this.performance.main.getBlockDurationTime(o.PerformanceEventIds.EarlyConnectionTime);this.trace.verbose(`early connect saved ${e}ms`)}catch(e){}const e=yield(0,d.getRpcClient)(this.trace,this.telemetry);e.eventStream(this.trace);e.getCreationLogUpdatedEvent()((e=>{this.processEntry(e)}))}catch(e){throw this.trace.error("connection failed",e),e}e()}))))),yield this.connectionPromise}))}startStreamingTerminal(){return i(this,void 0,void 0,(function*(){try{this.utf8Decoder=new TextDecoder("utf-8");(yield(0,d.getRpcClient)(this.trace,this.telemetry)).terminalStream((e=>{if(this.logsOpened){let t=this.utf8Decoder.decode(e.getPayload_asU8());this.communicationProvider.writeToTerminalOutput(s.TerminalId.LogTerminal,t)}}),(()=>{this.trace.info("Terminal stream closed")}),this.trace)}catch(e){this.trace.warning("error while creating creation log terminal",e),e instanceof r.AggregateError&&this.trace.warning("aggregate errors",e.errors)}}))}processEntry(e){this.streamStatus!==u.Streaming&&(this.streamStatus=u.Streaming,this.clearInterval(),this.clearTerminal(s.TerminalId.HeaderTerminal),this.line=1),e.type===a.CreationLogType.InProgress?this.createProcessingInterval(e):e.type===a.CreationLogType.Succeeded?this.overrideWithSucceed(e.text):this.overrideWithFailure(e.text)}createProcessingInterval(e,t=!1){this.clearInterval(),this.line++;var o=0;const i=()=>{const t=this.frames[o=++o%this.frames.length];if(t){const n=this.controlCharacters(t,{position:this.line,style:l.Yellow,moveBeginning:!0});this.communicationProvider.writeToTerminalOutput(s.TerminalId.HeaderTerminal,`${n} ${e.text}`),this.shouldShowLogsLink(e)&&this.showLogsLink(),this.intervalCounts++}};t||i(),this.interval=n.g.setInterval(i,.1*r.TIME_SECOND_MS)}shouldShowLogsLink(e){if(this.intervalCounts<80)return!1;const t=this.streamStatus!==u.Connecting&&this.streamStatus!==u.Starting;return void 0!==e.isStreamingLogs?t&&e.isStreamingLogs:t}viewLogs(){return i(this,void 0,void 0,(function*(){this.telemetry.sendTelemetry([c.CodespacesTelemetryEventNames.WebSplashScreenLogsOpened,{correlationId:this.correlationId}]),this.showLogsLink(),this.logsOpened=!this.logsOpened,this.startStreamingTerminal()}))}overrideWithSucceed(e){this.clearInterval();const t=this.controlCharacters(String.fromCharCode(parseInt("2714",16)),{eraseLine:!0,position:this.line,style:l.Green,moveBeginning:!0});this.communicationProvider.writeToTerminalOutput(s.TerminalId.HeaderTerminal,`${t} ${e}`),void 0!==this.logsOpened&&this.clearTerminal(s.TerminalId.LogTerminal)}overrideWithFailure(e){this.clearInterval();const t=this.controlCharacters("x",{eraseLine:!0,position:this.line,style:l.Red,moveBeginning:!0}),n=this.controlCharacters("Check troubleshooting guide.",{style:l.Underline});this.communicationProvider.writeToTerminalOutput(s.TerminalId.HeaderTerminal,`${t} ${e} ${n}`),void 0!==this.logsOpened&&this.clearTerminal(s.TerminalId.LogTerminal)}showLogsLink(){if(this.telemetry.sendTelemetry([c.CodespacesTelemetryEventNames.WebSplashScreenLogsAvailable,{correlationId:this.correlationId}]),this.logsOpened){const e=this.controlCharacters("Hide logs",{position:this.line+1,style:l.Underline,alignment:2,moveBeginning:!0});this.communicationProvider.writeToTerminalOutput(s.TerminalId.HeaderTerminal,e)}else{this.clearTerminal(s.TerminalId.LogTerminal);const e=this.controlCharacters("View logs",{position:this.line+1,style:l.Underline,alignment:2,moveBeginning:!0});this.communicationProvider.writeToTerminalOutput(s.TerminalId.HeaderTerminal,e)}}showConnecting(){if(this.streamStatus===u.Unknown||this.streamStatus===u.Streaming){var e={text:"Connecting...",type:a.CreationLogType.InProgress,isStreamingLogs:!1};this.createProcessingInterval(e),this.streamStatus=u.Connecting}}showStarting(){if(this.streamStatus!==u.Starting){this.clearTerminal(s.TerminalId.HeaderTerminal),this.line=1;var e={text:"Starting...",type:a.CreationLogType.InProgress,isStreamingLogs:!1};this.createProcessingInterval(e),this.streamStatus=u.Starting}}clearInterval(){this.interval&&(clearInterval(this.interval),this.intervalCounts=0)}clearTerminal(e){this.communicationProvider.writeToTerminalOutput(e,"c")}controlCharacters(e,t){var n;const r="[",o="[0m",i=void 0!==t.style?this.getStyle(t.style):void 0,s=" ".repeat(null!==(n=t.alignment)&&void 0!==n?n:0);let a=t.position?`${r}${t.position}H${o}`:"";return a+=t.moveBeginning?"\r":"",a+=t.eraseLine?`${r}K${o}`:"",a+=i?`${s}${r}${i}${e}${o}`:`${s}${e}`,a}getStyle(e){let t="";switch(e){case l.Green:t+="38;2;40;167;69";break;case l.Red:t+="31";break;case l.Yellow:t+="38;2;219;171;9";break;case l.Underline:t+="4"}return`${t}m`}}t.SplashScreenCommunicationAdapter=p}.apply(t,r),void 0===o||(e.exports=o)},26436:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenConnectionAdapter=void 0;t.SplashScreenConnectionAdapter=class{sendCommand(e,t){if("connect"===e)window.postMessage({command:e,codespaceId:t.codespaceId},window.origin)}onMessage(e){window.addEventListener("message",e,!1)}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},52903:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(29913),n(67052),n(12759)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalCommunicationAdapter=void 0;class s extends n.DisposableClass{constructor(e,t,n){super(e),this.telemetry=n,this.communicationProvider=t}connect(){return i(this,void 0,void 0,(function*(){return this.connectionPromise||(this.connectionPromise=new Promise((e=>i(this,void 0,void 0,(function*(){try{(yield(0,o.getRpcClient)(this.trace,this.telemetry)).eventStream(this.trace)}catch(e){throw this.trace.error("connection failed",e),e}e()}))))),yield this.connectionPromise}))}startStreamingTerminal(){return i(this,void 0,void 0,(function*(){try{this.utf8Decoder=new TextDecoder("utf-8");(yield(0,o.getRpcClient)(this.trace,this.telemetry)).terminalStream((e=>{let t=this.utf8Decoder.decode(e.getPayload_asU8());this.communicationProvider.writeToTerminalOutput(r.TerminalId.LogTerminal,t)}),(()=>{this.trace.info("Terminal stream closed")}),this.trace)}catch(e){this.trace.warning("error while creating creation log terminal",e),e instanceof n.AggregateError&&this.trace.warning("aggregate errors",e.errors)}}))}}t.TerminalCommunicationAdapter=s}.apply(t,r),void 0===o||(e.exports=o)},46373:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818),n(29913),n(28620),n(88986),n(50502),n(60355),n(28474),n(82318)],o=function(e,t,n,r,o,s,a,c,d,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCodespacesAPI=t.CodespacesAPI=void 0;class u extends n.Disposable{constructor(e){super(),this.authService=e,this.retryDelayInMs=250,this.requestToStartCodespace=(e,t,n=this.retryDelayInMs,o={})=>i(this,void 0,void 0,(function*(){return yield(0,r.withRetries)((()=>i(this,void 0,void 0,(function*(){var n;const r=new URL(e),i={method:"POST",headers:Object.assign({Authorization:`Bearer ${this.getTokenString(t)}`},o)};let l=yield(0,d.fetchOrNetworkError)(r.toString(),i);if(!l.ok){let e="";try{const t=yield l.json();t&&t.message&&(e=t.message)}catch(e){throw new s.HttpError(500,e.message,r.toString())}if(403===l.status&&/machine type/.test(e))throw new s.CodespacesPolicyViolationError("Codespace was not started due to a violation of the owner's Codespaces policies");if(422==l.status&&/operation pending/.test(e))throw new c.CodespacesPendingOperationError(e);{const t=""!==e?e:void 0,o=l.statusText?l.statusText:void 0;throw new s.HttpError(l.status,null!==(n=null!=t?t:o)&&void 0!==n?n:(0,a.httpStatusCodeToMessage)(l.status),r.toString())}}}))),{retries:3,retryDelay:n,shouldStopRetries:e=>e instanceof s.CodespacesPolicyViolationError||e instanceof c.CodespacesPendingOperationError,isAggregateError:!1})}))}getCodespaceInfo(e,t=this.retryDelayInMs){return i(this,void 0,void 0,(function*(){return this.withValidAfterRetry(e,t,(()=>this.getCodespaceInfoInternal(e,t)))}))}getCodespaceInfoInternal(e,t){return i(this,void 0,void 0,(function*(){return yield(0,r.withRetries)((()=>i(this,void 0,void 0,(function*(){let t=(0,o.getName)(location.hostname);const n=yield this.getApiUrl(`user/codespaces/${t}?internal=true&refresh=true&t=${Date.now()}`),r={Authorization:`Bearer ${this.getTokenString(e)}`};let i=yield(0,d.fetchOrNetworkError)(n,{headers:r});if(!i.ok){let t="Cannot fetch Codespace info.";if(yield this.isAuthenticationNeeded(e,i.status))throw yield this.authService.signOut(),new s.AuthenticationError(t);if(429===i.status||403===i.status&&"0"===i.headers.get("X-RateLimit-Remaining"))throw new s.ThrottlingApiError(t);if(404===i.status)throw new s.HttpError(404,"This codespace has been deleted.",n);try{const e=yield i.json();e&&e.message&&(t=e.message)}catch(e){throw new s.HttpError(500,e.message,n)}if(403===i.status&&/rate limit/.test(t))throw new s.ThrottlingApiError(t);throw new s.HttpError(i.status,null!=t?t:i.statusText,n)}try{const e=yield i.json();if(e.failure_reason)throw new s.UserControlledError(e.failure_reason);return e}catch(e){if(e instanceof s.UserControlledError)throw e;throw new s.HttpError(500,e.message,n)}}))),{retries:3,retryDelay:t,shouldStopRetries:e=>e instanceof s.AuthenticationError||e instanceof s.ThrottlingApiError,isAggregateError:!1})}))}isAuthenticationNeeded(e,t){return i(this,void 0,void 0,(function*(){if(401===t)return!0;if(404!==t)return!1;const n=yield this.getApiUrl(`user/codespaces?t=${Date.now()}`),r={Authorization:`Bearer ${this.getTokenString(e)}`};return(yield(0,d.fetchOrNetworkError)(n,{headers:r})).headers.has("x-github-sso")}))}startCodespace(e,t,n=this.retryDelayInMs){return i(this,void 0,void 0,(function*(){const r={Authorization:`Bearer ${this.getTokenString(t)}`},o=yield this.getApiUrl(`user/codespaces/${e.name}/start`);return this.withValidAfterRetry(t,n,(()=>this.requestToStartCodespace(o,t,n,r)))}))}suspendCodespace(e,t,n=this.retryDelayInMs){return i(this,void 0,void 0,(function*(){const r=yield this.getApiUrl(`user/codespaces/${e.name}/stop?internal=true`),o={method:"POST",headers:{Authorization:`Bearer ${this.getTokenString(t)}`}};return this.withValidAfterRetry(t,n,(()=>i(this,void 0,void 0,(function*(){var e;let t=yield(0,d.fetchOrNetworkError)(r,o,!0);if(!t.ok)throw new s.HttpError(t.status,null!==(e=t.statusText)&&void 0!==e?e:(0,a.httpStatusCodeToMessage)(t.status),r)}))))}))}getAnalyticsTrackingId(e,t=this.retryDelayInMs){return i(this,void 0,void 0,(function*(){const n=yield this.getApiUrl("codespaces_internal/analytics_tracking_id"),r={method:"GET",headers:{Authorization:`Bearer ${this.getTokenString(e)}`}};return this.withValidAfterRetry(e,t,(()=>i(this,void 0,void 0,(function*(){var e;let t=yield(0,d.fetchOrNetworkError)(n,r,!0);if(!t.ok)throw new s.HttpError(t.status,null!==(e=t.statusText)&&void 0!==e?e:(0,a.httpStatusCodeToMessage)(t.status),n);return(yield t.json()).analytics_tracking_id}))))}))}getApiUrl(e){return i(this,void 0,void 0,(function*(){const t=yield this.authService.getPartnerInfo();if(!t)throw yield this.authService.signOut(),new s.AuthenticationError("Invalid partner info");return(0,l.joinUrl)(t.gitHubApiUrl,e)}))}getTokenString(e){var t;return null!==(t=null==e?void 0:e.token)&&void 0!==t?t:""}withValidAfterRetry(e,t,n){return i(this,void 0,void 0,(function*(){let r=0;for(;;)try{return yield n()}catch(n){const o=Date.now()/1e3;if(!(n instanceof s.HttpError&&404===n.errorCode&&(null==e?void 0:e.validAfter)&&o<e.validAfter))throw n;yield new Promise((e=>setTimeout(e,Math.pow(2,r++)*t)))}}))}}t.CodespacesAPI=u;t.createCodespacesAPI=e=>new u(e)}.apply(t,r),void 0===o||(e.exports=o)},80514:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(63696),n(78325),n(39158),n(67130),n(92348),n(68314),n(89660),n(22207),n(72741),n(59709),n(46373),n(87362),n(55130),n(89036),n(62851),n(92029),n(9138),n(3255),n(99268),n(70759)],o=function(e,t,n,r,o,i,s,d,l,u,p,h,f,v,m,g,y,b,S,w,C,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.main=void 0,n=a(n),r=a(r),p.mainTrace.info("init 👋"),t.main=function(e,t,a,T,P,E){var k;return c(this,void 0,void 0,(function*(){v.initPerformance.main.markBlockStart({id:_.PerformanceEventIds.ReactInitToVSCodeCreate,name:"react init to vscode.create"},!0);const{workbenchConfig:c,workbenchType:I,partnerInfo:O}=e,x=new s.Config(c,t,I,p.mainTrace.createChild("workbench-config"),e.serverCorrelationId,null==O?void 0:O.featureFlags),A=new m.CodespacesTelemetryService(p.mainTrace.createChild("workbench-telemetry"),a,x,I,t,(0,m.configureTelemetryProperties)(x,e.serverCorrelationId),v.initPerformance,T);v.initPerformance.main.markBlockStart({id:_.PerformanceEventIds.TimeToInteractive,name:"time to interactive"},!0),A.sendTelemetry([g.CodespacesTelemetryEventNames.TimeToInteractiveActionStart,{}]);try{let s=n.createElement(n.Fragment,null);if("editor"===I){const e=new d.WebEditorAuthService(p.mainTrace.createChild("auth-service"),x,A);if((0,w.isValidAuthRequestId)(x))s=n.createElement(i.WebEditorComponent,{telemetry:A,authService:e,config:x,trace:p.mainTrace.createChild("webeditor-component")});else{s=n.createElement(C.AuthFailedMessage,{message:S.AUTH_FAILED_SCREEN_MESSAGE,buttonText:"Try again",onClick:()=>{localStorage.removeItem(e.localStorageId),location.reload()}});const r=(0,b.isCodespaceWorkbenchType)(I)?g.CodespacesTelemetryEventNames.WebRequestIdMismatch:g.CodespacesTelemetryEventNames.WebEditorRequestIdMismatch;A.sendTelemetry([r,{requestId:t}])}}else{let t;try{t=JSON.stringify(null==O?void 0:O.featureFlags)}catch(e){}const r=Object.assign(Object.assign({},e.workbenchConfig),{vscodeStableCommit:e.workbenchConfig.vscodeVersionInfo.stable.commit,vscodeInsidersCommit:e.workbenchConfig.vscodeVersionInfo.insider.commit,action:g.TelemetryActionTypes.Load,codespaceId:null==O?void 0:O.codespaceId,featureFlags:t,searchParams:location.search,bootstrapError:E?{message:E.errorMessage,name:E.errorType,stack:E.stack}:void 0,firstKnownState:null==P?void 0:P.state,hasConnectionInfo:!!(null==P?void 0:P.connection),hasTunnelProperties:!!(null===(k=null==P?void 0:P.connection)||void 0===k?void 0:k.tunnelProperties)});A.sendTelemetry([g.CodespacesTelemetryEventNames.WebLoadActionStart,r]);const o=new u.CodespacesAuthService(p.mainTrace.createChild("auth-service"),x,A),i=(0,f.createCodespacesAPI)(o),c=new h.CodespaceStateWatcher(p.mainTrace.createChild("codespace-state-watcher"),i,A,P);s=n.createElement(l.CodespacesComponent,{authService:o,config:x,trace:p.mainTrace.createChild("codespaces-component"),telemetry:A,codespaceStateWatcher:c,codespacesAPI:i,performance:v.initPerformance,editor:a,initialCodespaceInfo:P})}r.render(s,(0,o.getAppRootElement)())}catch(e){p.mainTrace.error("failed to render the app root",e);const t=(0,b.isCodespaceWorkbenchType)(I)?g.CodespacesTelemetryEventNames.WebUnhandledError:g.CodespacesTelemetryEventNames.WebEditorUnhandledError;A.sendTelemetry([t,(0,y.errorToObject)(e)])}}))}}.apply(t,r),void 0===o||(e.exports=o)},29793:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818),n(29913),n(88986),n(9138),n(53404)],o=function(e,t,n,r,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthService=void 0,n=a(n);class d extends r.DisposableClass{constructor(e,t,r,o){super(e),this.config=t,this.telemetry=r,this.partnerAuthInfo=o,this.MAX_AUTH_ATTEMPTS=3,this.ATTEMPT_TTL=1800,this.isInternalUser=!1,this.eventsEventEmitter=new n.Emitter,this.onEvent=this.eventsEventEmitter.event,this.signOut=()=>c(this,void 0,void 0,(function*(){yield this.partnerAuthInfo.removePartnerInfo(),this.keepUserAuthenticated&&this.keepUserAuthenticated.stop(),this.eventsEventEmitter.fire("signed-out")})),this.authAttempts=()=>{const e=localStorage.getItem(this.localStorageId);if(!e)return 0;const t=parseInt(e,10);if(!isNaN(t))return t;const n=JSON.parse(e);if((new Date).getTime()>n.expiry)return localStorage.removeItem(this.localStorageId),0;return n.value},this.makeTokenRequest=()=>c(this,void 0,void 0,(function*(){try{return yield this.partnerAuthInfo.getKeychainKeys(),this}catch(e){this.trace.error("failed to get encryption keys, redirecting for auth",e),yield this.signOut()}return this})),this.keepUserAuthenticated=(0,s.debounce)(this.makeTokenRequest,3e5),this.localStorageId=`${i.AUTH_ATTEMPTS_COUNT_LOCALSTORAGE_KEY}_${t.requestId}`,this.addToDisposables(this.partnerAuthInfo,this.eventsEventEmitter)}get isInternal(){return this.isInternalUser}getPartnerInfo(){return c(this,void 0,void 0,(function*(){const e=yield this.partnerAuthInfo.getCachedPartnerInfo();return e?(this.validatePartnerInfo(e),localStorage.removeItem(this.localStorageId),e):null}))}getCachedGithubToken(){return c(this,void 0,void 0,(function*(){const e=yield this.getPartnerInfo();if(!e)return null;const t=this.getPartnerCredentials(e);return t||null}))}preventInfiniteAuthLoop(){const e=this.authAttempts();if(e>=this.MAX_AUTH_ATTEMPTS)throw new o.AuthenticationFatalError;const t={value:e+1,expiry:(new Date).getTime()+this.ATTEMPT_TTL};localStorage.setItem(this.localStorageId,JSON.stringify(t))}}t.AuthService=d}.apply(t,r),void 0===o||(e.exports=o)},22207:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(88986),n(9138),n(26513),n(28620),n(29793),n(75064)],o=function(e,t,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCodespacesAuthService=t.CodespacesAuthService=void 0;class d extends a.AuthService{constructor(e,t,a,d=new c.CoreAuthService(e,a,t)){super(e,t,a,d),this.partnerAuthInfo=d,this.getManagementPortalUrl=()=>i(this,void 0,void 0,(function*(){const e=yield this.getPartnerInfo(),t=(0,o.getLoginRedirectionURL)(e);if(!t)throw new n.FatalPlatformRedirectionError("Cannot get login redirection URL.");return t})),this.redirectToLogin=e=>i(this,void 0,void 0,(function*(){this.preventInfiniteAuthLoop();let t=e?new URL(e):yield this.getManagementPortalUrl(),n=(0,s.getName)(window.location.hostname)||"";location.hostname.endsWith(".localhost")&&(n=n.replace(/^codespace\-/,"")),n&&(t=new URL(n,t)),localStorage.setItem(r.SEARCH_PARAMS_KEY,location.search),location.href=t.toString()})),this.validatePartnerInfo=e=>{if(!e.managementPortalUrl)throw new Error("No `managementPortalUrl` set.");if(!e.codespaceId)throw new Error("No `codespaceId` set.")},this.trace.createChild("core-auth"),this.addToDisposables(this.partnerAuthInfo)}getVscodeSettings(e){return e.vscodeSettings}getPartnerCredentials(e){return e.credentials[0]}}t.CodespacesAuthService=d;t.getCodespacesAuthService=(e,t,n)=>new d(e,t,n)}.apply(t,r),void 0===o||(e.exports=o)},75064:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818),n(29913),n(99982),n(62864),n(60912),n(9138),n(88986),n(62569),n(89036),n(62851)],o=function(e,t,n,r,o,i,s,d,l,u,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoreAuthService=void 0,n=a(n);class f extends n.Disposable{constructor(e,t,n){super(),this.trace=e,this.telemetry=t,this.config=n,this.keys=[],this.getKeychainPartnerInfoKey=e=>`vso.partners.${e}`,this.removePartnerInfo=e=>c(this,void 0,void 0,(function*(){if(e){const t=this.getKeychainPartnerInfoKey(e);yield i.localStorageKeychain.delete(t)}yield i.localStorageKeychain.delete(d.PARTNER_INFO_KEYCHAIN_KEY)})),this.getKeychainKeys=(0,r.once)((()=>c(this,void 0,void 0,(function*(){return yield(0,u.withRetries)((()=>c(this,void 0,void 0,(function*(){const e=yield(0,o.fetchKeychainKeys)(this.config.serverCorrelationId);return(0,r.assert)(e.length>0,new r.CancellationError("Encryption keys array is empty, giving up.")),(0,s.setKeychainKeys)(e),this.trace.verbose("got keychain keys from the /keychain-keys endpoint"),e}))),{retries:3,retryDelay:50,shouldStopRetries:e=>{const t=(0,h.errorToObject)(e);return this.telemetry.sendTelemetry([p.CodespacesTelemetryEventNames.KeychainKeyFault,t]),e instanceof l.AuthenticationError},isAggregateError:!1})})))),this.getCachedPartnerInfo=()=>c(this,void 0,void 0,(function*(){if(!this.keys.length)try{this.keys=yield this.getKeychainKeys()}catch(e){if(e instanceof l.NetworkError)throw e;return console.log("failed to get encryption keys",e),null}return yield this.getInfoForKey(d.PARTNER_INFO_KEYCHAIN_KEY)}))}getInfoForKey(e){var t;return c(this,void 0,void 0,(function*(){const n=e===d.PARTNER_INFO_KEYCHAIN_KEY?d.PARTNER_INFO_KEYCHAIN_KEY:this.getKeychainPartnerInfoKey(e),r=yield i.localStorageKeychain.get(n);if(!r.succeeded){const e=(0,h.errorToObject)(null!==(t=r.error)&&void 0!==t?t:new l.GenericAuthServiceError("Failed to get info for key"));return this.telemetry.sendTelemetry([p.CodespacesTelemetryEventNames.KeychainKeyFault,e]),null}try{if(!r.result)throw new l.GenericAuthServiceError("Failed parse partner info");return JSON.parse(r.result)}catch(e){const t=(0,h.errorToObject)(e);this.telemetry.sendTelemetry([p.CodespacesTelemetryEventNames.KeychainKeyFault,t])}return null}))}}t.CoreAuthService=f}.apply(t,r),void 0===o||(e.exports=o)},68314:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(9138),n(29793),n(75064)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebEditorAuthService=void 0;class s extends r.AuthService{constructor(e,t,r,s=new o.CoreAuthService(e,r,t)){super(e,t,r,s),this.partnerAuthInfo=s,this.getManagementPortalUrl=()=>i(this,void 0,void 0,(function*(){const e=yield this.getPartnerInfo(),t=(null==e?void 0:e.managementPortalUrl)||n.AUTH_REDIRECT_FALLBACK_URL;return new URL(t)})),this.redirectToLogin=e=>i(this,void 0,void 0,(function*(){this.preventInfiniteAuthLoop();let t=e?new URL(e):yield this.getManagementPortalUrl();"github.dev"!==location.host&&t.searchParams.append("host",location.host);const n=location.pathname+location.search+location.hash;n&&"/"!==n&&t.searchParams.set("redirect",n),t.searchParams.set("requestId",this.config.requestId),location.href=t.toString()})),this.validatePartnerInfo=e=>{if(!e.managementPortalUrl)throw new Error("No `managementPortalUrl` set.")},this.trace.createChild("core-auth"),this.addToDisposables(this.partnerAuthInfo)}getVscodeSettings(e){return e.vscodeSettings}getPartnerCredentials(e){return e.credentials[0]}}t.WebEditorAuthService=s}.apply(t,r),void 0===o||(e.exports=o)},66318:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818),n(76994),n(87678),n(64114),n(47500),n(70759),n(89036),n(5572),n(92647),n(2177),n(48802),n(52903)],o=function(e,t,n,r,o,i,s,d,l,u,p,h,f,v){"use strict";var m;Object.defineProperty(t,"__esModule",{value:!0}),t.createCodespacesCommands=t.CodespacesCommandIds=void 0,n=a(n),function(e){e.CodespacesTimeToInteractive="_codespaces.timeToInteractive",e.CodespacesReloadBrowserWindow="_codespaces.reloadBrowserWindow",e.MyCodespaces="_codespaces.embedder.myCodespaces",e.ConnectWorkspace="_codespaces.webeditor.connectWorkspace",e.UnregisterServiceWorker="_codespaces.embedder.unregisterServiceWorker",e.TimeToInteractive="_codespaces.timeToInteractive",e.ViewCreationLogs="_codespaces.viewCreationLog"}(m||(t.CodespacesCommandIds=m={}));t.createCodespacesCommands=(e,t,a,g,y,b)=>[{id:m.MyCodespaces,handler:n=>{(0,i.vscodeMenuClickHandler)(e.createChild("my-codespaces"),(()=>(0,s.getCodespacesUrl)(t)),null==n?void 0:n.openInSameTab)}},{id:m.CodespacesReloadBrowserWindow,handler:()=>{e.info(`command "${m.CodespacesReloadBrowserWindow}" is invoked'`),window.location.reload()}},{id:m.UnregisterServiceWorker,handler:()=>{e.info(`command "${m.UnregisterServiceWorker}" is invoked'`),(0,o.unregister)()}},{id:m.TimeToInteractive,handler:()=>{var t,n,r,o;a.main.markBlockEnd({id:d.PerformanceEventIds.EditorsToExtensionActivation,name:"editors to time to extensions"},!0),e.info(`command "${m.TimeToInteractive}" is invoked'`),a.main.markBlockEnd({id:d.PerformanceEventIds.TimeToInteractive,name:"time to interactive"},!0);const i=a.main.getBlockMeasure(d.PerformanceEventIds.TotalWorkbenchConnectionTime),s=a.main.getBlockMeasure(d.PerformanceEventIds.TimeToInteractive);let c,u;(null===(t=null==i?void 0:i.measure)||void 0===t?void 0:t.startTime)&&(null===(n=null==i?void 0:i.measure)||void 0===n?void 0:n.duration)&&(c=i.measure.startTime+i.measure.duration),(null===(r=null==s?void 0:s.measure)||void 0===r?void 0:r.startTime)&&(null===(o=null==s?void 0:s.measure)||void 0===o?void 0:o.duration)&&(u=s.measure.startTime+s.measure.duration),g.sendTelemetry([l.CodespacesTelemetryEventNames.TimeToInteractiveActionStop,{timeToWorkbench:c,timeToInteractive:u}]),g.sendPerformanceTelemetry()}},{id:m.ViewCreationLogs,handler:()=>c(void 0,void 0,void 0,(function*(){e.info(`command "${m.ViewCreationLogs}" is invoked'`);const t=new r.Emitter,o=new h.TerminalCommunicationProvider(t),i=new v.TerminalCommunicationAdapter(e.createChild("communication-adapter"),o,g);n.window.createTerminal({name:"GitHub Codespaces: Details",pty:{onDidWrite:t.event,open(){(0,u.pollUntilCodespaceConnectionReady)(y,b,g,e).then((t=>c(this,void 0,void 0,(function*(){(0,p.initializeDevTunnelProvider)(e,g,t),yield(0,f.connectSplashScreen)(i),i.startStreamingTerminal()}))))},close(){}}})}))}]}.apply(t,r),void 0===o||(e.exports=o)},41185:(e,t,n)=>{var r,o;r=[n,t,n(2947),n(89036),n(9138)],o=function(e,t,n,r,o){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.createWebEditorCommands=t.WebEditorCommandIds=void 0,function(e){e.ConnectWorkspace="_codespaces.webeditor.connectWorkspace",e.GetTarballProxyEndpoints="_remotehub.getTarballProxyEndpoints"}(i||(t.WebEditorCommandIds=i={}));t.createWebEditorCommands=(e,t,s,a)=>{let c="Unknown";null!=a&&(c=(0,n.refTypeToString)(a));return[{id:i.ConnectWorkspace,handler:n=>{var o;n.refType=null!==(o=n.refType)&&void 0!==o?o:c,null==s||s.webEditorAction(r.CodespacesTelemetryEventNames.WebEditorActionStop,n,e,t)}},{id:i.GetTarballProxyEndpoints,handler:()=>({"github.com":o.GITHUB_TARBALL_PROXY_URL})}]}}.apply(t,r),void 0===o||(e.exports=o)},89660:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(71633),n(59709),n(7336),n(88986),n(70759),n(33068),n(52100),n(92375),n(89148),n(60355),n(86092),n(9138),n(88097),n(89036),n(15419),n(21696),n(9159),n(84182),n(62851),n(59079),n(99481),n(38549)],o=function(e,t,n,r,o,i,s,l,u,p,h,f,v,m,g,y,b,S,w,C,_,T,P,E,k){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodespacesComponent=void 0,n=a(n),r=d(r);class I extends n.Component{constructor(e,t){var n,r,a;super(e,t),this.defaultCodespaceState=o.CodespaceStateWatcher.DefaultCodespaceState,this.isInitialConnection=!0,this.updateCodespaceState=(e,t)=>{this.setState(Object.assign(Object.assign({},this.state),{codespaceState:t,previousCodespaceState:e}))},this.onCodespaceStateChange=e=>c(this,void 0,void 0,(function*(){try{const[t,n,r]=e,{trace:o,codespaceStateWatcher:i}=this.props;if(o.info("onCodespaceStateChange: ",e),t)return this.componentDidCatch(t);const{codespaceInfo:s}=i;this.setState({codespaceState:n,previousCodespaceState:r,codespaceInfo:s})}catch(e){this.componentDidCatch(e)}})),this.componentDidCatch=e=>c(this,void 0,void 0,(function*(){const{telemetry:t,trace:n,authService:r,codespaceStateWatcher:o}=this.props,{codespaceState:a}=this.state,c=a;try{this.recordAppState();const a=(0,T.errorToObject)(e);o.stop();const d=g.HANDLED_WEB_ERROR_TYPES.some((t=>e instanceof t)),l=e instanceof s.HttpError&&(401===e.statusCode||402===e.statusCode||404===e.statusCode||g.HANDLED_HTTP_ERROR_MESSAGES.some((t=>{var n;return null===(n=e.message)||void 0===n?void 0:n.startsWith(t)}))),u=e instanceof v.ConnectedError?b.TelemetryResultTypes.Success:b.TelemetryResultTypes.Failure;if(this.isInitialConnection&&(t.sendTelemetry([b.CodespacesTelemetryEventNames.WebLoadActionStop,Object.assign(Object.assign({},a),{action:b.TelemetryActionTypes.Load,result:d||l?b.TelemetryResultTypes.UserError:u})]),this.isInitialConnection=!1),e instanceof v.ConnectedError)return n.verbose("Codespace connected"),void this.updateCodespaceState(c,i.CodespaceWorkspaceState.Connected);if(e instanceof v.DisconnectedError)return n.warning(e.message),void(0,f.setQueryParamFlag)(h.CodespacesQueryParams.AutoStart,!1);if(e instanceof s.HttpError&&401===e.statusCode)return n.verbose("signed out"),this.updateCodespaceState(c,i.CodespaceWorkspaceState.Error),void(yield r.signOut());if(e instanceof s.HttpError&&404===e.statusCode)return n.verbose("Codespace was deleted"),void this.updateCodespaceState(c,m.CodespaceStateInfo.Deleted);if(e instanceof s.ThrottlingApiError)return n.verbose("API throttling error hit"),void this.setState(Object.assign(Object.assign({},this.state),{previousCodespaceState:c,codespaceState:i.CodespaceWorkspaceState.Error,error:e}));if(e instanceof s.CodespacesPolicyViolationError)return n.verbose("Disallowed by Codespaces policy"),void(yield r.redirectToLogin());if(e instanceof s.OutdatedCodespaceStateError)return n.verbose("Codespace state is outdated"),void this.updateCodespaceState(c,e.state);if(e instanceof s.WorkbenchMountedTwiceError&&window.location.reload(),t.sendTelemetry([b.CodespacesTelemetryEventNames.WebCodespacesWorkbenchError,a]),e instanceof v.CodespacesPendingOperationError)return n.verbose("Codespace is updating"),void this.updateCodespaceState(c,m.CodespaceStateInfo.Updating);this.setState(Object.assign(Object.assign({},this.state),{previousCodespaceState:c,codespaceState:i.CodespaceWorkspaceState.Error,error:e}))}catch(e){const r=(0,T.errorToObject)(e,!0);n.error("error in did catch: ",r),t.sendTelemetry([b.CodespacesTelemetryEventNames.WebCodespacesWorkbenchError,r])}})),this.startCodespace=()=>c(this,void 0,void 0,(function*(){return yield this.props.performance.measure({id:l.PerformanceEventIds.StartCodespace,name:"start codespace"},(()=>c(this,void 0,void 0,(function*(){const{codespaceStateWatcher:e}=this.props;return yield e.startCodespace()}))))})),this.getCodespaceInfo=(e=!1)=>c(this,void 0,void 0,(function*(){try{const{codespaceStateWatcher:t}=this.props,{codespaceInfo:n,firstCodespaceInfoUpdatePromise:r}=t;return e&&n?n:(yield r,yield t.pollCodespace())}catch(e){return this.componentDidCatch(e),null}})),this.waitUntilCodespaceAvailable=e=>c(this,void 0,void 0,(function*(){const{codespaceStateWatcher:t}=this.props;e&&this.props.performance.main.markBlockStart({id:l.PerformanceEventIds.IdleToAvailable,name:"idle to available"},!0);const n=new Promise(((n,r)=>c(this,void 0,void 0,(function*(){const r=t=>c(this,void 0,void 0,(function*(){if(e)switch(null==t?void 0:t.state){case m.CodespaceStateInfo.Provisioning:return void e.update(E.ProgressOptions.ProvisioningCodespace);case m.CodespaceStateInfo.Starting:return void e.update(E.ProgressOptions.ResumingCodespace);case m.CodespaceStateInfo.ShuttingDown:return void e.update(E.ProgressOptions.ShuttingDown);case m.CodespaceStateInfo.Rebuilding:return void e.update(E.ProgressOptions.RebuildCodespace)}if(!t)return yield this.componentDidCatch(new Error("Failed to fetch the codespace"));const r=t.state;if([m.CodespaceStateInfo.Deleted,m.CodespaceStateInfo.Failed,m.CodespaceStateInfo.ShuttingDown,m.CodespaceStateInfo.Shutdown,m.CodespaceStateInfo.Unavailable].includes(r))return yield this.componentDidCatch(new s.OutdatedCodespaceStateError("The codespace is not in a state that can transition to available state.",r));r===m.CodespaceStateInfo.Available&&(e&&this.props.performance.main.markBlockEnd({id:l.PerformanceEventIds.IdleToAvailable,name:"idle to available"},!0),n(t))}));r(yield this.getCodespaceInfo()),t.onStateChange((e=>c(this,void 0,void 0,(function*(){const{codespaceInfo:e}=t;yield r(e)}))))}))));return n})),this.state={codespaceState:null!==(r=null===(n=this.props.initialCodespaceInfo)||void 0===n?void 0:n.state)&&void 0!==r?r:this.defaultCodespaceState,isDevPanel:!1,codespaceInfo:null!==(a=this.props.initialCodespaceInfo)&&void 0!==a?a:null,platformInfo:null,error:e.error,previousCodespaceState:null}}recordAppState(){const{telemetry:e}=this.props,{codespaceState:t,previousCodespaceState:n,error:r}=this.state;e.addContextProperties({"codespace-state":t,"previous-codespace-state":n}),e.recordAppState(t,r,(()=>!g.CODESPACE_IN_PROGRESS_STATES.includes(t)))}componentDidMount(){var e,t,n;const{telemetry:r,authService:o,error:a,trace:c,config:d,performance:p}=this.props;r.addContextProperty("has-initial-connection-info",!!(null===(e=this.props.initialCodespaceInfo)||void 0===e?void 0:e.connection)),r.addContextProperty("has-initial-tunnel-properties",!!(null===(n=null===(t=this.props.initialCodespaceInfo)||void 0===t?void 0:t.connection)||void 0===n?void 0:n.tunnelProperties)),S.featureFlags.initPromise.then((()=>{(0,k.registerServiceWorker)(c)})),a||(o.keepUserAuthenticated(),o.onEvent((e=>{if("signed-out"===e){if(this.state.codespaceState===m.CodespaceStateInfo.Shutdown||this.state.codespaceState===m.CodespaceStateInfo.ShuttingDown)throw new s.OutdatedCodespaceStateError("The codespace is not in an available state.",this.state.codespaceState);this.setState({previousCodespaceState:this.state.codespaceState,codespaceState:i.CodespaceWorkspaceState.Error,error:new s.AuthenticationError("Codespace disconnected.")})}})),Promise.all([o.getPartnerInfo(),d.fetch()]).then((([e])=>{const t=e;if(p.main.markBlockStart({id:l.PerformanceEventIds.TimeToFirstConnection,name:"time to connection"},!0),t){S.featureFlags.initialize(c.createChild("feature-flags"),t.featureFlags),r.addConfigContextProperties({codespaceId:t.codespaceId});const{codespaceId:e,credentials:n}=t;(0,u.setCurrentCodespaceId)(t.codespaceId);const{codespaceStateWatcher:i}=this.props;i.onStateChange(this.onCodespaceStateChange.bind(this)),o&&o.getCachedGithubToken().then((t=>{i.initialize(t,n[0].token,e),t&&this.props.codespacesAPI.getAnalyticsTrackingId(t).then((e=>{r.addContextProperty("analyticsTrackingId",e)}),(e=>{c.error("Failed to get analytics tracking id",e)}))})).catch(this.componentDidCatch)}c.verbose(`platform info found: ${!!t}`);const n=S.featureFlags.isEnabled(w.FeatureFlags.Developer,"Production"!==d.environment);if(this.setState({isDevPanel:n,platformInfo:t}),!t){throw o.authAttempts()>=o.MAX_AUTH_ATTEMPTS?new s.AuthenticationFatalError("Failed to connect to the codespace."):new s.AuthenticationError("Refreshing Authentication Session")}})).catch(this.componentDidCatch))}componentDidUpdate(){const{trace:e,authService:t}=this.props,{codespaceState:n,previousCodespaceState:r,error:o}=this.state;this.recordAppState(),(0,p.sideEffects)({queryParams:{isAutoStart:(0,f.getQueryParamFlag)(h.CodespacesQueryParams.AutoStart,!0),isAutoAuthRedirect:(0,f.getQueryParamFlag)(h.CodespacesQueryParams.AutoAuthRedirect,!0)},trace:e.createChild("side-effects"),codespaceState:n,previousCodespaceState:r,defaultCodespaceState:this.defaultCodespaceState,redirectToLogin:t.redirectToLogin,reloadWindow:()=>{location.reload()},startCodespace:this.startCodespace,error:o}).catch(this.componentDidCatch)}render(){const{trace:e}=this.props,{isDevPanel:t,codespaceState:o,previousCodespaceState:i}=this.state;if((0,C.isIncompatibleBrowserVersion)())return n.createElement(_.SplashScreenMessage,{message:C.unsupportedBrowserVersionMessage});this.recordAppState(),e.verbose(`render: "${o}", previous: "${i}"`);const s=(0,r.default)("cs-workbench-page",{"is-dev-panel":t});return n.createElement("div",{className:s},n.createElement(P.MaybeDevPanel,Object.assign({},this.props,{className:"cs-workbench-page__dev-panel",platformInfo:this.state.platformInfo,isDevPanel:t})),n.createElement("div",{className:(0,r.default)("cs-workbench-page__body")},n.createElement(y.WorkbenchLoader,Object.assign({},this.props,this.state,{trace:e.createChild("workbench-page"),onError:this.componentDidCatch,getCodespaceInfo:this.getCodespaceInfo,waitUntilCodespaceAvailable:this.waitUntilCodespaceAvailable,updateCodespaceState:this.updateCodespaceState,featureFlags:S.featureFlags}))))}}t.CodespacesComponent=I}.apply(t,r),void 0===o||(e.exports=o)},52100:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(86092),n(7336),n(88986)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sideEffects=void 0;t.sideEffects=e=>i(void 0,void 0,void 0,(function*(){const{queryParams:t,codespaceState:i,previousCodespaceState:s,redirectToLogin:a,startCodespace:c,trace:d,error:l,defaultCodespaceState:u,reloadWindow:p}=e;if(d.verbose(`check: "${i}"/"${s}"`),l instanceof o.AuthenticationError){if(!t.isAutoAuthRedirect||l instanceof o.AuthenticationFatalError)return;return s===n.CodespaceStateInfo.Available?void d.verbose("auto redirecting to login"):(d.verbose("auto redirecting to login"),yield a())}if(i===n.CodespaceStateInfo.Shutdown){if(!t.isAutoStart)return;if(s!==u)return;return d.verbose("autostarting the codespace"),yield c()}if(i===n.CodespaceStateInfo.Rebuilding){const e=[n.CodespaceStateInfo.Available,r.CodespaceWorkspaceState.Connected];if(s&&e.includes(s))return d.verbose("codespace started rebuilding, need to reload the window"),p()}}))}.apply(t,r),void 0===o||(e.exports=o)},88097:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(63696),n(29913),n(61973),n(86092),n(70759),n(9138),n(61680),n(92958),n(63352),n(25957),n(86280),n(5572),n(48959),n(90390),n(25569),n(92647),n(19417)],o=function(e,t,n,r,o,i,s,d,l,u,p,h,f,v,m,g,y,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkbenchLoader=void 0,n=a(n);t.WorkbenchLoader=e=>{var t,a,S,w,C;const{codespaceState:_,performance:T,telemetry:P,trace:E}=e;E.verbose(`render state: "${_}"`);const k="sessionType";let I;_===i.CodespaceStateInfo.Provisioning&&P.addContextProperty(k,"create"),_===i.CodespaceStateInfo.Starting&&P.addContextProperty(k,"resume");const O=t=>c(void 0,void 0,void 0,(function*(){return(0,r.assertDefined)(e.platformInfo,"No `platformInfo` found."),(0,r.assertDefined)(t,"No `codespaceInfo` found."),I||(yield(0,v.pollUntilCodespaceConnectionReady)(t,e.getCodespaceInfo,P,E),I=yield(0,m.getVSCodeConnectionOptions)(t,e.platformInfo,e.config)),I}));e.codespaceInfo&&e.platformInfo&&O(e.codespaceInfo).then((()=>{try{E.info("initialize service worker Dev Tunnel connection"),(0,r.assertDefined)(e.codespaceInfo,"No `codespaceInfo` found."),(0,y.postServiceWorkerMessage)({type:g.configureDevTunnelConnectionMessageType,payload:{codespaceInfo:e.codespaceInfo}})}catch(e){E.error("request for service worker connection failed",e)}})).catch((e=>E.verbose(`failed getting early connection options, will retry later. ${e}`)));let x=null;(0,l.isSplashScreen)(e)&&(x=n.createElement(p.SplashScreenState,Object.assign({},e,{trace:E.createChild("splash-screen")}))),E.verbose(`render splash screen: ${!!x}`);let A=null;if((0,u.isWorkbench)(e))if(e.telemetry.addContextProperty("mounting-with-connection-info",!!(null===(t=e.codespaceInfo)||void 0===t?void 0:t.connection)),e.telemetry.addContextProperty("mounting-with-tunnel-properties",!!(null===(S=null===(a=e.codespaceInfo)||void 0===a?void 0:a.connection)||void 0===S?void 0:S.tunnelProperties)),(0,b.initializeDevTunnelProvider)(E,e.telemetry,e.codespaceInfo),e.editor===o.IEditorType.jupyter)A=n.createElement(f.JupyterWorkbench,Object.assign({},e,{trace:E.createChild("jupyter-workbench"),tunnelProvider:(0,b.getDevTunnelProvider)()}));else P.addContextProperty("is-prebuild",!!(null===(w=e.codespaceInfo)||void 0===w?void 0:w.prebuild)),P.addContextProperty("has-devcontainer",!!(null===(C=e.codespaceInfo)||void 0===C?void 0:C.devcontainer_path)),A=n.createElement(h.CodespacesWorkbench,Object.assign({},e,{getConnectionOptions:O,domElementId:d.WORKBENCH_REACT_ROOT_ELEMENT_ID,performance:T.createGroup("workbench",s.PerformanceGroupIds.WorkbenchComponent),trace:E.createChild("workbench")}));return E.verbose(`render workbench: ${!!A}`),n.createElement(n.Fragment,null,x,A)}}.apply(t,r),void 0===o||(e.exports=o)},59079:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(71633),n(17114),n(5e4),n(45562),n(33800),n(14294)],o=function(e,t,n,r,o,i,s,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevPanel=t.MaybeDevPanel=void 0,n=a(n),r=c(r);t.MaybeDevPanel=e=>{const{isDevPanel:t}=e;if(!t)return null;const{id:r="cs-dev-panel-ls-key"}=e;return n.createElement(l,Object.assign({},e,{id:r}))};class l extends o.DevPanelToggleComponent{render(){const{platformInfo:e,className:t,config:o,performance:a,trace:c}=this.props,{isOn:l}=this.state,u=o.environment,p=l?"⬆":"⬇",h=l?"collapse panel":"expand panel",f=(0,r.default)(`cs-dev-panel ${t}`,{"is-hidden":!l});return n.createElement("div",{className:f},n.createElement(i.DevPanelHeader,{trace:c,onClick:this.onToggle,environment:u,performance:a,platformInfo:e}),n.createElement("div",{className:"cs-dev-panel__body"},n.createElement(s.DevPanelSuspendSection,Object.assign({},this.props)),n.createElement(d.DevPanelConnectSection,{platformInfo:e})),n.createElement("div",{className:"cs-dev-panel__toggle-button",onClick:this.onToggle,title:h,"aria-hidden":!0},p))}}t.DevPanel=l}.apply(t,r),void 0===o||(e.exports=o)},93111:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(63696)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevPanelConnection=void 0,n=a(n);t.DevPanelConnection=()=>n.createElement("div",{title:"Dev Tunnels Connection.",className:"cs-dev-panel-header__section cs-dev-panel-header__emoji cs-dev-panel-header__section--text"},"🐟 🔌")}.apply(t,r),void 0===o||(e.exports=o)},5e4:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(63696),n(46952),n(9138),n(54856),n(93111),n(60945)],o=function(e,t,n,r,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevPanelHeader=void 0,n=a(n);const c=e=>{switch(e){case o.LOADING_ENVIRONMENT_STAGE:return"⌛";case"local":return"🧑‍💻";case"Development":return"🚧";case"Staging":return"🏗";case"Production":return"📣";case"test":return"🧪"}};class d extends n.Component{constructor(e){super(e),this.state={connection:null}}render(){const{environment:e,onClick:t,performance:o}=this.props,a=(e=>"Staging"===e?"pre-production":e)(e);return n.createElement("div",{className:"cs-dev-panel-header cs-dev-panel__header",onMouseUp:t,"aria-hidden":!0},n.createElement(r.DevPanelHeaderEmoji,{emoji:c(e),title:`env: ${a}`}),n.createElement(s.DevPanelConnection,null),n.createElement(i.DevPanelHeaderPerformance,{performance:o}))}}t.DevPanelHeader=d}.apply(t,r),void 0===o||(e.exports=o)},46952:function(e,t,n){var r,o,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(71633)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevPanelHeaderEmoji=void 0,n=i(n),r=i(r);t.DevPanelHeaderEmoji=e=>{const{title:t,emoji:o,isCorner:i}=e,s=(0,r.default)({"is-corner":i});return n.default.createElement("span",{title:t,className:`cs-dev-panel-header__section cs-dev-panel-header__emoji ${s}`},o)}}.apply(t,r),void 0===o||(e.exports=o)},54856:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(63696),n(29913),n(70759),n(8002)],o=function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevPanelHeaderPerformance=void 0,n=a(n);t.DevPanelHeaderPerformance=e=>{const{performance:t}=e,s=t.getBlockMeasure(o.PerformanceGroupIds.Start);(0,r.assertDefined)(s,"No `start` performance block found.");const{measure:a}=s,{startTime:c}=a;return n.createElement("span",{className:"cs-dev-panel-header__section"},n.createElement(i.PerformanceSection,{title:"time to javascript",text:`🎨 ${(c/1e3).toFixed(2)}s`}),n.createElement(i.PerformanceBlock,{emoji:"🔧",performance:t,title:"vscode server startup time (server port forwarding)",startEvent:{id:o.PerformanceEventIds.VSCodeServerStartupServerStart,type:"start"},endEvent:{id:o.PerformanceEventIds.VSCodeServerStartupServerTcpPortForwarding,type:"end"},groupId:o.PerformanceGroupIds.VSCodeServerStartup}),n.createElement(i.PerformanceBlock,{emoji:"📡",performance:t,title:"pure connection time (from vscode requested connection to connected)",startEvent:{id:o.PerformanceEventIds.PureWorkbenchConnectionTime,type:"start"},endEvent:{id:o.PerformanceEventIds.PureWorkbenchConnectionTime,type:"end"},groupId:o.PerformanceGroupIds.PureWorkbenchConnectionTimeGroup}),n.createElement(i.PerformanceBlock,{emoji:"🛰️",performance:t,title:"total connection time (from vscode workbench created to all websockets connected)",startEvent:{id:o.PerformanceEventIds.TotalWorkbenchConnectionTime,type:"start"},endEvent:{id:o.PerformanceEventIds.TotalWorkbenchConnectionTime,type:"end"},groupId:o.PerformanceGroupIds.WebSocketFactoriesConnection}),n.createElement(i.PerformanceBlock,{emoji:"📖",performance:t,isFullTime:!0,title:"total time to editors (from page load to be able to edit)",startEvent:{id:o.PerformanceEventIds.PureWorkbenchConnectionTime,type:"start"},endEvent:{id:o.PerformanceEventIds.TotalWorkbenchConnectionTime,type:"end"},groupId:o.PerformanceGroupIds.WorkbenchComponent}),n.createElement(i.PerformanceBlock,{emoji:"🧩",performance:t,isFullTime:!0,title:"total time to extensions (from page load to GHCS extension available)",startEvent:{id:o.PerformanceEventIds.PureWorkbenchConnectionTime,type:"start"},endEvent:{id:o.PerformanceEventIds.InitTimeToRemoteExtensions,type:"end"},groupId:o.PerformanceGroupIds.Start}))}}.apply(t,r),void 0===o||(e.exports=o)},8002:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(71633),n(54349),n(29913),n(35403)],o=function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceBlock=t.PerformanceSection=void 0,n=a(n),r=c(r);t.PerformanceSection=e=>{const{title:t,text:r,children:o,className:i=""}=e,s=`cs-dev-panel-header__section cs-dev-panel-header__emoji ${i}`;return n.createElement("div",{className:s,title:t},n.createElement("div",{style:{float:"left"}},r),o)};class s extends n.Component{constructor(e,t={}){super(e),this.state=t,this.getText=()=>{const{emoji:e,isFullTime:t}=this.props,{startTime:n,endTime:r}=this.state;if(!n)return"";if(void 0===r)return"⌛";return`${e} ${((t?r:r-n)/1e3).toFixed(2)}s`},this.getTitle=()=>{const{title:e,isFullTime:t}=this.props,{startTime:n,endTime:r}=this.state;if(void 0===n||void 0===r)return e;const o=t?0:n;return`${e} [${Math.round(o)} - ${Math.round(r)}]`},this.logWaterfall=()=>{const{groupId:e,performance:t}=this.props,n=t.getBlockMeasure(e);n?(0,o.logPerformanceWaterfall)(n):console.error(`No "${e}" waterfall found.`)};const{performance:n,startEvent:r,endEvent:s}=e;n.onEvent(r,(({measure:e})=>{this.setState({startTime:e.startTime})})),n.onEvent(s,(({measure:e})=>{const{duration:t}=e,r=n.main.getBlockStartTime(s.id);(0,i.assertDefined)(r,"No startTime found."),this.setState({endTime:r+t})}))}render(){const{startTime:e,endTime:o}=this.state;if(void 0===e)return null;const i=(0,r.default)("cs-dev-panel-header-perf-block",{"is-ready":void 0!==o});return n.createElement(t.PerformanceSection,{className:i,title:this.getTitle(),text:this.getText()},n.createElement("div",{className:"cs-dev-panel-header-perf-block__controls"},n.createElement("button",{onClick:this.logWaterfall,className:"cs-dev-panel__input cs-dev-panel__input--button cs-dev-panel-header-perf-block__console-button",title:"log time breakdown to console"},"..")))}}t.PerformanceBlock=s}.apply(t,r),void 0===o||(e.exports=o)},86166:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(71633),n(17114),n(90709)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevPanelSection=void 0,n=a(n),r=c(r);class i extends o.DevPanelToggleComponent{render(){const{title:e,children:t}=this.props,{isOn:o}=this.state,i=(0,r.default)("cs-dev-panel-section",{"is-open":o});return n.createElement("div",{className:i},n.createElement("div",{className:"cs-dev-panel-section__title",onClick:this.onToggle,"aria-hidden":!0},e),n.createElement("div",{className:"cs-dev-panel-section__body"},t))}}t.DevPanelSection=i}.apply(t,r),void 0===o||(e.exports=o)},79605:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.devPanelLocalStorage=void 0;const n="cs-dev-panel-section-states";t.devPanelLocalStorage=new class{constructor(){this.getData=()=>{try{const e=localStorage.getItem(n)||"{}";return JSON.parse(e)}catch(e){return{}}},this.saveData=e=>{try{localStorage.setItem(n,JSON.stringify(e))}catch(e){localStorage.setItem(n,"{}")}},this.getItem=e=>this.getData()[e],this.setItem=(e,t)=>{const n=this.getData();return n[e]=t,this.saveData(n),this},this.deleteItem=e=>{const t=this.getData();delete t[e],this.saveData(t)}}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},45562:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(63696),n(86166)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevPanelSuspendSection=void 0,n=a(n);class o extends n.Component{constructor(e){super(e),this.onSuspendCodespace=()=>c(this,void 0,void 0,(function*(){const{platformInfo:e,codespacesAPI:t,authService:n}=this.props;if(!e)return null;if(n){const e=yield null==n?void 0:n.getCachedGithubToken(),r=yield t.getCodespaceInfo(e);yield t.suspendCodespace(r,e)}})),this.getCodespaceState=()=>{const{codespaceState:e,archiveStateCheckCount:t}=this.state;if(""===e)return"";let r="Codespace State: "+e;return n.createElement("div",null,n.createElement("span",null,r)," ",n.createElement("span",null,"(Remaining retries: ",t,")"))},this.state={codespaceState:"",archiveStateCheckCount:0}}render(){const{platformInfo:e}=this.props;return e?n.createElement(r.DevPanelSection,{id:"dev-panel-suspend--section",title:"Codespace Commands"},n.createElement("button",{className:"cs-dev-panel__input cs-dev-panel__input--button one",onClick:this.onSuspendCodespace},"😴  Stop"),this.getCodespaceState()):null}}t.DevPanelSuspendSection=o}.apply(t,r),void 0===o||(e.exports=o)},17114:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(63696),n(79605)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevPanelToggleComponent=void 0,n=a(n);class o extends n.Component{constructor(e){super(e),this.onToggle=e=>{const{id:t,isAccountForChildEvents:n}=this.props,{isOn:o}=this.state;if(!n&&e.currentTarget!==e.target)return;const i=!o;r.devPanelLocalStorage.setItem(t,i),this.onChange(i),this.setState({isOn:i})};const{isOnByDefault:t,id:n}=e;let o=r.devPanelLocalStorage.getItem(n);t&&null==o&&(o="true");const i="true"==`${o}`;this.onChange(i),this.state={isOn:i}}onChange(e){}}t.DevPanelToggleComponent=o}.apply(t,r),void 0===o||(e.exports=o)},33800:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(63696),n(86166),n(42639)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevPanelConnectSection=void 0,n=a(n),o=a(o);const i="/";class s extends n.Component{constructor(e){super(e),this.onEndpointChange=e=>{const{value:t=i}=e.target;this.setState({endpoint:t.trim()})},this.onTargetChanged=()=>{this.setState({isNewTab:!this.state.isNewTab})},this.state={endpoint:i,isNewTab:!0}}render(){const{platformInfo:e}=this.props;if(!e)return null;const{isNewTab:t,endpoint:s}=this.state,a=t?"_blank":void 0;return n.createElement(r.DevPanelSection,{id:"dev-panel-connect-section",title:"Connect to Codespace"},n.createElement("form",{action:o.encode(s||i),method:"POST",target:a},n.createElement("p",null,n.createElement("label",{htmlFor:"codespace-connection"},"Connection endpoint:")),n.createElement("input",{type:"text",className:"cs-dev-panel__input",name:"codespace-connection",placeholder:"Codespace endpoint",onChange:this.onEndpointChange,value:this.state.endpoint}),n.createElement("p",null,n.createElement("input",{id:"codespace-connection-new-tab",type:"checkbox",className:"cs-dev-panel__input",onChange:this.onTargetChanged,checked:t}),n.createElement("label",{htmlFor:"codespace-connection-new-tab"},"new tab")," "),n.createElement("input",{type:"text",name:"partnerInfo",defaultValue:JSON.stringify(e),hidden:!0}),n.createElement("p",{className:"cs-dev-panel-section__footer"},n.createElement("input",{className:"cs-dev-panel__input cs-dev-panel__input--button",type:"submit",value:"Submit"}))))}}t.DevPanelConnectSection=s}.apply(t,r),void 0===o||(e.exports=o)},71742:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(63696)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonLink=void 0,n=a(n);t.ButtonLink=e=>{const{className:t="",text:r,onClick:o}=e,[i,s]=n.useState(!1);if(!o)throw new Error("Either `url` or `onClick` properties should be set.");const a=`button-link ${t}`.trim(),c=()=>{s(!0),o()};return i?n.createElement("progress",{className:"circular-progress"}):n.createElement("button",{className:a,onClick:c},r)}}.apply(t,r),void 0===o||(e.exports=o)},4775:function(e,t,n){var r,o,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(71633),n(63696),n(9138),n(72348),n(83073)],o=function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreen=void 0,n=i(n),r=i(r);t.SplashScreen=e=>{const t=r.default.useMemo((()=>o.tipEntries[Math.floor(4*Math.random())]),[]);return r.default.createElement("div",{className:"cs-splash-screen"},r.default.createElement("div",{className:"container"},r.default.createElement(a.SplashScreenTerminalPane,null," ",e.children," "),r.default.createElement("div",{className:"bottom-hint"},r.default.createElement("div",{className:"learn-more"},r.default.createElement(s.SplashScreenIcon,{type:"learn-more"}),r.default.createElement("h4",{className:(0,n.default)("f4","color-text-warning","text-normal")},"Tip"),r.default.createElement("h4",{id:"tip-entry-text",className:(0,n.default)("f4","color-text-primary","text-normal")},null==t?void 0:t.text),r.default.createElement("a",{id:"tip-entry-link",className:(0,n.default)("f4","Link"),href:null==t?void 0:t.url,rel:"noopener noreferrer",target:"_blank"},"Learn more")))))}}.apply(t,r),void 0===o||(e.exports=o)},61944:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(63696),n(61973),n(88986),n(92375),n(16336),n(89148),n(71742),n(72348),n(86092)],o=function(e,t,n,r,o,i,s,d,l,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenGenericErrorMessage=void 0,n=a(n);t.SplashScreenGenericErrorMessage=e=>{var t;const a=n.createElement("a",{href:"https://www.githubstatus.com/"},"check if Codespaces is having any issues"),h=()=>c(void 0,void 0,void 0,(function*(){const{platformInfo:t,codespacesAPI:n,authService:r}=e;if(!t)return null;if(r){const e=yield r.getCachedGithubToken(),t=yield n.getCodespaceInfo(e);yield n.suspendCodespace(t,e),(0,d.setQueryParamFlag)(i.CodespacesQueryParams.AutoStart,!0)}})),f=e.error instanceof o.NetworkError?void 0:n.createElement(n.Fragment,null,n.createElement("h5",null,"If this error persists,"," ",e.error instanceof o.UserControlledError?n.createElement("a",{href:"https://github.com/github-early-access/codespaces-enterprise/tree/main/feature-details/private-networking"},"try our private networking documentation"):n.createElement("a",{href:"https://aka.ms/codespaces-support"},"contact support")," or ",a,"."));return n.createElement("div",{className:"single-terminal cs-splash-screen pt-8 px-4"},n.createElement("div",{className:"container"},n.createElement(u.SplashScreenIcon,{type:"static-screen-icon"}),n.createElement("div",{className:"static-screen-message"},n.createElement("h4",null,(()=>{if(e.error instanceof o.ThrottlingApiError)return"We are having trouble fetching your codespace information!";if(e.error instanceof o.JupyterError)return"We were unable to connect to your codespace in JupyterLab!";if(e.error instanceof o.AuthenticationFatalError)return"We were unable to authenticate your connection!";if(e.error instanceof o.NetworkError)return"Oh no, it looks like you are offline!";if(e.error instanceof o.UserControlledError)switch(e.error.message){case p.FailureReason.SubnetOutOfIps:return"The subnet configured to use with this codespace does not have an IP available";case p.FailureReason.ServiceUnreachable:return"Unable to reach the Codespaces service";case p.FailureReason.AzureStorageUnreachable:return"Unable to reach Azure Storage";case p.FailureReason.LiveshareServiceUnreachable:return"Unable to reach the Liveshare service";case p.FailureReason.LiveshareServiceBusUnreachable:return"Unable to reach the Azure Service Bus";case p.FailureReason.TunnelsServiceUnreachable:return"Unable to reach the Liveshare service";case p.FailureReason.VscodeUnreachable:return"Unable to reach the VS Code";default:return"Something went wrong with the configured private network"}return"Oh no, something unexpected went wrong!"})()),n.createElement("div",{className:"restart-details"},(()=>{var t,r,i;if(e.error instanceof o.JupyterError)return n.createElement("h5",{className:"jupyter-fix-title"},"Please ensure JupyterLab is installed on the container. See our"," ",n.createElement("a",{href:"https://docs.github.com/codespaces/troubleshooting/troubleshooting-your-connection-to-github-codespaces#unable-to-connect-to-your-codespace-in-jupyterlab",target:"_blank"},"troubleshooting documentation")," ","for additional help, including JupyterLab installation instructions.");let s="Restarting your codespace may fix this error.";if("Failed to connect to relay url Code: 1006 Reason: "===(null===(t=e.error)||void 0===t?void 0:t.message)&&(s="Refreshing your window may fix this error."),(null===(i=null===(r=e.error)||void 0===r?void 0:r.message)||void 0===i?void 0:i.startsWith("Request failed with status code 40"))&&(s="Clearing your cookies and restarting your codespace may fix this error."),e.error instanceof o.ThrottlingApiError&&(s="Try waiting a couple minutes and refreshing."),e.error instanceof o.AuthenticationFatalError&&(s="Try reloading the window."),e.error instanceof o.NetworkError)return n.createElement("h5",null,"Make sure you are connected to the internet and try again. ",n.createElement("br",null),"If you verified that your connection is fine, your firewall might be blocking the connection. Please refer to"," ",n.createElement("a",{href:"https://docs.github.com/en/codespaces/troubleshooting/troubleshooting-your-connection-to-github-codespaces#browser-cannot-connect",target:"_blank"},"this troubleshooting guide")," ","to diagnose the issue.",n.createElement("br",null));if(e.error instanceof o.UserControlledError)switch(e.error.message){case p.FailureReason.SubnetOutOfIps:s="Try increasing the size of the subnet or stopping unused codespaces";break;case p.FailureReason.ServiceUnreachable:s="Verify that the firewall rules allow traffic on port 443 to *.online.visualstudio.com.";break;case p.FailureReason.AzureStorageUnreachable:s='Verify that the firewall rules allow traffic on port 443 and 445 to the "Storage" service tag.';break;case p.FailureReason.LiveshareServiceUnreachable:s="Verify that the firewall rules allow traffic on port 443 to prod.liveshare.vsengsaas.visualstudio.com.";break;case p.FailureReason.LiveshareServiceBusUnreachable:s="Verify that the firewall rules allow traffic on port 443 to *.servicebus.windows.net.";break;case p.FailureReason.TunnelsServiceUnreachable:s="Verify that the firewall rules allow traffic on port 443 to *.devtunnels.ms and *.rel.tunnels.api.visualstudio.com.";break;case p.FailureReason.VscodeUnreachable:s="Verify that the firewall rules allow traffic on port 443 to update.code.visualstudio.com and *.devtunnels.ms and az764295.vo.msecnd.net.";break;default:s="A configuration issue with the configured private network is preventing this codespace from starting."}return n.createElement("h5",null,s)})(),e.error instanceof o.NetworkError,f),n.createElement("div",{className:"action-buttons d-flex mx-auto text-center"},(()=>{var t;let r=n.createElement(l.ButtonLink,{text:"Restart and reconnect to codespace",onClick:h});if(("Failed to connect to relay url Code: 1006 Reason: "===(null===(t=e.error)||void 0===t?void 0:t.message)||e.error instanceof o.ThrottlingApiError||e.error instanceof o.AuthenticationFatalError||e.error instanceof o.NetworkError)&&(r=n.createElement(l.ButtonLink,{text:"Retry connecting to the codespace",onClick:()=>location.reload()})),e.error instanceof o.AuthenticationFatalError){const t=(0,s.codespaceStateToButton)(e.codespaceState,e.authService.localStorageId,e.error);t&&(r=n.createElement(l.ButtonLink,{text:t.text,onClick:t.onClick}))}return r})(),(()=>{let t,o="Open in ";return e.editor!==r.IEditorType.jupyter?null:(o+="Visual Studio Code",t=r.IEditorType.vscode,n.createElement(l.ButtonLink,{text:o,onClick:()=>{(e=>{e===r.IEditorType.jupyter?(0,d.setQueryParamFlag)(i.CodespacesQueryParams.Editor,r.IEditorType.jupyter):(0,d.deleteQueryParamFlag)(i.CodespacesQueryParams.Editor)})(t)}}))})()),n.createElement("div",{className:"error-details"},n.createElement("h5",null,"Error details:"),n.createElement("h6",null,(null===(t=e.error)||void 0===t?void 0:t.message)+(()=>{var t,n,r;return"Failed to connect to relay url Code: 1006 Reason: "===(null===(t=e.error)||void 0===t?void 0:t.message)?"(connection rejected by browser)":(null===(r=null===(n=e.error)||void 0===n?void 0:n.message)||void 0===r?void 0:r.startsWith("Request failed with status code 40"))?"(authentication error)":""})()||"Error.")))))}}.apply(t,r),void 0===o||(e.exports=o)},72348:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(63696),n(83141)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenIcon=void 0,n=a(n);t.SplashScreenIcon=e=>{const{type:t}=e;switch(t){case"static-screen-icon":return n.createElement("svg",{width:"96",height:"96",viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",fill:"var(--color-icon-tertiary)",d:"M 48 0 C 21.48 0 0 21.48 0 48 c 0 21.24 13.74 39.18 32.82 45.54 c 2.4 0.42 3.3 -1.02 3.3 -2.28 c 0 -1.14 -0.06 -4.92 -0.06 -8.94 c -12.06 2.22 -15.18 -2.94 -16.14 -5.64 c -0.54 -1.38 -2.88 -5.64 -4.92 -6.78 c -1.68 -0.9 -4.08 -3.12 -0.06 -3.18 c 3.78 -0.06 6.48 3.48 7.38 4.92 c 4.32 7.26 11.22 5.22 13.98 3.96 c 0.42 -3.12 1.68 -5.22 3.06 -6.42 c -10.68 -1.2 -21.84 -5.34 -21.84 -23.7 c 0 -5.22 1.86 -9.54 4.92 -12.9 c -0.48 -1.2 -2.16 -6.12 0.48 -12.72 c 0 0 4.02 -1.26 13.2 4.92 c 3.84 -1.08 7.92 -1.62 12 -1.62 c 4.08 0 8.16 0.54 12 1.62 c 9.18 -6.24 13.2 -4.92 13.2 -4.92 c 2.64 6.6 0.96 11.52 0.48 12.72 c 3.06 3.36 4.92 7.62 4.92 12.9 c 0 18.42 -11.22 22.5 -21.9 23.7 c 1.74 1.5 3.24 4.38 3.24 8.88 c 0 6.42 -0.06 11.58 -0.06 13.2 c 0 1.26 0.9 2.76 3.3 2.28 A 48.078 48.078 90 0 0 96 48 c 0 -26.52 -21.48 -48 -48 -48 z"}));case"learn-more":return n.createElement("svg",{className:"icon",width:"12",height:"16",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 1.5C3.637 1.5 2 3.19 2 5.25C2 6.234 2.424 6.875 2.984 7.554L3.198 7.807C3.421 8.071 3.668 8.363 3.871 8.655C4.155 9.066 4.408 9.551 4.492 10.145C4.51202 10.338 4.45649 10.5312 4.33707 10.6841C4.21766 10.837 4.04365 10.9376 3.85158 10.9649C3.65951 10.9922 3.46434 10.9441 3.30704 10.8305C3.14974 10.717 3.04256 10.5469 3.008 10.356C2.968 10.074 2.845 9.809 2.638 9.509C2.46879 9.27344 2.2879 9.04649 2.096 8.829C2.012 8.729 1.923 8.624 1.828 8.509C1.201 7.75 0.5 6.766 0.5 5.25C0.5 2.31 2.863 0 6 0C9.137 0 11.5 2.31 11.5 5.25C11.5 6.766 10.799 7.75 10.172 8.509C10.077 8.624 9.988 8.729 9.904 8.828C9.697 9.073 9.521 9.281 9.363 9.509C9.155 9.809 9.033 10.074 8.993 10.356C8.97908 10.4535 8.94609 10.5473 8.89592 10.6321C8.84574 10.7168 8.77936 10.7909 8.70057 10.85C8.62178 10.9091 8.53212 10.9521 8.43671 10.9765C8.3413 11.001 8.24201 11.0064 8.1445 10.9925C8.04699 10.9786 7.95318 10.9456 7.86843 10.8954C7.78367 10.8452 7.70962 10.7789 7.65052 10.7001C7.59142 10.6213 7.54841 10.5316 7.52396 10.4362C7.4995 10.3408 7.49408 10.2415 7.508 10.144C7.592 9.551 7.845 9.066 8.129 8.655C8.332 8.363 8.579 8.071 8.802 7.807C8.877 7.719 8.949 7.634 9.015 7.554C9.576 6.875 10 6.234 10 5.25C10 3.19 8.363 1.5 6 1.5ZM4 15.25C4 15.0511 4.07902 14.8603 4.21967 14.7197C4.36032 14.579 4.55109 14.5 4.75 14.5H7.25C7.44891 14.5 7.63968 14.579 7.78033 14.7197C7.92098 14.8603 8 15.0511 8 15.25C8 15.4489 7.92098 15.6397 7.78033 15.7803C7.63968 15.921 7.44891 16 7.25 16H4.75C4.55109 16 4.36032 15.921 4.21967 15.7803C4.07902 15.6397 4 15.4489 4 15.25ZM3.75 12C3.55109 12 3.36032 12.079 3.21967 12.2197C3.07902 12.3603 3 12.5511 3 12.75C3 12.9489 3.07902 13.1397 3.21967 13.2803C3.36032 13.421 3.55109 13.5 3.75 13.5H8.25C8.44891 13.5 8.63968 13.421 8.78033 13.2803C8.92098 13.1397 9 12.9489 9 12.75C9 12.5511 8.92098 12.3603 8.78033 12.2197C8.63968 12.079 8.44891 12 8.25 12H3.75Z",fill:"#DBAB09"}));default:return n.createElement(n.Fragment,null)}}}.apply(t,r),void 0===o||(e.exports=o)},84182:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(71633),n(71742),n(72348)],o=function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenMessage=t.MaybeButton=void 0,n=a(n),r=c(r);t.MaybeButton=e=>e.button?n.createElement(o.ButtonLink,{text:e.button.text,onClick:e.button.onClick}):null;t.SplashScreenMessage=e=>{const o=(0,r.default)("cs-splash-screen","pt-8");return n.createElement("div",{className:o},n.createElement("div",{className:"container"},n.createElement(i.SplashScreenIcon,{type:"static-screen-icon"}),n.createElement("div",{className:"static-screen-message"},n.createElement("h4",null,e.message),n.createElement(t.MaybeButton,Object.assign({},e)))))}}.apply(t,r),void 0===o||(e.exports=o)},81029:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(26436),n(4775),n(59172)],o=function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenShell=void 0,n=a(n),i=c(i);t.SplashScreenShell=e=>{const t=n.useMemo((()=>new r.SplashScreenConnectionAdapter),[]),{codespace:s,codespaceState:a,communicationAdapter:c,onError:d}=e;return n.createElement(o.SplashScreen,{codespace:s,onError:d},n.createElement(i.default,{connection:t,codespaceState:a,communicationAdapter:c}))}}.apply(t,r),void 0===o||(e.exports=o)},63352:function(e,t,n){var r,o,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(29913),n(29913),n(7336),n(89148),n(86092),n(92375),n(88986),n(84182),n(81029),n(61944),n(53149),n(16336),n(26436),n(85864),n(81288),n(48802),n(89036),n(5572),n(92647)],o=function(e,t,n,r,o,s,a,c,d,l,u,p,h,f,v,m,g,y,b,S,w,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenState=void 0,n=i(n);t.SplashScreenState=e=>{const{codespaceState:t,previousCodespaceState:i,error:_,trace:T,telemetry:P,codespaceInfo:E,getCodespaceInfo:k,performance:I,onError:O,authService:x}=e,A=n.default.useMemo((()=>{const e=new y.SplashScreenCommunicationProvider;return{communicationAdapter:new g.SplashScreenCommunicationAdapter(T.createChild("communication-adapter"),I,e,(0,o.randomString)(),P),connectionAdapter:new m.SplashScreenConnectionAdapter}}),[]);switch(P.addContextProperty("last-splash-screen-state",t),P.sendTelemetry([S.CodespacesTelemetryEventNames.WebSplashScreenStateTransition,{currentState:t,previousState:i,error:_}]),t){case s.CodespaceWorkspaceState.Error:if(_ instanceof l.AuthenticationFatalError)T.warning("failed after multiple auth, lock auto auth redirect"),(0,a.setQueryParamFlag)(d.CodespacesQueryParams.AutoAuthRedirect,!1);else if(_ instanceof l.AuthenticationError)return A.communicationAdapter.showConnecting(),n.default.createElement(p.SplashScreenShell,{codespace:void 0,codespaceState:t,communicationAdapter:A.communicationAdapter,onError:O});break;case c.CodespaceStateInfo.ShuttingDown:if(i===c.CodespaceStateInfo.Available){T.warning("shutting down after available state, lock auto start");const e=(0,a.getQueryParamFlag)(d.CodespacesQueryParams.AutoStart);(0,a.setQueryParamFlag)(d.CodespacesQueryParams.AutoStart,!!e)}break;case c.CodespaceStateInfo.Shutdown:(0,a.getQueryParamFlag)(d.CodespacesQueryParams.AutoStart)&&(0,a.deleteQueryParamFlag)(d.CodespacesQueryParams.AutoStart);break;case c.CodespaceStateInfo.Created:case c.CodespaceStateInfo.Awaiting:case c.CodespaceStateInfo.Starting:return A.communicationAdapter.showStarting(),n.default.createElement(p.SplashScreenShell,{codespace:null!=E?E:void 0,codespaceState:t,communicationAdapter:A.communicationAdapter,onError:O});case c.CodespaceStateInfo.Failed:case c.CodespaceStateInfo.Rebuilding:case c.CodespaceStateInfo.Provisioning:case c.CodespaceStateInfo.Available:return(0,r.assertDefined)(E,"No `codespaceInfo` found."),A.communicationAdapter.showConnecting(),t!==c.CodespaceStateInfo.Available&&((0,w.pollUntilCodespaceConnectionReady)(E,k,P,T).then((t=>{(0,C.initializeDevTunnelProvider)(T,e.telemetry,t),(0,b.connectSplashScreen)(A.communicationAdapter)})).catch((e=>{T.warning("cannot create splash screen connection",e)})),T.verbose("rendering creation logs")),n.default.createElement(p.SplashScreenShell,{codespace:E,codespaceState:t,communicationAdapter:A.communicationAdapter,onError:O});case c.CodespaceStateInfo.Queued:return A.communicationAdapter.showConnecting(),n.default.createElement(p.SplashScreenShell,{codespace:void 0,codespaceState:t,communicationAdapter:A.communicationAdapter,onError:O});case s.CodespaceWorkspaceState.Unknown:return n.default.createElement(u.SplashScreenMessage,{message:(0,f.codespaceStateToMessage)(t,_),button:void 0})}return _?n.default.createElement(h.SplashScreenGenericErrorMessage,Object.assign({},e)):n.default.createElement(u.SplashScreenMessage,{message:(0,f.codespaceStateToMessage)(t,_),button:(0,v.codespaceStateToButton)(t,x.localStorageId,_,e.codespaceStateWatcher)})}}.apply(t,r),void 0===o||(e.exports=o)},83073:function(e,t,n){var r,o,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenTerminalPane=void 0,n=i(n);t.SplashScreenTerminalPane=e=>n.default.createElement("div",{className:"terminal-pane"},e.children)}.apply(t,r),void 0===o||(e.exports=o)},59172:function(e,t,n){var r,o,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(71633),n(60680),n(24887),n(2625),n(86092),n(6013)],o=function(e,t,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenWithTerminals=t.XTerminal=void 0,n=i(n),r=i(r);class d extends n.default.Component{render(){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:(0,r.default)(this.props.className,"terminal-container")},n.default.createElement("div",{id:`js-xterm-${this.props.id}`,className:"codespaces-terminal"})))}}t.XTerminal=d;class l{constructor(e,t){this.xterm=e,this.communicationAdapter=t,this.viewLogsStr="View logs",this.hideLogsStr="Hide logs",this.troubleShootingGuide="Check troubleshooting guide."}provideLinks(e,t){t(this.getLink(e))}getLink(e){const t=e-1,n=this.xterm.buffer.active.getLine(t);if(!n)return[];const r=n.translateToString(!0);if(r.includes(this.viewLogsStr)||r.includes(this.hideLogsStr)){const t=r.indexOf(this.viewLogsStr),n=r.indexOf(this.hideLogsStr);return[{range:{start:{x:t<0?n+1:t+1,y:e-2},end:{x:r.length+5,y:e}},text:r,activate:()=>{this.communicationAdapter.viewLogs()},decorations:{underline:!1,pointerCursor:!0}}]}if(r.includes(this.troubleShootingGuide)){return[{range:{start:{x:r.indexOf(this.troubleShootingGuide)+1,y:e-2},end:{x:r.length+5,y:e}},text:r,activate:()=>{window.open("https://aka.ms/codespaces-troubleshooting","_blank")},decorations:{underline:!1,pointerCursor:!0}}]}return[]}}class u extends n.default.Component{constructor(e){super(e),this.creationFailed="Codespace creation failed",this.settingUpCodespace="Setting up your codespace",this.terminalArray=[],this.getTerminalOptions=()=>{const e=window.getComputedStyle(document.body),t=e.getPropertyValue("--vscode-terminal-background"),n=e.getPropertyValue("--vscode-terminal-selectionBackground"),r=e.getPropertyValue("--vscode-panel-background"),o=e.getPropertyValue("--vscode-terminal-foreground"),i=e.getPropertyValue("--vscode-terminalCursor-foreground"),s=e.getPropertyValue("--vscode-editor-font-family"),a=document.getElementsByClassName("container is-vs-codespaces").length>0;return{theme:{background:t||r||(a?"#181818":"#FAFBFD"),foreground:o||(a?"white":"black"),cursor:i||o||(a?"white":"black"),selection:n},fontSize:14,fontFamily:s||"SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace"}},this.onMessage=e=>{if(e.data.terminal){const t=Number(e.data.terminal.id)-1;this.writeToTerminal(t,String(e.data.terminal.message))}else e.data.themeChange?this.updateTerminalThemes():e.data.failure&&this.markFailure()},this.sendLoadedCommand=()=>{this.props.connection.sendCommand("loaded")}}initializeTerminal(e){const t=document.getElementById(`js-xterm-${e}`),n=this.terminalArray[e];t&&n&&(n.isInitialized=!0,n.terminal.open(t),n.terminal.loadAddon(n.fitAddon),n.terminal.loadAddon(n.searchAddon),n.fitAddon.fit(),n.hasWaitingText||(n.terminal.writeln("$ Waiting for output..."),n.hasWaitingText=!0),n.terminal.attachCustomKeyEventHandler((e=>e.ctrlKey&&"c"===e.key.toLocaleLowerCase()?(document.execCommand("copy"),!1):!e.ctrlKey||"f"!==e.key.toLocaleLowerCase()||(n.isSearching=!0,this.forceUpdate(),!1))))}writeToTerminal(e,t){let n=e;n>=this.terminalArray.length&&(n=this.terminalArray.length-1);const r=this.terminalArray[n];r&&!r.isVisible&&(r.isVisible=!0),this.forceUpdate((()=>{r&&!r.hasWaitingText&&(r.terminal.writeln("$ Waiting for output..."),r.hasWaitingText=!0),null==r||r.terminal.write(t)}))}updateTerminalThemes(){const{theme:e,fontSize:t,fontFamily:n}=this.getTerminalOptions();this.terminalArray.forEach((r=>{r.terminal.setOption("theme",e),r.terminal.setOption("fontSize",t),r.terminal.setOption("fontFamily",n)}))}markFailure(){this.setState({failure:!0})}componentDidMount(){this.props.connection.onMessage(this.onMessage),this.sendLoadedCommand();const e=new o.Terminal(this.getTerminalOptions()),t=new o.Terminal(this.getTerminalOptions());e.registerLinkProvider(new l(e,this.props.communicationAdapter)),this.terminalArray.push({stepName:"general",terminal:e,fitAddon:new s.FitAddon,searchAddon:new a.SearchAddon,isInitialized:!1,hasWaitingText:!0,isVisible:!1,isSearching:!1}),this.terminalArray.push({stepName:"general",terminal:t,fitAddon:new s.FitAddon,searchAddon:new a.SearchAddon,isInitialized:!1,hasWaitingText:!0,isVisible:!1,isSearching:!1}),this.initializeTerminal(0),this.initializeTerminal(1)}componentWillUnmount(){window.removeEventListener("message",this.onMessage)}render(){const{codespaceState:e}=this.props,t=e===c.CodespaceStateInfo.Failed?this.creationFailed:this.settingUpCodespace;return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:(0,r.default)("main-title","pt-8")},n.default.createElement("h4",null,t)),n.default.createElement("div",{className:(0,r.default)({windows:window.navigator.platform.toLowerCase().includes("win")},"terminal-array")},n.default.createElement(d,{id:0,className:"first"}),n.default.createElement(d,{id:1,className:"second"})))}}t.SplashScreenWithTerminals=u,t.default=u}.apply(t,r),void 0===o||(e.exports=o)},99268:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(71633),n(72348),n(71742)],o=function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthFailedMessage=void 0,n=a(n),r=c(r);t.AuthFailedMessage=e=>{const t=(0,r.default)("cs-splash-screen","pt-8");return n.createElement("div",{className:t},n.createElement("div",{className:"container"},n.createElement(o.SplashScreenIcon,{type:"static-screen-icon"}),n.createElement("div",{className:"static-screen-message"},n.createElement("h4",null,e.message),n.createElement(i.ButtonLink,{text:e.buttonText,onClick:e.onClick}))))}}.apply(t,r),void 0===o||(e.exports=o)},67130:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(63696),n(63696),n(92212),n(9138),n(56106),n(88986),n(62851),n(89036),n(15419),n(72741),n(84182),n(9159),n(99268),n(67737)],o=function(e,t,n,r,o,i,s,d,l,u,p,h,f,v,m,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebEditorComponent=void 0,n=a(n);class y extends n.Component{constructor(e,t){super(e,t),this.componentDidCatch=e=>c(this,void 0,void 0,(function*(){const{telemetry:t}=this.props;try{const n=(0,l.errorToObject)(e);t.sendTelemetry([u.CodespacesTelemetryEventNames.WebEditorError,n])}catch(e){const n=(0,l.errorToObject)(e,!0);t.sendTelemetry([u.CodespacesTelemetryEventNames.WebEditorError,n])}this.setState(Object.assign(Object.assign({},this.state),{error:e}))})),this.state={vscodeChannel:null}}componentDidMount(){var e;return c(this,void 0,void 0,(function*(){const{error:t,authService:n,config:r}=this.props;if(t)return;n.onEvent((e=>{"signed-out"===e&&this.setState({error:new d.AuthenticationError})})),n.keepUserAuthenticated();const[o]=yield Promise.all([n.getPartnerInfo(),r.fetch()]);if(!o)return yield n.signOut();p.featureFlags.initialize(h.mainTrace,o.featureFlags);const s=null!==(e=(0,g.getFeatureSet)())&&void 0!==e?e:i.FeatureSet.Stable;this.setState(Object.assign(Object.assign({},this.state),{vscodeChannel:s}))}))}componentDidUpdate(){return c(this,void 0,void 0,(function*(){try{const{authService:e}=this.props,{error:t}=this.state;if(t instanceof d.AuthenticationError){if(t instanceof d.AuthenticationFatalError)return;return yield e.redirectToLogin()}}catch(e){this.componentDidCatch(e)}}))}render(){const{error:e}=this.state;if((0,v.isIncompatibleBrowserVersion)())return n.createElement(f.SplashScreenMessage,{message:v.unsupportedBrowserVersionMessage});if(e instanceof d.AuthenticationFatalError){const{authService:e}=this.props;return n.createElement(m.AuthFailedMessage,{message:i.AUTH_FAILED_SCREEN_MESSAGE,buttonText:"Try again",onClick:()=>{localStorage.removeItem(e.localStorageId),location.reload()}})}const{vscodeChannel:t}=this.state;return t?n.createElement(o.BrowserRouter,null,n.createElement(o.Switch,null,n.createElement(o.Route,{path:"/:owner/:repo/:rest*"},n.createElement(s.WebEditorWorkbench,Object.assign({},this.props,{vscodeChannel:t,onError:this.componentDidCatch}))),n.createElement(o.Route,{path:"/:rest"},n.createElement(b,null)))):null}}t.WebEditorComponent=y;const b=()=>{const{rest:e}=(0,o.useParams)();return(0,r.useEffect)((()=>{window.location.href=`https://github.com/${e}`}),[e]),null}}.apply(t,r),void 0===o||(e.exports=o)},25957:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(63696),n(29913),n(9138),n(18721),n(88986),n(5547)],o=function(e,t,n,r,o,a,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodespacesWorkbench=void 0,n=s(n);class l extends n.default.Component{shouldComponentUpdate(){return!1}componentDidMount(){return i(this,void 0,void 0,(function*(){d.onbeforeunloadEventsManager.onEvent((()=>this.dispose()));try{const{platformInfo:e,domElementId:t,performance:n,trace:o,config:i,featureFlags:s}=this.props;let{codespaceInfo:d}=this.props;if((0,r.assertDefined)(e,"No `platformInfo` found."),(0,r.assertDefined)(d,"No `codespaceInfo` found."),l.vscodeWorkbench)throw new c.WorkbenchMountedTwiceError("Preventing mounting workbench twice");l.vscodeWorkbench=new a.VSCodeWorkbench(o.createChild(`${o.name}:vscode-workbench`),n,Object.assign(Object.assign({},this.props),{domElementId:t,config:i,platformInfo:e,codespaceInfo:d,featureFlags:s})),l.vscodeWorkbench.mountWorkbench()}catch(e){this.props.onError(e)}}))}render(){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{id:o.WORKBENCH_REACT_ROOT_ELEMENT_ID,className:"cs-workbench-root"}),n.default.createElement("div",{className:"vscode-workbench-root"}))}componentWillUnmount(){this.dispose()}dispose(){var e;null===(e=l.vscodeWorkbench)||void 0===e||e.dispose(),l.vscodeWorkbench=null}}t.CodespacesWorkbench=l,l.vscodeWorkbench=null}.apply(t,r),void 0===o||(e.exports=o)},86280:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(29913),n(63696),n(88986),n(89036),n(7336),n(12759),n(34595),n(95122)],o=function(e,t,n,r,o,a,c,d,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterWorkbench=void 0,r=s(r);class u extends r.default.Component{constructor(e){super(e),this.correlationId=(0,n.randomString)(),this.state={jupyterUrl:""}}componentDidMount(){var e,t,r,s;return i(this,void 0,void 0,(function*(){const{codespaceInfo:i,config:u,telemetry:p,trace:h,updateCodespaceState:f}=this.props;(0,n.assertDefined)(i,"No `codespaceInfo` found.");const v=Date.now();p.sendTelemetry([a.CodespacesTelemetryEventNames.WebJupyterConnectionActionStart,{correlationId:this.correlationId}]);try{const n=yield(0,d.getRpcClient)(h,p),c=yield n.getJupyterServerAsync((()=>{}),void 0,h),f={result:(null===(e=c.getResult)||void 0===e?void 0:e.call(c))||c.result,message:(null===(t=c.getMessage)||void 0===t?void 0:t.call(c))||c.message,port:(null===(r=c.getPort)||void 0===r?void 0:r.call(c))||c.port,serverUrl:(null===(s=c.getServerurl)||void 0===s?void 0:s.call(c))||c.serverUrl};if(!f.result)throw new o.JupyterError("Unable to start server.");const m=parseInt(f.port,10);if(isNaN(m))throw new o.JupyterError("Not a valid port");h.info(`Jupyter server running on port ${m}`);const g="?token="+f.serverUrl.substring(f.serverUrl.indexOf("=")+1),y=`https://${i.name}-${m}`,b=`${u.portForwardingDomainTemplate.replace("{0}",y)}/lab`;yield this.props.tunnelProvider.forwardPort(m,void 0,void 0,[l.TPortType.Internal]),this.setState({jupyterUrl:`${b}/${g}`}),p.sendTelemetry([a.CodespacesTelemetryEventNames.WebJupyterConnectionActionStop,{correlationId:this.correlationId,duration:Date.now()-v,result:a.TelemetryResultTypes.Success}])}catch(e){p.sendTelemetry([a.CodespacesTelemetryEventNames.WebJupyterConnectionActionStop,{correlationId:this.correlationId,duration:Date.now()-v,error:e,result:a.TelemetryResultTypes.Failure}]),this.props.onError(new o.JupyterError("Failed to load the JupyterLab workbench: "+e.message))}f(i.state,c.CodespaceWorkspaceState.Connected)}))}render(){return this.state.jupyterUrl?r.default.createElement("iframe",{title:"JupyterLab notebook",className:"jupyter-workbench",src:this.state.jupyterUrl}):null}}t.JupyterWorkbench=u}.apply(t,r),void 0===o||(e.exports=o)},27433:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818),n(63696),n(15146),n(84150),n(5547),n(49368),n(20399),n(4942)],o=function(e,t,n,r,o,i,s,d,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerlessWorkbench=void 0,r=a(r);class u extends r.Component{constructor(){super(...arguments),this.workbenchMounted=!1,this.workbenchRef=null}componentDidMount(){const{onError:e=()=>{}}=this.props;this.mountWorkbench().catch(e)}mountWorkbench(){var e;return c(this,void 0,void 0,(function*(){if(this.workbenchMounted)return;n.env.getUriScheme().then((()=>{var e,t;null===(e=document.getElementById("js-primer-css"))||void 0===e||e.remove(),null===(t=document.getElementById("js-splash-screen-css"))||void 0===t||t.remove()})),this.workbenchMounted=!0;const{getWorkbenchConfig:t}=this.props,r=t&&(yield t()),a=Object.assign({workspaceProvider:null!==(e=null==r?void 0:r.workspaceProvider)&&void 0!==e?e:new i.ServerlessWorkspaceProvider(this.props.uri,this.props.targetURLFactory),urlCallbackProvider:new l.UrlCallbackProvider},r);(0,n.create)(this.workbenchRef,a),this.props.openUri&&(null==r?void 0:r.type)===d.GitHubURLType.Folder&&n.env.openUri(n.URI.from(Object.assign({scheme:yield n.env.getUriScheme()},this.props.openUri))).catch((e=>{this.props.trace.error("Error opening file",e)})),s.onbeforeunloadEventsManager.onEvent((()=>c(this,void 0,void 0,(function*(){yield(0,o.sendVSCodeCommand)(o.CodespacesVSCodeCommands.Dispose)}))))}))}render(){return r.default.createElement("div",{className:"vsonline-serverless-workbench"},r.default.createElement("div",{id:"serverless-workbench",style:{height:"100%"},ref:e=>this.workbenchRef=e}))}}t.ServerlessWorkbench=u}.apply(t,r),void 0===o||(e.exports=o)},18721:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818),n(29913),n(70759),n(88986),n(60355),n(9138),n(8801),n(89332),n(22484),n(72045),n(25569),n(90390),n(62851),n(89036),n(76131),n(92375),n(89148),n(49206),n(99481),n(10443),n(34691),n(50173),n(21696),n(80289),n(72633),n(28521),n(28809)],o=function(e,t,n,r,o,i,s,d,l,u,p,h,f,v,m,g,y,b,S,w,C,_,T,P,E,k,I,O,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeWorkbench=void 0,n=a(n);class A extends r.DisposableClass{constructor(e,t,a){super(e),this.performance=t,this.options=a,this.mountingTwiceErrorMessage="Unable to create the VSCode workbench more than once",this.connectionErrorType="ConnectionError",this.workbenchId="js-vscode-workbench-placeholder",this.dispose=()=>{super.dispose(),this.options.telemetry.sendTelemetry([g.CodespacesTelemetryEventNames.VSCodeWorkbenchDisposed,{}])},this.initializeObserver=()=>{this.workbenchMountObserver=new MutationObserver((e=>{e.forEach((e=>{const t=e.target;(null==t?void 0:t.id)===this.workbenchId?(this.performance.main.markBlockEnd({id:o.PerformanceEventIds.VSCodeCreateToVSCodeLoaded,name:"vscode create to vscode loaded"},!0),this.performance.main.markBlockStart({id:o.PerformanceEventIds.VSCodeLoadedToEditors,name:"vscode loaded to editors"},!0),this.trace.verbose("vscode workbench loaded"),this.removeSplashScreen()):e.removedNodes.length>0&&e.removedNodes.forEach((e=>{e.id===this.workbenchId&&(this.trace.verbose("vscode workbench removed"),this.addSplashScreen())}))}))}));const e=document.querySelector(".cs-workbench-page__body");e&&this.workbenchMountObserver.observe(e,{subtree:!0,childList:!0})},this.mountWorkbench=()=>{const e=(0,w.v4)(),{telemetry:t}=this.options,n={mountCorrelationId:e};t.sendTelemetry([g.CodespacesTelemetryEventNames.WebMountWorkbenchActionStart,n]),this.mount().then((()=>{t.sendTelemetry([g.CodespacesTelemetryEventNames.WebMountWorkbenchActionStop,n])})).catch((e=>{e instanceof i.SshChannelError?this.trace.warning("ssh channel error during the vscode workbench mounting"):(e.message.includes(this.mountingTwiceErrorMessage)&&(e=new i.WorkbenchMountedTwiceError(e.message)),t.sendTelemetry([g.CodespacesTelemetryEventNames.WebMountWorkbenchActionStop,Object.assign(Object.assign({},n),(0,m.errorToObject)(e))]),e.message=`VSCodeWorkbench mount failed with "${e.message}"`,this.options.onError(e))}))},this.mount=()=>c(this,void 0,void 0,(function*(){const{domElementId:e,getConnectionOptions:t,codespaceInfo:a,getCodespaceInfo:h,platformInfo:m,onError:g,authService:w,config:C,telemetry:k,featureFlags:O}=this.options;(0,r.assertDefined)(a,"No CodespaceInfo found.");const x=this.getVSCodeWorkbenchElement(e);let A=0,M=null;const R=yield this.performance.measure({name:"get providers"},(()=>c(this,void 0,void 0,(function*(){return yield(0,u.getProviders)(this.trace.createChild("providers"),k,a,m,w,this.performance,h,this)()})))),j=yield I.StreamManager.getStreamManager(this.trace,R.tunnelProvider,k);this.addToDisposables(j.onVSCodeConnectionDetailsChanged((e=>{(0,f.postServiceWorkerMessage)({type:v.setVSCodeServerPortMessageType,payload:{port:e.port}})})));const D={create:e=>{const n="web socket factory #"+A++;let a;1===A&&(this.performance.main.markBlockStart({id:o.PerformanceEventIds.PureWorkbenchConnectionTime,name:"pure workbench connection time"},!0),this.performance.main.markBlockStart({id:o.PerformanceEventIds.TotalWorkbenchConnectionTime,name:"full workbench connection time"},!0),a=o.PerformanceGroupIds.PureWorkbenchConnectionTimeGroup),this.trace.info(`creating new WebSocket #${A}, url: ${e}`),M||(M=this.performance.createGroup("websocket-connection",o.PerformanceGroupIds.WebSocketFactoriesConnection));const c=new l.WebSocketFactory(this.trace.createChild(`web-socket-${A}`),M.createGroup(n,a),e,t,(0,r.randomString)(),h,k,C,(e=>{this.trace.verbose(`web socket ${e} is connected`),e>0&&(this.trace.verbose("notifying connected state"),g(new s.ConnectedError("connected")),R.tunnelProvider.revivePorts())}),void 0,void 0,j);return this.addToDisposables(c.onError((e=>{e instanceof s.DisconnectedError||e instanceof i.OutdatedCodespaceStateError?this.options.onError(e):(e.message=`WebSocket factory error: ${e.message}`,this.options.onError(e.message))}))),c}},N=(0,S.getQueryParamFlag)(b.CodespacesQueryParams.EditSessionId,void 0),W=(0,P.getVSCodeVersion)(C.vscodeVersionInfo,O.isEnabled(E.FeatureFlags.Developer)),F={embedderIdentifier:d.CODESPACES_EMBEDDER_NAME,licenseUrl:d.LICENSE_URL,privacyStatementUrl:d.PRIVACY_STATEMENT_URL,documentationUrl:d.DOCUMENTATION_URL,showTelemetryOptOut:!1},L=d.ENABLED_EXTENSIONS;m.agentContext&&L.push(...d.COPILOT_CHAT_BUILT_IN_EXTENSIONS);const U=Object.assign(Object.assign({remoteAuthority:(0,p.getUriAuthority)(a),webSocketFactory:D,connectionToken:this.getConnectionTokenWithProgress(j),productQualityChangeHandler:(0,y.productQualityChangeProviderFactory)(this.trace,w)},R),{productConfiguration:F,additionalTrustedDomains:d.TRUSTED_DOMAINS,enabledExtensions:d.ENABLED_EXTENSIONS,webviewEndpoint:`https://{{uuid}}.${new URL((0,T.getFastlyUrl)(C.environment)).hostname}/${W.quality}/${W.commit}/out/vs/workbench/contrib/webview/browser/pre/`,editSessionId:N,developmentOptions:{logLevel:(0,_.getLogLevel)()}});if(this.trace.verbose(`Creating workbench on #${e}`),this.addToDisposables(this.createVSCodeWorkbench(x,U)),this.performance.main.markBlockStart({id:o.PerformanceEventIds.VSCodeCreateToVSCodeLoaded,name:"vscode create to vscode loaded"},!0),this.performance.main.markBlockEnd({id:o.PerformanceEventIds.ReactInitToVSCodeCreate,name:"react init to vscode.create"},!0),n.commands.executeCommand("github.codespaces.activate"),m.agentContext)try{this.handleAgentContext(m)}catch(e){}})),this.primerStyle=document.getElementById("js-primer-css")||void 0,this.splashScreenStyle=document.getElementById("js-splash-screen-css")||void 0,this.performance=this.performance.createGroup(e.name,o.PerformanceGroupIds.VSCodeInitialization),this.initializeObserver(),this.trace.verbose("initialized workbench")}getVSCodeWorkbenchElement(e){const t=document.querySelector(`#${e}`);return(0,r.assertDefined)(t,`No VSCode workbench root DOM element found (#${e}).`),t}createVSCodeWorkbench(e,t){return n.create(e,t)}handleAgentContext(e){return c(this,void 0,void 0,(function*(){if(!e.agentContext)return;const t=e=>{var t,r;null===(r=(t=n.window).showInformationMessage)||void 0===r||r.call(t,`Failed to start Copilot Agent Mode:\n${e}`)},{agentContext:o,gitHubApiUrl:i}=e,s=(0,O.getPlatformAccessToken)(e,"codespaces");if("error"===o.type)return void t(o.data);let a;"issueId"===o.type&&s&&(a=yield(0,x.fetchGitHubIssue)(o.data,s,i)),a?yield this.options.waitUntilCodespaceAvailable().then((()=>(0,r.withRetries)((()=>c(this,void 0,void 0,(function*(){yield n.commands.executeCommand("github.copilotChat.signIn"),yield new Promise((e=>setTimeout(e,3e3)))}))),{retryDelay:3e3,retries:19}))).then((()=>n.commands.executeCommand("workbench.action.chat.openEditSession"))).then((()=>n.commands.executeCommand("workbench.action.chat.newEditSession",{inputValue:a,agentMode:!0}))).catch((()=>t("Could not send content to chat"))):t("Could not load context")}))}getConnectionTokenWithProgress(e){return c(this,void 0,void 0,(function*(){return n.window.withProgress({location:15,title:"Setting up remote connection"},(t=>c(this,void 0,void 0,(function*(){var n,o,s;try{const{codespaceInfo:i,waitUntilCodespaceAvailable:a,telemetry:c,getConnectionOptions:d}=this.options,l=new C.UserProgressReporter(t,i,this.trace);(0,r.assertDefined)(i,"No `codespaceInfo` defined");const u=yield a(l);l.update(C.ProgressOptions.Connecting);const p=yield d(u);let y;try{(0,r.assertDefined)(e,"No StreamManager found");const t=yield e.getVSCodeConnectionDetails(p);y=t.connectionToken,k.ResourceUriProvider.setVSCodeConnectionDetails(t.port,t.connectionToken,null===(o=null===(n=i.connection)||void 0===n?void 0:n.tunnelProperties)||void 0===o?void 0:o.tunnelId),(0,f.postServiceWorkerMessage)({type:v.setVSCodeServerPortMessageType,payload:{port:t.port}})}catch(e){e=null!==(s=(yield(0,h.ensureCodespaceIsAvailable)(this.options.getCodespaceInfo)).error)&&void 0!==s?s:e;const t=(0,m.errorToObject)(e);throw c.sendTelemetry([g.CodespacesTelemetryEventNames.GetConnectionTokenError,t]),e}return l.update(C.ProgressOptions.Done),y}catch(e){throw e.type===this.connectionErrorType&&(/Network Error/.test(e.message)?this.options.onError(new i.NetworkError(e)):this.options.onError(e)),e}}))))}))}addSplashScreen(){this.splashScreenStyle&&document.head.appendChild(this.splashScreenStyle),this.primerStyle&&document.head.appendChild(this.primerStyle)}removeSplashScreen(){var e,t;null===(e=this.splashScreenStyle)||void 0===e||e.remove(),null===(t=this.primerStyle)||void 0===t||t.remove()}}t.VSCodeWorkbench=A}.apply(t,r),void 0===o||(e.exports=o)},56106:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(83818),n(63696),n(92212),n(88986),n(9138),n(44047),n(96188),n(83559),n(49368),n(27433),n(82812),n(89036),n(49206),n(62220),n(63075),n(43071),n(76131),n(41185),n(3384),n(77669),n(15236),n(26028)],o=function(e,t,n,r,o,a,c,d,l,u,p,h,f,v,m,g,y,b,S,w,C,_,T,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebEditorWorkbench=void 0,r=s(r);const E=(e,t,r,o)=>()=>i(void 0,void 0,void 0,(function*(){try{const{authService:s,trace:h}=e,m=yield s.getPartnerInfo();if(!m||!m.credentials[0])return yield s.signOut(),null;const E=new f.SecretStorageProvider(h,s),[I,O,x]=yield Promise.all([(0,g.getPartnerExtensions)(m),(0,y.getHomeIndicator)(m),(0,b.getDefaultSettings)(m)]);let A={embedderIdentifier:c.EMBEDDER_NAME,licenseUrl:c.LICENSE_URL,privacyStatementUrl:c.PRIVACY_STATEMENT_URL,documentationUrl:c.DOCUMENTATION_URL,enableTelemetry:!1};const M=m.credentials[0].token,R=yield function(e,t,n,r,o,s,c){var p;return i(this,void 0,void 0,(function*(){let i;try{i=yield(0,l.getGitHubWorkspaceFromUrl)(t,new u.GithubRefRequest(e))}catch(e){return null===(p=null==s?void 0:s.telemetry)||void 0===p||p.webEditorAction(v.CodespacesTelemetryEventNames.WebEditorActionStop,{result:v.TelemetryResultTypes.UserError,errorMessage:`User error of type ${e.errorType}`,errorDetail:e.errorCode},c,null==s?void 0:s.config.environment),void(e instanceof a.GitHubNeedsAuthenticationError||e instanceof a.AuthenticationError?yield n.signOut():e instanceof a.GitHubRepoAccessError&&(window.location.href=k(r)))}if(i){const e=new URLSearchParams(location.search),t=new d.WebEditorWorkspaceProvider(e,i,o);return Object.assign({provider:t},i)}}))}(M,t,s,r,h,e,o);let j;if((null==R?void 0:R.type)===p.GitHubURLType.File&&(null==R?void 0:R.path)){const e=R.provider.workspace;j=(0,C.getDefaultLayout)(r,e.folderUri,R.path,R.fragment)}let D=c.WEB_EDITOR_BUILT_IN_EXTENSIONS;D.push({id:c.REMOTE_HUB_EXTENSION_NAME,preRelease:"insider"===e.vscodeChannel});const N=()=>i(void 0,void 0,void 0,(function*(){return yield s.redirectToLogin(m.managementPortalUrl)})),W={enabled:(0,T.isSettingsSyncEnabled)(m),enablementHandler:(e,t)=>{localStorage.setItem(P.TLocalStorageKey.SettingsSyncEnabled,`${e}`)},authenticationProvider:(0,_.getSettingsSyncAuthenticationProvider)(e.telemetry,N)};return{additionalBuiltinExtensions:D.concat(I),enabledExtensions:c.ENABLED_EXTENSIONS,homeIndicator:O,configurationDefaults:x,secretStorageProvider:E,productConfiguration:A,workspaceProvider:null==R?void 0:R.provider,additionalTrustedDomains:c.TRUSTED_DOMAINS,commands:(0,w.createWebEditorCommands)(o,e.config.environment,e.telemetry,null==R?void 0:R.refType),productQualityChangeHandler:(0,S.productQualityChangeProviderFactory)(h,s),defaultLayout:j,type:null==R?void 0:R.type,repoInfo:r,codeExchangeProxyEndpoints:{microsoft:`${location.origin}/aad-code-grant-v2/`},_tarballProxyEndpoints:{"github.com":c.GITHUB_TARBALL_PROXY_URL},resolveExternalUri:e=>i(void 0,void 0,void 0,(function*(){if(R)return n.URI.parse(R.provider.resolveGithubFolderURI(e))})),settingsSyncOptions:W}}catch(t){e.onError(t);let n={result:v.TelemetryResultTypes.Failure,errorMessage:"Failure to configure workspace",errorDetail:t instanceof Error?t.name:void 0};throw t instanceof Error&&(n.errorMessage=`Failure to configure workspace, error type ${t.message}`),e.telemetry.webEditorAction(v.CodespacesTelemetryEventNames.WebEditorActionStop,n,o,e.config.environment),t}})),k=e=>`https://github.com/${e.owner}/${e.repo}`;t.WebEditorWorkbench=function(e){const t=(0,o.useParams)();let n=`${location.pathname}${location.search}${location.hash}`;n=n.endsWith("/")?n.slice(0,n.length-1):n;const i=(0,m.v4)(),s=E(e,n,t,i);return e.telemetry.webEditorAction(v.CodespacesTelemetryEventNames.WebEditorActionStart,{},i,e.config.environment),r.default.createElement(h.ServerlessWorkbench,Object.assign({},e,{getWorkbenchConfig:s,uri:"",openUri:{authority:c.REMOTE_HUB_EXTENSION_NAME,path:"/open-files",query:`url=${encodeURIComponent(`https://github.com${n}`)}`}}))}}.apply(t,r),void 0===o||(e.exports=o)},92348:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(83818),n(49206),n(15419)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0,n=a(n);const i={portalConfig:{environment:"local"}};class s extends n.Disposable{constructor(e,t,n,i,s,a){super(),this.workbenchConfig=e,this.requestId=t,this.workbenchType=n,this.trace=i,this.serverCorrelationId=s,this.fetchedSignal=null,this.withAuthRequest=!!t,this.requestId=t,this.requestId||"editor"!==n||(this.requestId=(0,r.v4)()),a&&o.featureFlags.initialize(this.trace,a)}get environment(){return this.workbenchConfig.environment}get iKey(){return this.workbenchConfig.iKey}fetch(){return i}get portForwardingDomainTemplate(){switch(this.environment){case"local":case"Development":return"{0}.app.dev.github.dev";case"Staging":return"{0}.app.ppe.github.dev";default:return"{0}.app.github.dev"}}get portForwardingDomain(){return"github.dev"}get vscodeVersionInfo(){return this.workbenchConfig.vscodeVersionInfo}get version(){return this.workbenchConfig.version}get serviceLocation(){return this.workbenchConfig.serviceLocation}get serviceInstance(){return this.workbenchConfig.serviceInstance}get loadType(){return this.workbenchConfig.loadType}}t.Config=s}.apply(t,r),void 0===o||(e.exports=o)},15419:(e,t,n)=>{var r,o;r=[n,t,n(21696)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.featureFlags=t.FeatureFlagsAccessor=void 0;class r{constructor(e){this.flagFallbacks={[n.FeatureFlags.ReducedCodespaceStatePollingInterval]:n.FeatureFlags.Developer},void 0!==e&&(this.flagFallbacks=e),this.initPromise=new Promise((e=>{this.initResolve=e}))}initialize(e,t){t&&(this.featureFlags&&this.trace?this.trace.verbose("Feature flags already initialized"):(this.featureFlags=t,this.trace=e)),this.initResolve()}isEnabled(e,t=!1){var n,r;if(void 0===this.featureFlags)return null===(n=this.trace)||void 0===n||n.verbose(`No featureFlags defined in partner info, falling back to the default "${t}".`),t;const o=this.flagFallbacks[e],i=o?this.isEnabled(o,t):t;return null!==(r=this.featureFlags[e])&&void 0!==r?r:i}clearAll(){this.featureFlags=void 0}}t.FeatureFlagsAccessor=r,t.featureFlags=new r}.apply(t,r),void 0===o||(e.exports=o)},39406:function(e,t,n){var r,o,i=n(48287).hp,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(39213),n(29913),n(16797),n(88986),n(89036),n(9138),n(62851),n(61647)],o=function(e,t,r,o,c,d,l,u,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodespacesInternalTransportFactory=void 0,c=a(c);const f=n(57767),v="\r\n",[m,g]=Array.from((new TextEncoder).encode(v));t.CodespacesInternalTransportFactory=(e,t,n)=>r=>new y(r,e,t,n);class y{constructor(e,t,n,r){this.options=e,this.trace=t,this.telemetry=n,this.streamManager=r,this.streamLockKey="streamLock",this.processingDataLockKey="processingDataLock",this.lock=new c.default,this.requestFailed=!1}start(e){return s(this,void 0,void 0,(function*(){this.trace.verbose(`Received request for ${this.options.methodDefinition.methodName} from client`),this.metadata=e,yield this.startTransport()}))}startTransport(){return s(this,void 0,void 0,(function*(){yield this.executeAndReleaseLock(this.streamLockKey,(()=>s(this,void 0,void 0,(function*(){try{(0,o.assertDefined)(this.streamManager,"Stream manager is not defined"),this.stream=yield this.streamManager.getGRPCStream()}catch(e){let t;return t=e instanceof d.ConnectionError?e:new d.CodespacesInternalTransportError(`Failed to get stream: ${e.message}`),void this.handleEndRequest(t)}this.stream.on("data",(e=>s(this,void 0,void 0,(function*(){yield this.parseResponse(e)})))),this.stream.on("end",(()=>s(this,void 0,void 0,(function*(){yield this.handleEndRequest()})))),this.stream.on("error",(e=>s(this,void 0,void 0,(function*(){yield this.handleEndRequest(e)}))))}))))}))}parseResponse(e){return s(this,void 0,void 0,(function*(){let t=i.from(e);yield this.executeAndReleaseLock(this.processingDataLockKey,(()=>s(this,void 0,void 0,(function*(){try{if(this.chunkOverflow&&(t=i.concat([this.chunkOverflow,t]),this.chunkOverflow=void 0),!this.headerString){const{headers:e,body:n}=this.parseGrpcResponse(t);if(this.headerString=e,t=n,!this.headerString)return void this.handleMissingChunkData(t);const o=f(this.headerString);this.options.onHeaders(new r.grpc.Metadata(o.headers),o.statusCode)}const e=yield(0,h.parseHttpMessageChunks)(t,(e=>(this.options.onChunk(e),Promise.resolve())));this.handleMissingChunkData(e)}catch(e){this.trace.error("Failed to read data from server: ",e)}}))))}))}sendMessage(e){return s(this,void 0,void 0,(function*(){try{if(this.requestFailed)return void this.trace.verbose("Request has failed, not sending any more data");this.trace.verbose(`Sending message of size ${e.byteLength} bytes to server`),(0,o.assertDefined)(this.metadata,"Metadata is not defined.");const t=this.createGrpcRequestHeaders(this.metadata,this.options.url,e.byteLength),n=i.from(t),r=i.from(e.buffer);yield this.executeAndReleaseLock(this.streamLockKey,(()=>s(this,void 0,void 0,(function*(){if(!this.stream)throw new d.CodespacesInternalTransportError("No stream available");this.stream.write(n),this.stream.write(r)}))))}catch(e){const t=new d.CodespacesInternalTransportError(`Failed to send message: ${e.message}`);this.handleEndRequest(t)}}))}executeAndReleaseLock(e,t){return s(this,void 0,void 0,(function*(){yield this.lock.acquire(e,(e=>s(this,void 0,void 0,(function*(){try{yield t()}catch(e){throw e}finally{e()}}))))}))}finishSend(){this.trace.verbose("Finished sending request to server")}cancel(){const e=new d.CodespacesInternalTransportError("Request canceled by client");this.handleEndRequest(e)}handleEndRequest(e){return s(this,void 0,void 0,(function*(){yield this.executeAndReleaseLock(this.processingDataLockKey,(()=>s(this,void 0,void 0,(function*(){var t;try{this.trace.verbose("Sending end event to client"),e&&(this.requestFailed=!0,this.trace.error(e.message),this.telemetry.sendTelemetry([l.CodespacesTelemetryEventNames.CodespacesInternalTransportErrorInfo,Object.assign(Object.assign({},(0,p.errorToObject)(e)),{methodName:this.options.methodDefinition.methodName})]),this.options.onHeaders(new r.grpc.Metadata({"grpc-message":e.message,"error-type":""+(e instanceof d.ConnectionError?"ConnectionError":"Unknown")}),13)),this.options.onEnd(),null===(t=this.stream)||void 0===t||t.end()}catch(e){this.trace.error("Failed to end request:",e.message)}}))))}))}handleMissingChunkData(e){e.byteLength>0&&(this.chunkOverflow=i.from(e))}createGrpcRequestHeaders(e,t,n){const r=[];e.forEach(((e,t)=>{r.push(`${e}: ${t.join(", ")}`)}));return[`POST ${new URL(t).pathname.replace(/^\/codespaces\/internal/,"")} HTTP/1.1`,`Host: localhost:${u.CODESPACES_INTERNAL_WEB_PORT}`,"Connection: close",`Content-Length: ${n}`,...r,v].join(v)}parseGrpcResponse(e){let t;const n=e.findIndex(((t,n)=>e[n+0]===m&&e[n+1]===g&&e[n+2]===m&&e[n+3]===g));if(n>0){t=e.subarray(0,n).toString().toLowerCase();const r=n+4;e=e.subarray(r)}return{headers:t,body:e}}}}.apply(t,r),void 0===o||(e.exports=o)},72633:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(5037),n(29913),n(76994),n(9138),n(12759)],o=function(e,t,n,r,o,s,a){"use strict";let c;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamManager=void 0;class d{constructor(e,t,n){this.trace=e,this.tunnelProvider=t,this.rpcClient=n,this.onVSCodeConnectionDetailsChangedEmitter=new o.Emitter,this.onVSCodeConnectionDetailsChanged=this.onVSCodeConnectionDetailsChangedEmitter.event}static getStreamManager(e,t,n){return i(this,void 0,void 0,(function*(){if(!c){const r=yield(0,a.getRpcClient)(e,n);c=new d(e,t,r)}return c}))}getVSCodeStream(e){var t;return i(this,void 0,void 0,(function*(){return this.vsCodeServerDetails||(yield this.getVSCodeConnectionDetails(e)),(0,r.assertDefined)(null===(t=this.vsCodeServerDetails)||void 0===t?void 0:t.port,"VS Code port not set"),yield this.tunnelProvider.getStreamFromPort(this.vsCodeServerDetails.port,n.TunnelProtocol.Https)}))}getVSCodeConnectionDetails(e){return i(this,void 0,void 0,(function*(){return this.vsCodeServerDetails=yield this.rpcClient.startRemoteServerAsync((()=>{}),void 0,this.trace,[Object.assign(Object.assign({},e),{quality:e.vsCodeQuality})]),this.onVSCodeConnectionDetailsChangedEmitter.fire(this.vsCodeServerDetails),this.vsCodeServerDetails}))}getGRPCStream(){return i(this,void 0,void 0,(function*(){return yield this.tunnelProvider.getStreamFromPort(s.CODESPACES_INTERNAL_WEB_PORT,n.TunnelProtocol.Https)}))}}t.StreamManager=d}.apply(t,r),void 0===o||(e.exports=o)},8801:function(e,t,n){var r,o,i=n(48287).hp,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818),n(29913),n(86092),n(88986),n(70759),n(65001),n(62851),n(89036),n(65396)],o=function(e,t,n,r,o,a,c,d,l,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketFactory=void 0;class h extends r.DisposableClass{constructor(e,t,o,i,s,a,c,d,l,u=window.performance,p=2,f){super(e),this.performance=t,this.url=o,this.getConnectionOptions=i,this.correlationId=s,this.getCodespaceInfo=a,this.telemetry=c,this.config=d,this.windowPerformance=u,this.OPEN_CHANNEL_RETRIES=p,this.streamManager=f,this.codespaceInfo=null,this.onDataEmitter=new n.Emitter,this.onData=this.onDataEmitter.event,this.onOpenEmitter=new n.Emitter,this.onOpen=this.onOpenEmitter.event,this.onCloseEmitter=new n.Emitter,this.onClose=this.onCloseEmitter.event,this.onErrorEmitter=new n.Emitter,this.onError=this.onErrorEmitter.event,this.stream=null,this.id=h.socketCnt++,this.addToDisposables(this.onOpen((()=>l(this.id))),this.onError((e=>{this.onCloseEmitter.fire(e)})),this.onOpenEmitter,this.onCloseEmitter,this.onDataEmitter,this.onErrorEmitter,(0,r.createDisposable)((()=>{this.codespaceInfo=null}))),this.initialize(o)}send(e){const t=i.from(e);if(this.isDisposed){this.trace.verbose(`[${this.getWebSocketIdentifier()}] the data is not sent since the channel is already disposed.`);try{this.onCloseEmitter.fire()}catch(e){}}else(0,r.assertDefined)(this.stream,"Stream not initialized"),this.stream.write(t,void 0,(e=>{e&&(this.trace.warning("stream error, closing",e),this.onCloseEmitter.fire())}))}close(){return s(this,void 0,void 0,(function*(){(0,r.assertDefined)(this.codespaceInfo,"No `codespaceInfo` found."),this.telemetry.sendTelemetry([u.CodespacesTelemetryEventNames.WebLSConnectionClose,{connectionCorrelationId:this.correlationId,isFirstConnection:0===this.id,connectionNumber:this.id,isReconnection:this.id>1}]),(0,r.assertDefined)(this.stream,"Stream not initialized"),this.stream.end("Workbench requested to close the connection."),this.onCloseEmitter.fire()}))}isReconnection(e){try{return"true"===new URL(e).searchParams.get("reconnection")}catch(e){return!0}}createHandshakeRequest(e){return[`GET ${e} HTTP/1.1`,"Connection: Upgrade","Upgrade: websocket",`Sec-WebSocket-Key: ${(0,r.randomString)(32)}`,"\r\n"].join("\r\n")}getWebSocketIdentifier(){const e=new URL(this.url).searchParams.toString();return`${this.id}:${e}`}sendHandShakeWithDevTunnels(e,t,n){return s(this,void 0,void 0,(function*(){const o=new r.Signal;return this.trace.verbose("sending handshake through stream"),yield n.measure({name:"vscode client 🤝 server"},(()=>s(this,void 0,void 0,(function*(){e.on("data",(t=>{o.isFulfilled||this.trace.verbose(`response: \n${t.toString()}\n`),o.resolve(e)})),this.trace.verbose(`sending the request: \n${t}\n`),e.write(i.from(t));const n=yield o.promise;return this.trace.verbose("🔌 web socket connected"),n}))))}))}initialize(e,t=this.OPEN_CHANNEL_RETRIES){var n,i;return s(this,void 0,void 0,(function*(){let h={Action:u.TelemetryActionTypes.InitializeWebSocket,RootActivityId:this.correlationId,connectionNumber:this.id};try{const l=e.replace(/skipWebSocketFrames=false/gim,"skipWebSocketFrames=true");this.trace.verbose("initializing the channel through dev tunnels",t),this.codespaceInfo=yield this.getCodespaceInfo(this.id<2),(0,r.assertDefined)(this.codespaceInfo,new a.CodespaceNotAvailableError("No `codespaceInfo` found."));let f=(null===(n=this.codespaceInfo)||void 0===n?void 0:n.billable_owner.type)==o.BillableOwnerType.Organization?null===(i=this.codespaceInfo)||void 0===i?void 0:i.billable_owner.id:"";this.telemetry.addContextProperties({"organization-id":f.toString()});const v=this.OPEN_CHANNEL_RETRIES-t,m=this.performance.createGroup(`initialize channel (attempt: ${v})`);this.telemetry.sendTelemetry([u.CodespacesTelemetryEventNames.ActionStart,h]),(0,r.assert)(this.codespaceInfo.state===o.CodespaceStateInfo.Available,new a.OutdatedCodespaceStateError("The codespace is not in an available state.",this.codespaceInfo.state)),this.trace.info("opening vscode channel",this.codespaceInfo);const g=yield this.getConnectionOptions(this.codespaceInfo);this.stream=yield m.measure({name:"getting vscode stream"},(()=>s(this,void 0,void 0,(function*(){return 0===this.id&&m.main.markBlockEnd({id:c.PerformanceEventIds.TimeToFirstConnection,name:"time to get channel"},!0),(0,r.assertDefined)(this.streamManager,"Stream manager not initialized"),yield this.streamManager.getVSCodeStream(g)})))),this.stream.on("error",(e=>{this.trace.error(e),this.closeWebSocket("error")})),this.stream.on("end",(e=>{this.trace.error(e),this.closeWebSocket("end")})),this.stream.on("close",(e=>{this.trace.error(e),this.closeWebSocket("close")})),this.stream.on("finish",(e=>{this.trace.error(e),this.closeWebSocket("finish")})),this.stream.on("data",(e=>{const t=(0,d.bufferToArrayBuffer)(e);this.onDataEmitter.fire(t)})),this.trace.verbose("vscode stream obtained"),this.stream=yield m.measure({name:"send handshake request"},(()=>s(this,void 0,void 0,(function*(){try{const e=4*r.TIME_SECOND_MS;return(0,r.assertDefined)(this.stream,"Stream not initialized"),yield(0,r.timeoutPromise)(this.sendHandShakeWithDevTunnels(this.stream,this.createHandshakeRequest(l),m.createGroup("send handshake")),e,new p.ConnectionTimeoutError("WebSocket channel request timed out."))}catch(e){throw this.trace.verbose("protocol upgrade request failed",e),e}})))),this.onOpenEmitter.fire(),h.Result=u.TelemetryResultTypes.Success,this.sendPerformanceInfo(m)}catch(e){this.trace.error("failed to create websocket: ",e);const t=(0,l.errorToObject)(e);throw h=Object.assign(Object.assign({},h),t),h.Result=u.TelemetryResultTypes.Failure,e}finally{this.telemetry.sendTelemetry([u.CodespacesTelemetryEventNames.ActionStop,h])}}))}sendPerformanceInfo(e){if(0===this.id){e.main.markBlockEnd({id:c.PerformanceEventIds.PureWorkbenchConnectionTime,name:""},!0);const t=e.main.getBlockMeasure(c.PerformanceEventIds.PureWorkbenchConnectionTime);this.telemetry.sendTelemetry([u.CodespacesTelemetryEventNames.WebInitialConnectionTime,Object.assign({},null==t?void 0:t.measure)])}if(1===this.id){e.main.markBlockEnd({id:c.PerformanceEventIds.TotalWorkbenchConnectionTime,name:""},!0),e.main.markBlockEnd({id:c.PerformanceEventIds.VSCodeLoadedToEditors,name:"vscode loaded to editors"},!0),e.main.markBlockStart({id:c.PerformanceEventIds.EditorsToExtensionActivation,name:"editors to time to extensions"},!0);const t=e.main.getBlockMeasure(c.PerformanceEventIds.TotalWorkbenchConnectionTime);this.telemetry.sendTelemetry([u.CodespacesTelemetryEventNames.WebTotalConnectionTime,Object.assign({},null==t?void 0:t.measure)])}}closeWebSocket(e){this.telemetry.sendTelemetry([u.CodespacesTelemetryEventNames.WebSocketDisposed,{disposeReason:e}]),this.onCloseEmitter.dispose()}}t.WebSocketFactory=h,h.socketCnt=0}.apply(t,r),void 0===o||(e.exports=o)},89036:(e,t,n)=>{var r;r=function(e,t){"use strict";var n,r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryResultTypes=t.TelemetryActionTypes=t.CodespacesTelemetryEventNames=t.PollTypes=void 0,function(e){e[e.ShutdownPolling=0]="ShutdownPolling",e[e.ReadyPolling=1]="ReadyPolling"}(n||(t.PollTypes=n={})),function(e){e.WebSplashScreenStateTransition="codespaces/web/splash-screen-state-transition",e.WebLSConnectionActionStart="codespaces/web/ls-connection/action_start",e.WebLSConnectionActionStop="codespaces/web/ls-connection/action_stop",e.WebLSConnectionFailed="codespaces/web/ls-connection-failed",e.WebLSConnectionClose="codespaces/web/ls-connection-close",e.WebInitialConnectionActionStart="codespaces/web/initial-connection/action_start",e.WebInitialConnectionActionStop="codespaces/web/initial-connection/action_stop",e.WebInitialConnectionTime="codespaces/web/initial-connection-time",e.WebJupyterConnectionActionStart="codespaces/web/jupyter-connection/action_start",e.WebJupyterConnectionActionStop="codespaces/web/jupyter-connection/action_stop",e.WebTotalConnectionTime="codespaces/web/total-connection-time",e.WebCodespacesWorkbenchError="codespaces/web/error",e.WebAppStateChanged="codespaces/web/app-state-changed",e.WebUnhandledError="codespaces/web/unhandled-error",e.WebEditorError="codespaces/webeditor/error",e.WebEditorActionStart="codespaces/webeditor/connection/action_start",e.WebEditorActionStop="codespaces/webeditor/connection/action_stop",e.WebEditorAppStateChanged="codespaces/webeditor/app-state-changed",e.WebEditorUnhandledError="codespaces/webeditor/unhandled-error",e.WebEditorLatencyUpdate="codespaces/web/latency-update",e.WebRequestIdMismatch="codespaces/web/request-id-mismatch",e.WebEditorRequestIdMismatch="codespaces/webeditor/request-id-mismatch",e.WebMountWorkbenchActionStart="codespaces/web/mount-workbench/action_start",e.WebMountWorkbenchActionStop="codespaces/web/mount-workbench/action_stop",e.WebSplashScreenLogsAvailable="codespaces/web/splash-screen-logs-available",e.WebSplashScreenLogsOpened="codespaces/web/splash-screen-logs-opened",e.TunnelOpenInfo="codespaces/web/tunnel-open-info",e.CodespacePollAttempts="codespaces/web/codespace-poll-attempts",e.TimeToInteractiveActionStart="codespaces/web/time-to-interactive/action_start",e.TimeToInteractiveActionStop="codespaces/web/time-to-interactive/action_stop",e.WebLoadActionStart="codespaces/web/load/action_start",e.WebLoadActionStop="codespaces/web/load/action_stop",e.WebOverallPerformance="codespaces/web/performance",e.TunnelPortStartTimeStart="codespaces/web/tunnel-port-start-time/action_start",e.TunnelPortStartTimeStop="codespaces/web/tunnel-port-start-time/action_stop",e.PortForwardingActionStart="codespaces/web/pf/action_start",e.PortForwardingActionStop="codespaces/web/pf/action_stop",e.KeychainKeyFault="codespaces/web/keychain-key-fault",e.VSCodeWorkbenchDisposed="codespaces/web/vscode-workbench-disposed",e.TunnelDisposed="codespaces/web/tunnel-disposed",e.SettingsSyncSignInActionStart="codespaces/web/settings-sync-sign-in/action_start",e.SettingsSyncSignInActionStop="codespaces/web/settings-sync-sign-in/action_stop",e.TunnelOperationError="codespaces/web/tunnel-operation-error",e.WaitingOnConnectionInfo="codespaces/web/waiting-on-connection-info",e.DeletePort="codespaces/web/delete-port",e.CodespacesInternalTransportErrorInfo="codespaces/web/codespaces-internal-transport-error-info",e.WebSocketDisposed="codespaces/web/web-socket-disposed",e.GetConnectionTokenError="codespaces/web/get-connection-token-error",e.TunnelConnectionRetry="codespaces/web/tunnel-connection-retry",e.TunnelProgressReport="codespaces/web/tunnel-progress-report",e.ForwardedPortConnecting="codespaces/web/forwarded-port-connecting",e.TunnelClientCreated="codespaces/web/tunnel-client-created",e.ActionStart="action_start",e.ActionStop="action_stop"}(r||(t.CodespacesTelemetryEventNames=r={})),function(e){e.Connect="Connect",e.Load="Load",e.OpenTunnel="OpenTunnel",e.ReconnectTunnelClient="ReconnectTunnelClient",e.ConnectTunnelClient="ConnectTunnelClient",e.InitializeWebSocket="InitializeWebSocket"}(o||(t.TelemetryActionTypes=o={})),function(e){e.Success="Success",e.Failure="Failure",e.UserError="UserError"}(i||(t.TelemetryResultTypes=i={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},21696:(e,t,n)=>{var r;r=function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureFlags=void 0,function(e){e.Developer="developer",e.ReducedCodespaceStatePollingInterval="reduced-codespace-state-polling-interval",e.UseEarlyWorkbenchWebClient="useEarlyWorkbenchWebClient",e.RemoveConnectRetriesWebClient="removeConnectRetriesWebClient",e.CopilotWorkspace="copilotWorkspace"}(n||(t.FeatureFlags=n={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},14493:(e,t,n)=>{var r;r=function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CreationLogType=void 0,function(e){e.InProgress="inProgress",e.Succeeded="succeeded",e.Failed="failed"}(n||(t.CreationLogType=n={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},67052:(e,t,n)=>{var r;r=function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalId=void 0,function(e){e[e.HeaderTerminal=1]="HeaderTerminal",e[e.LogTerminal=2]="LogTerminal"}(n||(t.TerminalId=n={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},99982:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(88986),n(28474),n(38893)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchKeychainKeys=void 0;t.fetchKeychainKeys=e=>i(void 0,void 0,void 0,(function*(){const t=new Headers,i=`/keychain-keys?serverCorrelationId=${e}`;t.append("cache-control","no-store");const s=yield(0,r.fetchOrNetworkError)(i,{method:"GET",credentials:"include",headers:t});if(s.ok){const e=yield s.json();return(0,o.enhanceEncryptionKeys)([e])}if(401===s.status)throw new n.AuthenticationError("keychain-keys returned 401");throw new n.HttpError(s.status,s.statusText,i)}))}.apply(t,r),void 0===o||(e.exports=o)},87362:(e,t,n)=>{var r,o;r=[n,t,n(54349),n(70759)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initPerformance=void 0,t.initPerformance=(0,n.initializePerformanceInstance)(r.PerformanceGroupIds.Start),t.initPerformance.markBlockStart({id:r.PerformanceEventIds.InitTimeToRemoteExtensions,name:"time to remote extensions"},!0)}.apply(t,r),void 0===o||(e.exports=o)},70759:(e,t,n)=>{var r;r=function(e,t){"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceGroupIds=t.PerformanceEventIds=t.PerformanceEventNames=void 0,function(e){e.OpenSshChannel="open SSH channel",e.FinishingConnection="finishing up connection process",e.VSCodeServerStartup="start vscode server"}(n||(t.PerformanceEventNames=n={})),function(e){e.InitTimeToRemoteExtensions="InitTimeToRemoteExtensions",e.WorkbenchPage="WorkbenchPage",e.WorkbenchPageInitialization="WorkbenchPageInitialization",e.OpenSshChannel="OpenSshChannel",e.FinishingConnection="FinishingConnection",e.VSCodeClientServerHandshake="VSCodeClientServerHandshake",e.StartCodespace="StartCodespace",e.GetCodespaceInfo1="GetCodespaceInfo1",e.GetCodespaceInfo2="GetCodespaceInfo2",e.GetLiveshareWorkspaceInfo="GetLiveshareWorkspaceInfo",e.WorkbenchClientConnection="WorkbenchClientConnection",e.PureWorkbenchConnectionTime="PureWorkbenchConnection",e.TotalWorkbenchConnectionTime="TotalWorkbenchConnectionTime",e.TimeToFirstConnection="TimeToFirstConnection",e.EarlyConnectionTime="EarlyConnectionTime",e.VSCodeServerStartupServerStart="VSCodeServerStartupServerStart",e.VSCodeServerStartupServerTcpPortForwarding="VSCodeServerStartupServerTCPPortForwarding",e.TimeToInteractive="TimeToInteractive",e.Bootstrap="Bootstrap",e.ReactInitToVSCodeCreate="ReactInitToVSCodeCreate",e.VSCodeCreateToVSCodeLoaded="VSCodeCreateToVSCodeLoaded",e.VSCodeLoadedToEditors="VSCodeLoadedToEditors",e.EditorsToExtensionActivation="EditorsToExtensionActivation",e.IdleToAvailable="IdleToAvailable"}(r||(t.PerformanceEventIds=r={})),function(e){e.Start="Start",e.PureWorkbenchConnectionTimeGroup="PureWorkbenchConnectionTimeGroup",e.WorkbenchComponent="WorkbenchComponent",e.WebSocketFactoriesConnection="WebSocketFactoriesConnection",e.VSCodeInitialization="VSCodeInitialization",e.InitialConnection="InitialConnection",e.VSCodeServerStartup="VSCodeServerStartup"}(o||(t.PerformanceGroupIds=o={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},99426:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818),n(92375),n(26513),n(28620),n(89148),n(43024),n(22484),n(49646),n(39749)],o=function(e,t,n,r,o,s,a,c,d,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodespacesWorkspaceProvider=void 0;t.CodespacesWorkspaceProvider=class{constructor(e,t,r,o){this.codespaceInfo=t,this.getWorkspaceUrl=r,this.defaultWorkspacePath=o,this.trusted=!0;const i=(0,c.getSessionPath)(this.codespaceInfo),s=this.getDefaultWorkspacePath(i,e.get("workspace"),e.get("folder"));let a,l;const p=s[0],h=s[1];"folder"===p&&(a=h),"workspace"===p&&(l=h);const f=e.get("ew"),v=e.get("payload");if(this.payload=(0,u.parseWorkspacePayload)(v)||void 0,"true"===f)this.workspace=void 0;else if(l){let e=n.URI.parse(l),t=(e=>!!e.match(/Untitled\-\d+\.code\-workspace/gim))(l);if("file"===e.scheme){const r=t?"vscode-userdata":"vscode-remote",o=t?e.authority:(0,d.getUriAuthority)(this.codespaceInfo);e=n.URI.from(Object.assign(Object.assign({},e),{scheme:r,authority:o}))}this.workspace={workspaceUri:e},this.updateRecentlyOpened(e,`${t?"Untitled":e.path.substring(0,e.path.lastIndexOf(".code-workspace"))} (Workspace) [Codespace ${this.codespaceInfo.name}]`,!1)}else{const e=n.URI.from({path:this.normalizeVSCodePath(a),scheme:"vscode-remote",authority:(0,d.getUriAuthority)(this.codespaceInfo)});this.workspace={folderUri:e},this.updateRecentlyOpened(e,`${e.path} [Codespace ${this.codespaceInfo.name}]`,!0)}}updateRecentlyOpened(e,t,r){n.commands.executeCommand("_workbench.addToRecentlyOpened",{uri:e,type:r?"folder":"workspace",label:t})}getDefaultWorkspacePath(e,t,n){if(n)return["folder",n];if(t)return["workspace",t];if(this.codespaceInfo.recent_folders&&this.codespaceInfo.recent_folders.length>=1){const e=this.codespaceInfo.recent_folders[0]||"";return e.endsWith(".code-workspace")?["workspace",e]:["folder",e]}return this.defaultWorkspacePath?this.defaultWorkspacePath.endsWith(".code-workspace")?["workspace",this.defaultWorkspacePath]:["folder",this.defaultWorkspacePath]:["folder",e]}normalizeVSCodePath(e=""){if(!e)return e;return`/${(e=e.trim()).replace(/\\/g,"/").replace(/^\//,"")}`}open(e,t={}){return i(this,void 0,void 0,(function*(){let n=new URL(document.location.pathname,document.location.origin),o=t&&!0!==t.reuse?this.getWorkspaceUrl(n):n;if(e)if(this.isFolderToOpen(e))n=this.isCurrentCodespace(e.folderUri.authority)?n:this.getCodespaceURL(e.folderUri.authority),o=t&&!0!==t.reuse?this.getWorkspaceUrl(n):n,o.searchParams.set("folder",e.folderUri.path);else{if(!this.isWorkspaceToOpen(e))throw new Error("Unsupported workspace type.");n=this.isCurrentCodespace(e.workspaceUri.authority)?n:this.getCodespaceURL(e.workspaceUri.authority),o=t&&!0!==t.reuse?this.getWorkspaceUrl(n):n,o.searchParams.set("workspace",e.workspaceUri.path)}else o.searchParams.set("ew","true");const i=(0,a.getQueryParamFlag)(r.CodespacesQueryParams.VSCodeChannel);return i&&o.searchParams.set(r.CodespacesQueryParams.VSCodeChannel,i),t.payload&&o.searchParams.set("payload",JSON.stringify(t.payload)),!t||t.reuse?(window.location.href=o.href,!0):this.tryOpenNewTab(o)}))}tryOpenNewTab(e){const t=window.open();return!!t&&(t.opener=null,t.location.href=e.href,!0)}getCodespaceURL(e){const t=(0,o.getLoginRedirectionURL)(null),n=e.split("+").pop();return n&&!(0,l.isGuid)(n)?new URL(n,t):t}isCurrentCodespace(e){if(""===e)return!0;const t=e.split("+").pop(),n=(0,s.getName)(location.hostname);return!!(t&&n&&n.includes(t))}isFolderToOpen(e){return!!e.folderUri}isWorkspaceToOpen(e){return!!e.workspaceUri}}}.apply(t,r),void 0===o||(e.exports=o)},515:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeDevTunnelExternalUriProvider=void 0;const r=["http","https"],o=["localhost","127.0.0.1","0.0.0.0","0:0:0:0:0:0:0:0"];t.makeDevTunnelExternalUriProvider=function(e,t){return s=>i(this,void 0,void 0,(function*(){if(e.info("Getting external URI for",s),!r.includes(s.scheme))return e.info("Unallowed scheme",s.scheme),s;const i=new URL(`${s.scheme}://${s.authority}`);if(!o.includes(i.hostname))return e.info("Unallowed host",i.hostname),s;const a=function(e){try{let t=e.port;if(!t)switch(e.protocol){case"http:":t="80";break;case"https:":t="443"}return/^\d{2,5}$/.test(t)?parseInt(t,10):null}catch(e){return null}}(i);if(!a)return e.info("No port found",i),s;let c;try{c=yield t.forwardPort(a)}catch(t){return e.error("Failed ensuring external URI was forwarded",t),s}const d=c.tunnelPort.portForwardingUris&&c.tunnelPort.portForwardingUris[c.tunnelPort.portForwardingUris.length-1];if(d){const t=new URL(d),r=t.protocol.endsWith(":")?t.protocol.slice(0,-1):t.protocol,o=n.URI.from({scheme:r,authority:t.host,path:t.pathname});return e.info("Using primary port forwarding URI",o),o}return e.info("No primary port forwarding URI found"),s}))}}.apply(t,r),void 0===o||(e.exports=o)},53624:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(73551),n(5037),n(74061),n(29913),n(16797),n(49206),n(76994),n(88986),n(86092),n(89036),n(9138),n(62851),n(51629),n(34595)],o=function(e,t,n,r,o,a,c,d,l,u,p,h,f,v,m,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.accessControlToPrivacy=t.AllowOrgAccess=t.AllowAnonymousAccess=t.DevTunnelProvider=t.PortPrivacyNotAllowed=void 0,c=s(c);class y extends Error{}t.PortPrivacyNotAllowed=y;const b=[/vsls\-agent/,/vscode\-remote(?![\\\/]extensions)/];class S extends a.DisposableClass{constructor(e,t,s,l,g,y,S,w,C=!0){var T;super(e),this.telemetry=t,this.privacySettings=l,this.openTunnel=g,this.shouldListenForPortEvents=C,this.tunnels=new Map,this.tunnelClientLock=new c.default,this.listeningForPortEvents=!1,this.WebSocketErrorRegex=/Failed to connect to relay url/,this.createNewTunnelClient=()=>{let e=!1;this.tunnelClient&&(this.tunnelClient.dispose(),e=!0);const t=new n.TunnelRelayTunnelClient(((e,t,n,r)=>{r?this.trace.error(`tunnelClient ${e} ${t}: ${n}`,r):this.trace.verbose(`tunnelClient ${e} ${t}: ${n}`)}),this.managementClient);return t.acceptLocalConnectionsForForwardedPorts=!1,this.listeningForPortEvents=!1,this.subscribeToEvents(t),this.telemetry.sendTelemetry([h.CodespacesTelemetryEventNames.TunnelClientCreated,{disposedOldTunnelClient:e}]),t},this.tunnelFactory=e=>i(this,void 0,void 0,(function*(){const{remoteAddress:{port:t,host:n},protocol:o,privacy:i}=e,s=(0,d.v4)();this.trace.info("Tunnel factory called",e);const a=function(e){return e&&"http"!==e?"https"===e?r.TunnelProtocol.Https:r.TunnelProtocol.Auto:r.TunnelProtocol.Http}(o);let c={Action:h.TelemetryActionTypes.OpenTunnel,port:t,host:n,tunnelProtocol:a,privacy:i,RootActivityId:s};this.telemetry.sendTelemetry([h.CodespacesTelemetryEventNames.ActionStart,c]);const l=function(e){return"public"===e?p.PortPrivacy.Public:"org"===e?p.PortPrivacy.Org:p.PortPrivacy.Private}(i);try{const e=this.tunnels.get(t);if(c.tunnelAction=e?"update":"create",e&&(c.existingTunnelProtocol=e.tunnelPort.protocol,(0,m.isInternalPort)(e.tunnelPort.labels)))throw new u.TunnelProviderError("The port is being used by another process.");const r=yield this.forwardPort(t,a,l),s={remoteAddress:{port:t,host:n},protocol:o,localAddress:`127.0.0.1:${t}`,privacy:i,onDidDispose:r.onDidDisposeEmitter.event,dispose:()=>this.deletePort(t)};return c.Result=h.TelemetryResultTypes.Success,s}catch(e){this.trace.error("failed to create tunnel: ",e),c.Result=_(e);const t=(0,v.errorToObject)(e);throw c=Object.assign(Object.assign({},c),t),e}finally{c.resolvedPrivacy=l,c.connectionStatus=this.tunnel.status,c.tunnelClientStatus=this.tunnelClient.connectionStatus,c.tunnelStatus=this.tunnel.status,c.tunnelsMapSize=this.tunnels.size,this.telemetry.sendTelemetry([h.CodespacesTelemetryEventNames.ActionStop,c])}})),this.showPortCandidate=(e,t,n)=>Promise.resolve(!b.some((e=>n.match(e)))),this.features={public:!1,elevation:!1,privacyOptions:[]},this.subscribeToEvents=e=>{e.retryingTunnelConnection((e=>{const t=(0,v.errorToObject)(e.error);this.telemetry.sendTelemetry([h.CodespacesTelemetryEventNames.TunnelConnectionRetry,Object.assign({delay:e.delayMs,retry:e.retry},t)])})),e.onReportProgress((e=>{this.telemetry.sendTelemetry([h.CodespacesTelemetryEventNames.TunnelProgressReport,Object.assign(Object.assign({},e),{source:"tunnel-client"})])})),e.forwardedPortConnecting((e=>{this.telemetry.sendTelemetry([h.CodespacesTelemetryEventNames.ForwardedPortConnecting,Object.assign({},e)])}))},this.pushPrivacyOptions(l);const P=null===(T=s.connection)||void 0===T?void 0:T.tunnelProperties;(0,a.assertDefined)(P,new Error("Tunnel Properties must be defined")),this.managementClient=null!=y?y:new o.TunnelManagementHttpClient({name:f.BASIS_CS_EXTENSION_NAME},o.ManagementApiVersions.Version20230927preview,void 0,P.serviceUri,void 0,w),this.managementClient.onReportProgress&&this.managementClient.onReportProgress((e=>{this.telemetry.sendTelemetry([h.CodespacesTelemetryEventNames.TunnelProgressReport,Object.assign(Object.assign({},e),{source:"management-client"})])})),this.tunnelClient=null!=S?S:this.createNewTunnelClient(),this.tunnel={tunnelId:P.tunnelId,clusterId:P.clusterId,domain:P.domain,accessTokens:{[r.TunnelAccessScopes.Connect]:P.connectAccessToken,[r.TunnelAccessScopes.ManagePorts]:P.managePortsAccessToken}}}forwardPort(e,t,n,r=[g.TPortType.User]){return i(this,void 0,void 0,(function*(){if(n&&!this.privacySettings.includes(n))throw new y(`Unallowed port privacy: ${n}. Only ${this.privacySettings} is allowed.`);const o=this.tunnels.get(e);return yield this.createOrReuseTunnelPort(o,e,r,t,n)}))}addForwardedPort(e){return i(this,void 0,void 0,(function*(){this.trace.verbose(`Adding forwarded port ${e}`);if(this.tunnels.get(e))return void this.trace.verbose(`Forwarded port ${e} already exists`);const t=yield this.withTunnelManagementClient((t=>t.getTunnelPort(this.tunnel,e)));if(!t)return void this.trace.verbose(`Forwarded port ${e} doesn't exist`);const n={tunnelPort:t,onDidDisposeEmitter:new l.Emitter};this.tunnels.set(e,n),this.openWorkspaceTunnel(t),this.trace.verbose(`Added port: ${t.portNumber}`)}))}openWorkspaceTunnel(e){return i(this,void 0,void 0,(function*(){const t=e.accessControl?function(e){const t=C(e);return t===p.PortPrivacy.Public?"public":t===p.PortPrivacy.Org?"org":p.PortPrivacy.Private}(e.accessControl):"private";if((0,m.isInternalPort)(e.labels))return void this.trace.verbose(`Skipping internal port ${e.portNumber}`);const n=function(e){return"https"===e?e:"http"}(e.protocol);yield this.openTunnel({remoteAddress:{port:e.portNumber,host:"localhost"},privacy:t,protocol:n})}))}revivePorts(){return i(this,void 0,void 0,(function*(){this.trace.verbose("Reviving ports...");const e=yield this.managementClient.listTunnelPorts(this.tunnel);this.telemetry.addContextProperty("listedTunnelPorts",e.length);for(const t of e){const e={tunnelPort:t,onDidDisposeEmitter:new l.Emitter};this.tunnels.set(t.portNumber,e),this.openWorkspaceTunnel(t),this.trace.verbose(`Revived port: ${t.portNumber}`)}}))}deletePort(e){return i(this,void 0,void 0,(function*(){let t={currentTunnelStatus:this.tunnelClient.connectionStatus,port:e,Result:h.TelemetryResultTypes.Success};try{const n=this.tunnels.get(e);this.trace.info(`Deleting port for ${e}`),yield this.withTunnelManagementClient((t=>t.deleteTunnelPort(this.tunnel,e))),this.tunnels.delete(e),yield this.refreshPorts([],e),n&&n.onDidDisposeEmitter.fire(),this.trace.info(`Deleted port for ${e}`),t.portExists=!!n}catch(e){this.trace.error("Error deleting port",e),t.Result=_(e);const n=(0,v.errorToObject)(e);throw t=Object.assign(Object.assign({},t),n),e}finally{this.telemetry.sendTelemetry([h.CodespacesTelemetryEventNames.DeletePort,t])}}))}refreshPorts(e,t){return i(this,void 0,void 0,(function*(){yield this.withConnectedTunnelClient((e=>e.refreshPorts()),"refresh_ports",e,t)}))}createDevTunnel(e,t){const n={tunnelPort:e,onDidDisposeEmitter:null!=t?t:new l.Emitter};return this.tunnels.set(e.portNumber,n),n}createOrReuseTunnelPort(e,t,n,o,s,a=0){return i(this,void 0,void 0,(function*(){if(this.trace.info(`Creating or reusing ${o}/${t} with privacy '${s}', attempt ${a}`),e){const n=e.tunnelPort;if(function(e,t,n){return!(t&&e.protocol!==t||n&&C(e.accessControl)!==n)}(n,o,s))return this.trace.info(`${n.protocol}/${t} already exists with privacy '${C(n.accessControl)}' so reusing the existing port`),e;this.trace.info(`${n.protocol}/${t} already exists but doesn't match requested settings, deleting and recreating`),yield this.deletePort(t)}const i=null!=o?o:r.TunnelProtocol.Http,c=null!=s?s:p.PortPrivacy.Private,d={portNumber:t,protocol:i,accessControl:w(c),labels:n};try{const r=yield this.withTunnelManagementClient((e=>e.createTunnelPort(this.tunnel,d))),o=this.createDevTunnel(r,null==e?void 0:e.onDidDisposeEmitter);return yield this.refreshPorts(null!=n?n:[],t),this.trace.info(`Created port ${i}/${t} with privacy '${c}'`),o}catch(e){if(a>=2)throw e;if(e.response&&409==e.response.status){this.trace.info(`Port ${i}/${t} already exists, trying to get existing tunnel port`),yield this.refreshPorts(null!=n?n:[],t);const e=yield this.withTunnelManagementClient((e=>e.getTunnelPort(this.tunnel,t)));let r;return e&&(r=this.createDevTunnel(e)),yield this.createOrReuseTunnelPort(r,t,n,o,s,a+1)}throw e}}))}withConnectedTunnelClient(e,t,r,o){return i(this,void 0,void 0,(function*(){yield this.tunnelClientLock.acquire("tunnelClient",(e=>i(this,void 0,void 0,(function*(){if(this.tunnelClient.connectionStatus!==n.ConnectionStatus.Connected){const i=(0,d.v4)();let s={Action:h.TelemetryActionTypes.ConnectTunnelClient,RootActivityId:i,currentTunnelStatus:this.tunnelClient.connectionStatus,operationType:t,labels:r.join(","),port:o};this.telemetry.sendTelemetry([h.CodespacesTelemetryEventNames.ActionStart,s]),this.trace.info("Tunnel client is unconnected, fetching tunnel and connecting",this.tunnel),this.tunnelClient.connectionStatus===n.ConnectionStatus.Disconnected&&(this.tunnelClient=this.createNewTunnelClient(),this.trace.info("Recreated tunnel client",this.tunnel),s.newTunnel=!0);try{const e=yield this.withTunnelManagementClient((e=>e.getTunnel(this.tunnel,{includePorts:!0})));e&&(e.accessTokens=this.tunnel.accessTokens,yield this.connectTunnelClientWithRetry(e)),s.Result=h.TelemetryResultTypes.Success}catch(t){this.trace.error("Error connecting tunnel client",t),this.WebSocketErrorRegex.test(t.message)&&(t=new u.WebSocketError(t.message)),s.Result=_(t);const n=(0,v.errorToObject)(t);s=Object.assign(Object.assign({},s),n),e(t)}finally{s.currentTunnelStatus=this.tunnelClient.connectionStatus,this.telemetry.sendTelemetry([h.CodespacesTelemetryEventNames.ActionStop,s])}}e()}))));const s=yield this.tunnelClientRetryOnException(e,r,o);return this.shouldListenForPortEvents&&!this.listeningForPortEvents&&this.setupPortEventListeners(),s}))}withTunnelManagementClient(e){return i(this,void 0,void 0,(function*(){try{return yield(0,a.withRetries)((()=>i(this,void 0,void 0,(function*(){return yield e(this.managementClient)}))),{retries:2,retryDelay:250,shouldStopRetries:e=>i(this,void 0,void 0,(function*(){const t=null==e?void 0:e.code;return!/ECONNABORTED/.test(e.message)&&"ECONNABORTED"!==t})),isAggregateError:!1})}catch(e){const t=null==e?void 0:e.code;if(/ECONNABORTED/.test(e.message)||"ECONNABORTED"===t)throw new u.ConnectionAbortedError(e.message);throw e}}))}dispose(){return i(this,void 0,void 0,(function*(){yield this.tunnelClient.dispose()}))}getStreamFromPort(e,t){return i(this,void 0,void 0,(function*(){try{const n=[g.TPortType.Internal];return yield this.forwardPort(e,t,void 0,n),yield this.withConnectedTunnelClient((t=>i(this,void 0,void 0,(function*(){return t.waitForForwardedPort(e)}))),"wait_for_forwarded_port",n,e),yield this.withConnectedTunnelClient((t=>i(this,void 0,void 0,(function*(){return yield t.connectToForwardedPort(e)}))),"connect_to_forwarded_port",n,e)}catch(e){throw new u.ConnectionError(e.message)}}))}pushPrivacyOptions(e){e.forEach((e=>{switch(e){case p.PortPrivacy.Private:this.features.privacyOptions.push({id:e.toString(),label:f.PORT_FORWARDING_PRIVACY_PRIVATE,themeIcon:"lock"});break;case p.PortPrivacy.Org:this.features.privacyOptions.push({id:e.toString(),label:f.PORT_FORWARDING_PRIVACY_PRIVATE_ORG,themeIcon:"organization"});break;case p.PortPrivacy.Public:this.features.privacyOptions.push({id:e.toString(),label:f.PORT_FORWARDING_PRIVACY_PUBLIC,themeIcon:"eye"})}}))}setupPortEventListeners(){var e,t;null===(e=this.tunnelClient.forwardedPorts)||void 0===e||e.onPortAdded((e=>{e.port.remotePort?(this.trace.verbose(`Received port added event for port ${e.port.remotePort}`),this.tunnels.has(e.port.remotePort)?this.trace.verbose(`Port ${e.port.remotePort} already exists in the tunnels map, skipping`):this.addForwardedPort(e.port.remotePort)):this.trace.verbose("Attempted to add port without remote port value")})),null===(t=this.tunnelClient.forwardedPorts)||void 0===t||t.onPortRemoved((e=>{if(e.port.remotePort){this.trace.verbose(`Received port removed event for port ${e.port.remotePort}`);const t=this.tunnels.get(e.port.remotePort);t?(t.onDidDisposeEmitter.fire(),this.tunnels.delete(e.port.remotePort)):this.trace.verbose(`Port ${e.port.remotePort} was not found in the tunnels map, skipping`)}else this.trace.verbose("Attempted to remove port without remote port value")})),this.listeningForPortEvents=!0}connectTunnelClientWithRetry(e){return i(this,void 0,void 0,(function*(){return yield(0,a.withRetries)((()=>i(this,void 0,void 0,(function*(){yield this.tunnelClient.connect(e)}))),{retries:2,retryDelay:250,shouldStopRetries:e=>i(this,void 0,void 0,(function*(){return/Not connected/.test(e.message)||/disposed/.test(e.message)?(this.tunnelClient=this.createNewTunnelClient(),!1):!this.WebSocketErrorRegex.test(e.message)||(this.tunnelClient=this.createNewTunnelClient(),!1)})),isAggregateError:!1})}))}tunnelClientRetryOnException(e,t,n){return i(this,void 0,void 0,(function*(){return yield(0,a.withRetries)((()=>i(this,void 0,void 0,(function*(){return yield e(this.tunnelClient)}))),{retries:1,retryDelay:250,shouldStopRetries:e=>i(this,void 0,void 0,(function*(){var r;const o=null==e?void 0:e.response;if(/Not connected/.test(e.message)||/disposed/.test(e.message))return this.tunnelClient=this.createNewTunnelClient(),yield this.withConnectedTunnelClient((e=>i(this,void 0,void 0,(function*(){this.trace.verbose("tunnel client reconnected")}))),"reconnect",t,n),!1;if(o&&429===o.status){const e=parseInt(null===(r=o.headers)||void 0===r?void 0:r["x-ms-ratelimit-retry-after"],10);return e&&(yield(0,a.wait)(e*a.TIME_SECOND_MS-250)),!1}return!0})),isAggregateError:!1})}))}}function w(e){switch(e){case p.PortPrivacy.Public:return{entries:[t.AllowAnonymousAccess]};case p.PortPrivacy.Private:return{entries:[]};case p.PortPrivacy.Org:return{entries:[t.AllowOrgAccess]}}}function C(e){const t=e.entries.find((e=>e.type===r.TunnelAccessControlEntryType.Anonymous));if(t&&!0!==t.isDeny)return p.PortPrivacy.Public;const n=e.entries.find((e=>e.provider===o.TunnelAuthenticationSchemes.github));return n&&!0!==n.isDeny?p.PortPrivacy.Org:p.PortPrivacy.Private}function _(e){return/Network Error/.test(e.message)||e instanceof u.WebSocketError||e instanceof u.ConnectionAbortedError?h.TelemetryResultTypes.UserError:h.TelemetryResultTypes.Failure}t.DevTunnelProvider=S,t.AllowAnonymousAccess={type:r.TunnelAccessControlEntryType.Anonymous,subjects:[],scopes:["connect"]},t.AllowOrgAccess={type:r.TunnelAccessControlEntryType.Organizations,provider:o.TunnelAuthenticationSchemes.github,subjects:["1"],scopes:["connect"]},t.accessControlToPrivacy=C}.apply(t,r),void 0===o||(e.exports=o)},89332:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(20399),n(99426),n(24558),n(60743),n(3948),n(82812),n(15236),n(26028),n(63075),n(43071),n(68056),n(66318),n(77669),n(515),n(92647),n(80289)],o=function(e,t,n,r,o,s,a,c,d,l,u,p,h,f,v,m,g,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProviders=void 0;t.getProviders=(e,t,b,S,w,C,_,T)=>()=>i(void 0,void 0,void 0,(function*(){var P;const E=new r.CodespacesWorkspaceProvider(new URLSearchParams(location.search),b,(e=>e),yield(0,o.getDefaultWorkspacePath)(w)),k=new n.UrlCallbackProvider,I=(new y.ResourceUriProvider).resourceUriProviderFactory(),O=(0,g.getDevTunnelProvider)();T.addToDisposables(O);const x=(0,m.makeDevTunnelExternalUriProvider)(e.createChild("dev-tunnel-external-uri-provider"),O),A=(0,s.getWorkbenchDefaultLayout)(b,S.workspaceCustomizations),M=(0,a.getWorkbenchInitialColorTheme)(),[R,j,D]=yield Promise.all([(0,u.getHomeIndicator)(S),(0,h.getProductConfiguration)(S),(0,p.getDefaultSettings)(S)]),{container_id:N}=b,W={secretStorageProvider:new c.SecretStorageProvider(e.createChild("secret-storage-provider"),w),workspaceProvider:E,urlCallbackProvider:k,resourceUriProvider:I,resolveExternalUri:x,settingsSyncOptions:{enabled:(0,d.isSettingsSyncEnabled)(S),extensionsSyncStateVersion:N,enablementHandler:(e,t)=>{localStorage.setItem(l.TLocalStorageKey.SettingsSyncEnabled,`${e}`)},authenticationProvider:(0,v.getSettingsSyncAuthenticationProvider)(t,(()=>i(void 0,void 0,void 0,(function*(){return yield w.redirectToLogin(S.managementPortalUrl)}))),b.name)},tunnelProvider:O,homeIndicator:R,configurationDefaults:D,productConfiguration:j,defaultLayout:A,initialColorTheme:M,commands:(0,f.createCodespacesCommands)(e.createChild("commands"),S,C,t,b,_)};return t.addContextProperty("is-settings-sync-enabled",null===(P=W.settingsSyncOptions)||void 0===P?void 0:P.enabled),W}))}.apply(t,r),void 0===o||(e.exports=o)},77669:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(89036),n(26028),n(9138),n(32636),n(82812)],o=function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSettingsSyncAuthenticationProvider=void 0;t.getSettingsSyncAuthenticationProvider=(e,t,c,d=s.popupCenter)=>({id:"github",signIn:()=>i(void 0,void 0,void 0,(function*(){let s;e.sendTelemetry([n.CodespacesTelemetryEventNames.SettingsSyncSignInActionStart,{}]);let l=n.TelemetryResultTypes.Failure;const u=document.createElement("form");if(u.target="auth-frame",u.method="GET",u.action=o.SETTINGS_SYNC_AUTH_URL,c){const e=document.createElement("input");e.type="text",e.name="codespace_name",e.value=c,u.appendChild(e)}document.body.appendChild(u);const p=d("",u.target,800,600),h=new Promise((e=>{s=e}));if(p){u.submit();let o=120;const c=setInterval((()=>{if(o<=0)throw clearInterval(c),new Error("No response from user");(null==p?void 0:p.closed)&&(clearInterval(c),l=n.TelemetryResultTypes.Success,s(a.SecretStorageProvider.SettingsSyncServiceId)),o--}),500);return yield h.finally((()=>i(void 0,void 0,void 0,(function*(){e.sendTelemetry([n.CodespacesTelemetryEventNames.SettingsSyncSignInActionStop,{result:l}]),localStorage.removeItem(r.TLocalStorageKey.SettingsSyncEnabled),yield t()}))))}throw new Error("Failed to authenticate to Settings Sync")}))})}.apply(t,r),void 0===o||(e.exports=o)},76131:(e,t,n)=>{var r,o;r=[n,t,n(29913),n(88859),n(9138),n(82318)],o=function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.productQualityChangeProviderFactory=void 0;t.productQualityChangeProviderFactory=(e,t,s=new r.HttpClient(e.createChild("http-client"),{retryCount:1,timeout:2*n.TIME_SECOND_MS}))=>(e.createChild("product-quality-handler"),r=>{e.verbose(`updating vscode quality to "${r}"`),localStorage.setItem(o.CS_FEATURESET_LOCALSTORAGE_KEY,r),e.verbose(`vscode quality "${r}" set to localstorage`),Promise.all([t.getCachedGithubToken(),t.getPartnerInfo()]).then((([t,o])=>{(0,n.assertDefined)(o,"partnerInfo not defined");const a=o.gitHubApiUrl||"https://api.github.com",c=(0,i.joinUrl)(a,"vscs_internal/user-settings");return(0,n.assertDefined)(null==t?void 0:t.token,"GitHub token is not defined."),e.info(`patching new vscode quality "${r}" to github at "${c}"`),s.patch(c,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.token}`},body:JSON.stringify({vscode_channel:r})})})).then((()=>{e.verbose(`vscode quality "${r}" updated on GitHub`)})).catch((t=>{e.warning("failed to update vscode quality on GitHub: ",t)})).finally((()=>{e.info("reloading the page to apply new vscode quality"),window.location.reload()}))})}.apply(t,r),void 0===o||(e.exports=o)},80289:(e,t,n)=>{var r,o;r=[n,t,n(83818),n(15328),n(9138)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceUriProvider=void 0;class i{constructor(){this.resourceUriProviderFactory=()=>e=>{(0,r.assert)(!!i.vscodePort||!!i.connectionToken,"Cannot resolve asset URLs before connection to cloud environment is established.");const t=new URLSearchParams;return t.set("path",e.path),t.set("tkn",i.connectionToken),n.URI.from({scheme:"https",authority:window.location.host,path:`/${o.assetsPathComponent}/${i.tunnelId}/${i.vscodePort}/${o.vscodeRemoteResourcePathComponent}`,query:t.toString()})}}static setVSCodeConnectionDetails(e,t,n){this.tunnelId=n,this.vscodePort=e,this.connectionToken=t}}t.ResourceUriProvider=i}.apply(t,r),void 0===o||(e.exports=o)},82812:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(62864),n(42025),n(39360),n(2526),n(9138)],o=function(e,t,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SecretStorageProvider=void 0;class c{constructor(e,t){this.trace=e,this.authService=t,this.type="persisted",this._keyChain=n.localStorageKeychain,this._quality=(0,s.getVSCodeScheme)(),this._githubAuthSecretStorageKey=JSON.stringify({extensionId:a.GH_AUTH_EXTENSION_ID,key:a.GH_ACCOUNT_KEY}),this._defaultAccountKey=`${this._quality}.loginAccount`}get(e){return i(this,void 0,void 0,(function*(){const t=yield this.getTokenFromVScodeSettings(e),n=this.generateGenericLocalStorageKey(e),o=yield this._keyChain.get(n);return o.succeeded&&o.result?e===this._githubAuthSecretStorageKey&&t?(this.trace.verbose("Found password in partner info strategy as well. Merging results."),(0,r.mergeSecretStorageGitHubAuthSessions)(o.result,t,this.trace)):o.result:t}))}set(e,t){return i(this,void 0,void 0,(function*(){const n=this.generateGenericLocalStorageKey(e);yield this._keyChain.set(n,t)}))}delete(e){return i(this,void 0,void 0,(function*(){const t=this.generateGenericLocalStorageKey(e);yield this._keyChain.delete(t)}))}generateGenericLocalStorageKey(e){return`vsonline.keytar.${this._quality}.${e}`}getTokenFromVScodeSettings(e){return i(this,void 0,void 0,(function*(){if(e!==this._githubAuthSecretStorageKey&&e!==this._defaultAccountKey)return;const t=yield this.authService.getPartnerInfo(),n=null==t?void 0:t.vscodeSettings;if(!n)return;const r=n.defaultAuthSessions;if(!r)return;if(e===this._githubAuthSecretStorageKey){const e=(0,o.getSessionsByType)(r,"github");return JSON.stringify(e)}const i=n.authenticationSessionId;if(void 0===i)return;const s=(0,o.getSessionsById)(r,i);if(s){const{id:e,type:t,accessToken:n}=s;return JSON.stringify({id:e,providerId:t,accessToken:n})}}))}}t.SecretStorageProvider=c,c.SettingsSyncServiceId="github-session-sync-service"}.apply(t,r),void 0===o||(e.exports=o)},84150:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerlessWorkspaceProvider=void 0;t.ServerlessWorkspaceProvider=class{constructor(e,t){this.uri=e,this.targetURLFactory=t,this.trusted=!0,this.isWorkspace=e.includes(".code-workspace")}get workspace(){const e=this.isWorkspace?"workspaceUri":"folderUri";return{[e]:n.URI.parse(this.uri)}}open(e,t){return i(this,void 0,void 0,(function*(){const n=e;if(n&&n.folderUri&&this.targetURLFactory){const e=this.targetURLFactory(n.folderUri);if(e){if(!t||t.reuse)return window.location.href=e.href,!0;return!!window.open(e.href,"_blank")}}return!1}))}}}.apply(t,r),void 0===o||(e.exports=o)},81288:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenCommunicationProvider=void 0;t.SplashScreenCommunicationProvider=class{constructor(e=()=>{}){window.addEventListener("message",(t=>{t.origin===window.origin&&e(t)}),!1)}writeToTerminalOutput(e,t){try{window.postMessage({terminal:{id:e,message:t}},window.origin)}catch(e){}}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},2177:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalCommunicationProvider=void 0;t.TerminalCommunicationProvider=class{constructor(e){this.writer=e}writeToTerminalOutput(e,t){try{this.writer.fire(t)}catch(e){}}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},20399:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(83818),n(70861),n(13145),n(2526)],o=function(e,t,n,r,o,i){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.UrlCallbackProvider=t.callbackSymbol=void 0,n=a(n),r=a(r),t.callbackSymbol=Symbol("URICallbackSymbol");t.UrlCallbackProvider=class{constructor(){this.callbackSymbol=t.callbackSymbol,this[s]=new n.Emitter,this.extensionCallbackPath="/extension-auth-callback",this.expectedNonceMap=new Map,this.onStorage=e=>{const{key:r,newValue:s}=e;if(!r||!s)return;const[a,c]=r.split("::");if(!a||"vsonline.redirect.url"!==c)return;const d=this.expectedNonceMap.get(a);if(!d)return;localStorage.removeItem(r),this.expectedNonceMap.delete(a);const l=s,u=(0,o.getQueryParams)(l),p=n.URI.from({authority:d.authority,query:u.toString(),scheme:(0,i.getVSCodeScheme)(),path:d.path,fragment:""});this[t.callbackSymbol].fire(p)},this.onCallback=this[t.callbackSymbol].event,window.addEventListener?window.addEventListener("storage",this.onStorage,!1):window.attachEvent("onstorage",this.onStorage)}generateUrlCallbackParams(e,t,n){const o=r.default(16).toString("hex");this.expectedNonceMap.set(o,{authority:e,path:t});const i=new URLSearchParams(n);return i.append("state",o),i.toString()}create(e){if(!e)throw new Error('No "options" set.');const{authority:t,path:r="/",query:o=""}=e;if(!t)throw new Error('No "authority" set.');return n.URI.from({scheme:location.protocol.replace(/\:/g,""),path:this.extensionCallbackPath,authority:location.host,query:this.generateUrlCallbackParams(t,r,o),fragment:e.fragment||""})}},s=t.callbackSymbol}.apply(t,r),void 0===o||(e.exports=o)},44047:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818),n(26261),n(54264)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebEditorWorkspaceProvider=void 0;t.WebEditorWorkspaceProvider=class{constructor(e,t,r){this.params=e,this.UriToOpen=t,this.trace=r,this.trusted=!0;if("true"===e.get("workspace")){const e=n.URI.revive(t.uri);this.workspace={workspaceUri:e}}else{const e=n.URI.revive(t.uri);this.workspace={folderUri:e}}}isFolderToOpen(e){return e.folderUri instanceof n.URI}isWorkspaceToOpen(e){return e.workspaceUri instanceof n.URI}resolveGithubFolderURI(e){if("vscode-vfs"!==e.scheme)throw new Error(`URI scheme not supported: ${e.scheme}`);const t=new URL(location.href),n=(0,r.decodeAuthority)(e.authority,this.trace).metadata;return t.pathname=e.path,t.hash="",t.search="",(0,o.appendGithubMetaDatatoPathName)(t,n),t.toString()}resolveGitHubWorkspaceURI(e){var t;if("vscode-vfs"!==e.scheme)throw new Error(`URI scheme not supported: ${e.scheme}`);const n=new URL(location.href);let o="";const i=(0,r.decodeAuthority)(e.authority,this.trace).metadata,[,s,a]=e.path.split("/");s&&a&&(o=`/${s}/${a}`);let c=e.path.replace(o,"");return n.pathname=o,n.hash="",n.search="",n.pathname+=`/blob/${null===(t=null==i?void 0:i.ref)||void 0===t?void 0:t.id}`,c&&(n.pathname+=c),n.toString()}open(e){return i(this,void 0,void 0,(function*(){let t,n;if(this.isFolderToOpen(e))try{return t=this.resolveGithubFolderURI(e.folderUri),location.href=t,!0}catch(e){return!1}else if(this.isWorkspaceToOpen(e))try{return n=new URL(this.resolveGitHubWorkspaceURI(e.workspaceUri)),n.searchParams.set("workspace","true"),this.tryOpenNewTab(n)}catch(e){return!1}return!1}))}tryOpenNewTab(e){const t=window.open();return!!t&&(t.opener=null,t.location.href=e.href,!0)}}}.apply(t,r),void 0===o||(e.exports=o)},25569:(e,t,n)=>{var r,o;r=[n,t,n(95008)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postServiceWorkerMessage=void 0;const r=n.mainTrace.createChild("post-message");t.postServiceWorkerMessage=function e(t,n=function(){return window.navigator&&window.navigator.serviceWorker&&window.navigator.serviceWorker.controller}(),i=!0){if(navigator.serviceWorker){if(!n||"activated"!==n.state&&"activating"!==n.state)return r.warning("cannot send message to unavailable worker",{message:t.type}),i&&0===o.length&&navigator.serviceWorker.ready.then((t=>{for(const n of o)e(n,t.active,!1);o=[]})),void(i&&o.push(t));r.verbose("Sending message to service worker.",{message:t.type}),n.postMessage(t)}else r.warning("Service worker not supported")};let o=[]}.apply(t,r),void 0===o||(e.exports=o)},38549:(e,t,n)=>{var r,o;r=[n,t,n(87678)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerServiceWorker=void 0;t.registerServiceWorker=e=>(0,n.register)({passthroughUrls:[{host:location.origin}]}).catch((t=>{e.createChild("service-worker-registration").warning("error while registering servive worker",t)}))}.apply(t,r),void 0===o||(e.exports=o)},87678:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(29913),n(83818),n(91014),n(25569),n(90390),n(95008)],o=function(e,t,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onMessage=t.unregister=t.unregisterOldServiceWorkers=t.messageHandler=t.register=void 0,"undefined"==typeof window&&(globalThis.window=globalThis),"undefined"==typeof document&&(globalThis.document={createElement(e){if("a"===e)return new URL(location.href)}});const d=c.mainTrace.createChild("service-worker-installer"),l=new r.Emitter,u=l.event;t.register=e=>i(void 0,void 0,void 0,(function*(){d.verbose("registering service worker",e),"serviceWorker"in navigator&&(d.verbose("registering valid service worker"),yield function(e,n){return i(this,void 0,void 0,(function*(){yield p();try{navigator.serviceWorker.addEventListener("controllerchange",(()=>{d.verbose("New service worker version is controlling this client.")})),navigator.serviceWorker.addEventListener("message",(e=>{(0,t.messageHandler)(e,n)}));const r=yield navigator.serviceWorker.register(e);r.addEventListener("updatefound",(()=>{d.verbose("Update found."),(0,s.postServiceWorkerMessage)({type:a.configureServiceWorker,payload:n},r.installing||r.waiting)})),(0,s.postServiceWorkerMessage)({type:a.configureServiceWorker,payload:n},r.active||r.installing)}catch(e){}}))}("/service-worker.js",e),setInterval((()=>{d.verbose("ping"),(0,s.postServiceWorkerMessage)({type:a.pingMessageType})}),10*n.TIME_SECOND_MS))}));function p(){return i(this,void 0,void 0,(function*(){const e=(yield navigator.serviceWorker.getRegistrations()).map((e=>{if(e.active||e.waiting||e.installing)return e})).filter(o.isDefined);0!==e.length?(yield Promise.all(e.map((e=>{e.unregister()}))),d.verbose("the service worker has been unregistered")):d.verbose("no service workers to unregister")}))}t.messageHandler=(e,t)=>{const n=e.data.type;(0,a.isServiceWorkerMessage)(e.data)&&(n!==a.tryConfigureMessageType?l.fire(e.data):(0,s.postServiceWorkerMessage)({type:a.configureServiceWorker,payload:t}))},t.unregisterOldServiceWorkers=p,t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))},t.onMessage=function(e){return u(e)}}.apply(t,r),void 0===o||(e.exports=o)},90390:(e,t,n)=>{var r,o;r=[n,t,n(91014)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isServiceWorkerMessage=t.pongMessageType=t.pingMessageType=t.tryConfigureMessageType=t.setVSCodeServerPortMessageType=t.configureDevTunnelConnectionMessageType=t.configureServiceWorker=void 0,t.configureServiceWorker="codespaces/configure",t.configureDevTunnelConnectionMessageType="codespaces/configure-dev-tunnel-connection",t.setVSCodeServerPortMessageType="codespaces/set-vscode-server-port",t.tryConfigureMessageType="codespaces/tryConfigure",t.pingMessageType="vscs/ping",t.pongMessageType="vscs/pong",t.isServiceWorkerMessage=function(e){return(0,n.isDefined)(e.type)}}.apply(t,r),void 0===o||(e.exports=o)},95008:(e,t,n)=>{var r,o;r=[n,t,n(29913),n(47881)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mainTrace=void 0;const o=(0,n.randomString)(2);t.mainTrace=new r.TraceSource("vscs").createChild(`sw-client:${o}`),t.mainTrace.addTraceListener(new r.BrowserConsoleTraceListener),r.DebugConsoleLogger.enable("vscs")}.apply(t,r),void 0===o||(e.exports=o)},38132:(e,t,n)=>{var r,o;r=[n,t,n(29913),n(62851)],o=function(e,t,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.StateHistoryTracker=t.TAppStates=void 0,function(e){e.AppInitialization="AppInitialization",e.AppUnload="AppUnload"}(o||(t.TAppStates=o={}));class i extends n.DisposableClass{constructor(){super(...arguments),this.states=[]}cleanupError(e){return(0,r.errorToObject)(e)}addState(e,t){const n=this.states[this.states.length-1];return(!n||n.state!==e||n.error!==t)&&(this.states.push({state:e,error:t&&this.cleanupError(t),timestamp:this.currentTime,dateTimestamp:this.currentDateTime}),!0)}get state(){let e=0;const t={};for(let n of this.states)t["State"+e++]=JSON.stringify(Object.assign({},n));return t}get currentTime(){return parseFloat(performance.now().toFixed(3))}get currentDateTime(){return parseFloat(Date.now().toFixed(3))}}t.StateHistoryTracker=i}.apply(t,r),void 0===o||(e.exports=o)},6900:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertiesTelemetryEvent=void 0;t.PropertiesTelemetryEvent=class{constructor(e){const t=e[0],n=e[1];this.name=t,this.properties=Object.assign(Object.assign({},n),{timestamp:performance.now(),dateTimestamp:Date.now()})}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},65295:(e,t,n)=>{var r,o;r=[n,t,n(59463),n(29913),n(84880),n(28259),n(24862)],o=function(e,t,n,r,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryService=t.TELEMETRY_KEY=void 0,t.TELEMETRY_KEY="AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217";let a=0;class c extends r.DisposableClass{get browserId(){try{let e=window.localStorage.getItem("codespaces_machine_id");return e||(e=(0,r.randomString)(),window.localStorage.setItem("codespaces_machine_id",e)),e}catch(e){return this.trace.error("Failed to get session id.",{error:e}),(0,r.randomString)()}}constructor(e,t){super(e.createChild("telemetry-service")),this.addContextProperty=(e,t)=>(this.context[e]=t,this),this.addContextProperties=e=>{for(let[t,n]of Object.entries(e))this.addContextProperty(t,n);return this},this.send=e=>{let t=Object.assign(Object.assign({},this.context),{date:new Date,sequenceNumber:++a,telemetryEventId:(0,r.randomString)()});t=(0,s.prefixPropertyNames)(t,"codespaces.web.common");const n=(0,s.serializeTelemetry)(e,t);this.trace.verbose("track",e.name),n.send()};const n=(0,o.detect)();this.context=Object.assign({browserId:this.browserId,sessionId:this.getSessionId(),pageLoadId:this.getPageLoadId(),host:(0,i.excludeSubdomain)(location.host),browserName:n&&n.name||"<unknown>",browserVersion:n&&n.version||"<unknown>",browserOS:n&&n.os||"<unknown>",vscodeCommit:"<unknown>",vscodeQuality:"<unknown>"},t),this.trace.info("initialize",JSON.stringify(this.context,null,2))}getContextValue(e){return this.context[e]}getSessionId(){try{let e=window.sessionStorage.getItem("codespaces_sessionId");return e||(e=(0,r.randomString)(),window.sessionStorage.setItem("codespaces_sessionId",e)),e}catch(e){return this.trace.error("Failed to get session id.",{error:e}),(0,r.randomString)()}}getPageLoadId(){return(0,r.randomString)()}flush(){this.trace.verbose("flushing events"),n.Telemetry.dispose()}}t.TelemetryService=c}.apply(t,r),void 0===o||(e.exports=o)},55130:function(e,t,n){var r,o,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(59463),n(49206),n(65295),n(38132),n(5547),n(8330),n(6900),n(89036),n(50173),n(21696),n(15419),n(92029),n(44321),n(9138),n(481),n(70759)],o=function(e,t,n,r,o,s,a,c,d,l,u,p,h,f,v,m,g,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configureTelemetryProperties=t.CodespacesTelemetryService=void 0,c=i(c);class b extends o.TelemetryService{constructor(e,t,r,o,i,c,d,l){c.workbenchType=o,c.editor=t,super(e,c),this.config=r,this.workbenchType=o,this.requestId=i,this.performance=d,this.bootstrapDuration=l,this.stateHistoryTracker=new s.StateHistoryTracker(this.trace.createChild("telemetry:state-history-tracker")),this.initialize=()=>{n.Telemetry.init((0,g.createOneDSTelemetryReporter)(this.config.iKey,this.workbenchType).create()),this.recordAppState(s.TAppStates.AppInitialization),a.onbeforeunloadEventsManager.onEvent((()=>{this.recordAppState(s.TAppStates.AppUnload),this.flush()}))},this.initialize()}sendPerformanceTelemetry(){var e,t,n,r,o,i,s,a,c,d;const u={bootstrap:this.bootstrapDuration,reactInitToVSCodeCreate:null!==(t=null===(e=this.performance.main.getBlockMeasure(y.PerformanceEventIds.ReactInitToVSCodeCreate))||void 0===e?void 0:e.measure.duration)&&void 0!==t?t:-1,vsCodeCreateToVSCodeLoaded:null!==(r=null===(n=this.performance.main.getBlockMeasure(y.PerformanceEventIds.VSCodeCreateToVSCodeLoaded))||void 0===n?void 0:n.measure.duration)&&void 0!==r?r:-1,vsCodeLoadedToEditors:null!==(i=null===(o=this.performance.main.getBlockMeasure(y.PerformanceEventIds.VSCodeLoadedToEditors))||void 0===o?void 0:o.measure.duration)&&void 0!==i?i:-1,editorsToExtensionActivation:null!==(a=null===(s=this.performance.main.getBlockMeasure(y.PerformanceEventIds.EditorsToExtensionActivation))||void 0===s?void 0:s.measure.duration)&&void 0!==a?a:-1,idleToAvailable:null!==(d=null===(c=this.performance.main.getBlockMeasure(y.PerformanceEventIds.IdleToAvailable))||void 0===c?void 0:c.measure.duration)&&void 0!==d?d:-1};this.sendTelemetry([l.CodespacesTelemetryEventNames.WebOverallPerformance,u]),this.trace.verbose(`overall-performance ${JSON.stringify(u)}`)}sendTelemetry(e){let t=new d.PropertiesTelemetryEvent(e);"string"==typeof t.properties.stack&&(this.trace.error(JSON.stringify(e)),t.properties.stack=(0,v.cleanupPII)(t.properties.stack)),this.send(t)}addConfigContextProperties(e={}){for(let e of Object.values(p.FeatureFlags))this.addContextProperty(`feature-flag.${e}`,h.featureFlags.isEnabled(e));this.addContextProperties(e)}recordAppState(e,t,n=()=>!1){var r;const o=this.stateHistoryTracker.addState(e,t);this.addContextProperties(this.stateHistoryTracker.state);const i=[s.TAppStates.AppInitialization,s.TAppStates.AppUnload].includes(e),a=null!==(r=localStorage.getItem(`${m.AUTH_ATTEMPTS_COUNT_LOCALSTORAGE_KEY}_${this.requestId}`))&&void 0!==r?r:void 0;if(o&&(n()||i)){const t=(0,f.isCodespaceWorkbenchType)(this.workbenchType)?l.CodespacesTelemetryEventNames.WebAppStateChanged:l.CodespacesTelemetryEventNames.WebEditorAppStateChanged;this.sendTelemetry([t,{state:e,authAttempts:a}])}return this}webEditorAction(e,t,n,r){const o={action:l.TelemetryActionTypes.Connect,correlationId:n,environment:r,errorMessage:(0,v.cleanupPII)(t.errorMessage),errorDetail:(0,v.cleanupPII)(t.errorDetail),result:t.result,refType:t.refType};this.sendTelemetry([e,o])}}t.CodespacesTelemetryService=b;t.configureTelemetryProperties=(e,t)=>{const n=(0,u.getVSCodeVersion)(e.vscodeVersionInfo,h.featureFlags.isEnabled(p.FeatureFlags.Developer)),o=e.vscodeVersionInfo,i=(0,r.v4)(),s=navigator.cookieEnabled;return{portalName:c.default.name,version:e.version,vscodeCommit:n.commit,vscodeQuality:n.quality,stableVSCodeCommitId:o.stable.commit,insiderVSCodeCommitId:o.insider.commit,serviceLocation:e.serviceLocation,serviceInstance:e.serviceInstance,environment:e.environment,sessionId:i,serverCorrelationId:t,cookiesEnabled:s}}}.apply(t,r),void 0===o||(e.exports=o)},481:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(82927),n(33107)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOneDSTelemetryReporter=void 0,n=a(n),r=a(r),t.createOneDSTelemetryReporter=function(e,t){return{create:()=>{const o=new n.AppInsightsCore,i=new r.PostChannel,s={instrumentationKey:e,endpointUrl:"/diagnostic",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[i]]};return o.initialize(s,[]),o.addTelemetryInitializer((e=>{var t,n;e.ext=null!==(t=e.ext)&&void 0!==t?t:{},e.ext.utc=null!==(n=e.ext.utc)&&void 0!==n?n:{},e.ext.utc.flags=8462029})),{sendTelemetryEvent:(e,n,r)=>{o.track({name:e,baseData:{name:e,properties:n,measurements:r,client:`web-${t}`}})},dispose:()=>o.unload()}}}}}.apply(t,r),void 0===o||(e.exports=o)},24862:function(e,t,n){var r,o,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(59463),n(42689),n(71154)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prefixPropertyNames=t.serializeTelemetry=void 0,r=i(r);const s=["Action","Result","RootActivityId"];function a(e,t){return Object.keys(e).reduce(((n,r)=>{const o=s.includes(r)?{[`${r}`]:e[r]}:{[`${t}.${r}`]:e[r]};return Object.assign(Object.assign({},n),o)}),{})}t.serializeTelemetry=function(e,t,i="codespaces.web.event"){const s=new n.TelemetryEvent(e.name),c=Object.assign(Object.assign({},t),i?a(e.properties,i):e.properties);for(const[e,t]of Object.entries(c))if(void 0===t)s.addProperty(e,"undefined");else if(null===t)s.addProperty(e,"null");else if((0,o.isNumber)(t))s.addMeasure(e,t);else if(t instanceof Date){const n=(0,r.default)(t).utc().format("YYYY-MM-DD HH:mm:ss.SSS");s.addProperty(e,n)}else t instanceof Error?s.addProperty(e,t.message):"boolean"==typeof t?s.addProperty(e,t.toString()):s.addProperty(e,t);return s},t.prefixPropertyNames=a}.apply(t,r),void 0===o||(e.exports=o)},92375:(e,t,n)=>{var r;r=function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CodespacesQueryParams=void 0,function(e){e.AutoStart="autoStart",e.AutoAuthRedirect="autoConnect",e.VSCodeChannel="vscodeChannel",e.VSCodeCommitId="vscodeCommitId",e.CodespaceId="codespaceId",e.LoadingScreenThemeColor="loadingScreenThemeColor",e.EditSessionId="editSessionId",e.Editor="editor",e.LoadType="loadType"}(n||(t.CodespacesQueryParams=n={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},26028:(e,t,n)=>{var r;r=function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TLocalStorageKey=void 0,function(e){e.SettingsSyncEnabled="codespaces-settings-sync-enabled"}(n||(t.TLocalStorageKey=n={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},34595:(e,t,n)=>{var r;r=function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TPortType=void 0,function(e){e.Internal="InternalPort",e.User="UserForwardedPort"}(n||(t.TPortType=n={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},2947:(e,t,n)=>{var r;r=function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.shaRegex=t.refTypeToString=t.RepositoryRefType=t.githubAuthorityMetadataSchemaVersion=t.githubRepositoryRegex=void 0,t.githubRepositoryRegex=/^\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,t.githubAuthorityMetadataSchemaVersion=1,function(e){e[e.Branch=0]="Branch",e[e.Tag=1]="Tag",e[e.Commit=2]="Commit",e[e.PullRequest=3]="PullRequest",e[e.Tree=4]="Tree",e[e.Blob=5]="Blob",e[e.Root=6]="Root"}(n||(t.RepositoryRefType=n={}));t.refTypeToString=e=>{switch(e){case n.Branch:return"Branch";case n.Tag:return"Tag";case n.Commit:return"Commit";case n.PullRequest:return"PullRequest";case n.Tree:return"Tree";case n.Root:return"Root";default:return"Unknown"}},t.shaRegex=/^[0-9a-f]{40}$/i}.apply(t,[n,t]),void 0===r||(e.exports=r)},49368:(e,t,n)=>{var r;r=function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.RepoType_QueryParam=t.GitHubURLType=void 0,function(e){e[e.File=0]="File",e[e.Folder=1]="Folder",e[e.Workspace=2]="Workspace"}(n||(t.GitHubURLType=n={})),function(e){e.GitHub="GitHub",e.AzureDevOps="AzureDevOps"}(r||(t.RepoType_QueryParam=r={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},65396:(e,t,n)=>{var r,o;r=[n,t,n(29913)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionTimeoutError=void 0;class r extends n.BaseError{constructor(){super(...arguments),this.errorType="ConnectionTimeoutError"}}t.ConnectionTimeoutError=r}.apply(t,r),void 0===o||(e.exports=o)},5547:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(83818)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onbeforeunloadEventsManager=t.DOMEventsManager=void 0,n=a(n);class r{constructor(){this.emitter=new n.Emitter,this.onEvent=this.emitter.event,this.onEventCallback=()=>{this.emitter.fire(),this.dispose()},window.addEventListener("beforeunload",this.onEventCallback)}dispose(){window.removeEventListener("beforeunload",this.onEventCallback)}}t.DOMEventsManager=r,t.onbeforeunloadEventsManager=new r}.apply(t,r),void 0===o||(e.exports=o)},54264:(e,t,n)=>{var r,o;r=[n,t,n(2947)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendGithubMetaDatatoPathName=void 0,t.appendGithubMetaDatatoPathName=function(e,t){var r;switch(null===(r=null==t?void 0:t.ref)||void 0===r?void 0:r.type){case n.RepositoryRefType.PullRequest:e.pathname+=`/pull/${t.ref.id}`;break;case n.RepositoryRefType.Tree:e.pathname+=`/tree/${t.ref.id}`;break;case n.RepositoryRefType.Blob:e.pathname+=`/blob/${t.ref.id}`;break;case n.RepositoryRefType.Commit:e.pathname+=`/commit/${t.ref.id}`;break;case n.RepositoryRefType.Root:e.pathname+=`/blob/${t.ref.id}`}}}.apply(t,r),void 0===o||(e.exports=o)},9159:(e,t,n)=>{var r,o;r=[n,t,n(84880)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIncompatibleBrowserVersion=t.unsupportedBrowserVersionMessage=void 0;const r=(0,n.detect)();t.unsupportedBrowserVersionMessage="This browser is out of date. Please update your browser to continue working with Codespaces.",t.isIncompatibleBrowserVersion=function(){var e;if((null==r?void 0:r.name)&&(null==r?void 0:r.version)){const t=null===(e=r.version)||void 0===e?void 0:e.split(".",1)[0],n=t?parseInt(t):80;return"chrome"===r.name&&n<80}return!1}}.apply(t,r),void 0===o||(e.exports=o)},65001:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToArrayBuffer=void 0;t.bufferToArrayBuffer=e=>{const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;++t)e[t]&&(n[t]=e[t]);return t}}.apply(t,[n,t]),void 0===r||(e.exports=r)},16336:(e,t,n)=>{var r,o;r=[n,t,n(88986),n(86092),n(92375),n(89148)],o=function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codespaceStateToButton=void 0;t.codespaceStateToButton=(e,t,s,a)=>{if(s instanceof n.AuthenticationError){return{text:s instanceof n.AuthenticationFatalError?"Try again":"Connect",onClick:()=>{localStorage.removeItem(t),(0,i.deleteQueryParamFlag)(o.CodespacesQueryParams.AutoAuthRedirect)}}}switch(e){case r.CodespaceStateInfo.Shutdown:return{text:"Restart codespace",onClick:()=>{null==a||a.startCodespace(!0)}};case r.CodespaceStateInfo.Exporting:case r.CodespaceStateInfo.Updating:return{text:"Try again",onClick:()=>{(0,i.deleteQueryParamFlag)(o.CodespacesQueryParams.AutoStart)}}}}}.apply(t,r),void 0===o||(e.exports=o)},53149:(e,t,n)=>{var r,o;r=[n,t,n(88986),n(86092),n(7336)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codespaceStateToMessage=void 0;t.codespaceStateToMessage=(e,t)=>{if(t)return(e=>e instanceof n.AuthenticationFatalError?"Failed to connect to the codespace.":"Refreshing credentials.")(t);switch(e){case r.CodespaceStateInfo.ShuttingDown:return"Stopping codespace...";case r.CodespaceStateInfo.Updating:return"Codespace is being updated, you will need to wait for a few minutes for the operation to finish";case r.CodespaceStateInfo.Exporting:return"Codespace is being exported, please wait a few minutes for the operation to finish";case r.CodespaceStateInfo.Shutdown:return"Codespace is stopped";case r.CodespaceStateInfo.Deleted:return"The codespace has been deleted.";case r.CodespaceStateInfo.Unavailable:return"The codespace is not available.";case o.CodespaceWorkspaceState.Error:return"Codespace error.";case o.CodespaceWorkspaceState.Unknown:return"Setting up your codespace";default:throw new Error(`Invalid codespace state "${e}".`)}}}.apply(t,r),void 0===o||(e.exports=o)},59709:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818),n(29913),n(29913),n(86092),n(9138),n(7336),n(89148),n(92375)],o=function(e,t,n,r,o,i,s,d,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodespaceStateWatcher=void 0,n=a(n);class p extends n.Disposable{constructor(e,t,r,i,a=s.CODESPACE_IN_PROGRESS_STATES){var c;super(),this.trace=e,this.codespacesAPI=t,this.telemetry=r,this.progressStates=a,this.intervalMs=2*o.TIME_SECOND_MS,this.state="stopped",this.firstCodespaceInfoUpdateSignal=new o.Signal,this.firstCodespaceInfoUpdatePromise=this.firstCodespaceInfoUpdateSignal.promise,this.codespaceInfo=null,this.onStateChangeEmitter=new n.Emitter,this.onStateChange=this.onStateChangeEmitter.event,this.pollCodespacePromise=null,this.token=null,this.partnerToken=null,this.codespaceId=null,this.onError=e=>{this.setCodespaceState(d.CodespaceWorkspaceState.Error,e),this.stop()},this.codespaceState=null!==(c=null==i?void 0:i.state)&&void 0!==c?c:p.DefaultCodespaceState,this.watcherInitializedPromise=new Promise((e=>{this.watcherInitializedResolve=e}))}initialize(e,t,n,r=this.intervalMs){try{return this.token=e,this.partnerToken=t,this.codespaceId=n,this.intervalMs=r,this.start(),this}catch(e){throw this.trace.error("Error initializing state watcher"),e}finally{this.watcherInitializedResolve()}}start(){return"running"===this.state?(this.trace.verbose("already running"),this):(this.trace.verbose(`start, current state: "${this.state}"`),this.stop(),this.state="running",this.pollCodespace(),this)}stop(){this.trace.verbose(`stop, current state: "${this.state}"`),this.state="stopped",this.timeout&&clearTimeout(this.timeout),this.timeout=void 0}setCodespaceState(e,t=null){const n=this.codespaceState;this.codespaceState=e;const r=e===p.DefaultCodespaceState;if(this.progressStates.includes(e)||r||(this.trace.verbose("auto stop"),this.stop()),n===this.codespaceState)return;const o=[t,this.codespaceState,n];this.trace.verbose("fire state change",o),this.onStateChangeEmitter.fire(o)}pollCodespace(){return c(this,void 0,void 0,(function*(){try{return this.pollCodespacePromise?(this.trace.verbose("Already polling for Codespace info, returning existing promise"),this.pollCodespacePromise):(this.pollCodespacePromise=new Promise(((e,t)=>c(this,void 0,void 0,(function*(){yield this.watcherInitializedPromise,this.codespaceState!==i.CodespaceStateInfo.Provisioning&&this.codespaceState!==i.CodespaceStateInfo.Starting||(this.intervalMs=1*o.TIME_SECOND_MS),this.trace.verbose(`Polling at a ${this.intervalMs}ms rate`),this.trace.verbose("getting codespace info");try{(0,r.assertDefined)(this.codespaceId,"No `codespaceId` found, please call `initialize()` method first."),(0,r.assertDefined)(this.token,"No `token` found, please call `initialize()` method first."),(0,r.assertDefined)(this.partnerToken,"No `partnerToken` found, please call `initialize()` method first."),this.codespaceInfo=yield this.codespacesAPI.getCodespaceInfo(this.token),this.telemetry.addContextProperty("codespace-state-watcher",this.codespaceInfo.state),(0,r.assertDefined)(this.codespaceInfo,"No codespace info fetched.");const{location:e,created_at:t,updated_at:n,last_used_at:o}=this.codespaceInfo;this.telemetry.addContextProperties({skuName:this.codespaceInfo.machine.name,codespaceLocation:e,codespaceCreated:t,codespaceUpdated:n,codespaceLastUsed:o})}catch(e){return this.onError(e),t(e),this.pollCodespacePromise=null,null}return this.trace.info(`codespace state -> ${this.codespaceInfo.state}`),this.setCodespaceState(this.codespaceInfo.state),this.firstCodespaceInfoUpdateSignal.resolve(this.codespaceInfo),"stopped"!==this.state&&(this.timeout=setTimeout(this.pollCodespace.bind(this),this.intervalMs)),e(this.codespaceInfo),this.pollCodespacePromise=null,this.codespaceInfo})))),this.pollCodespacePromise)}catch(e){return this.onError(e),null}}))}startCodespace(e){var t;return c(this,void 0,void 0,(function*(){try{yield this.watcherInitializedPromise;const e=null!==(t=this.codespaceInfo)&&void 0!==t?t:yield this.codespacesAPI.getCodespaceInfo(this.token);this.stop(),this.trace.verbose("starting codespace"),(0,r.assertDefined)(this.partnerToken,"No auth token found"),yield this.codespacesAPI.startCodespace(e,this.token)}catch(e){return this.onError(e)}e?(0,l.deleteQueryParamFlag)(u.CodespacesQueryParams.AutoStart):this.start()}))}}t.CodespaceStateWatcher=p,p.DefaultCodespaceState=d.CodespaceWorkspaceState.Unknown}.apply(t,r),void 0===o||(e.exports=o)},48802:function(e,t,n){var r,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectSplashScreen=void 0;t.connectSplashScreen=e=>o(void 0,void 0,void 0,(function*(){yield e.connect()}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},39360:(e,t,n)=>{var r,o;r=[n,t,n(9138),n(2526)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionsById=t.getSessionsByType=t.formatValidServiceKey=t.isSupportedAccountKey=t.buildServiceKey=void 0;t.buildServiceKey=e=>`${(0,r.getVSCodeScheme)()}vscode.${e}-authentication`;t.isSupportedAccountKey=(e,t)=>[n.GH_ACCOUNT_KEY,n.MS_ACCOUNT_KEY].includes(t)||e===`${(0,r.getVSCodeScheme)()}.login`&&"account"===t;t.formatValidServiceKey=(e,n)=>{switch(n){case"github":case"microsoft":return e===(0,t.buildServiceKey)(n);default:return!1}};t.getSessionsByType=(e,t)=>e.filter((e=>e.type===t));t.getSessionsById=(e,t)=>e.find((e=>e.id===t))}.apply(t,r),void 0===o||(e.exports=o)},53404:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;t.debounce=(e,t)=>{let n;const r=(...r)=>{clearInterval(n),n=setInterval((()=>{e(...r)}),t)};return r.stop=()=>{clearInterval(n)},r}}.apply(t,[n,t]),void 0===r||(e.exports=r)},72045:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(88986),n(86092)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureCodespaceIsAvailable=void 0,t.ensureCodespaceIsAvailable=function(e){return i(this,void 0,void 0,(function*(){const t=yield e(!1);return t&&t.state!==r.CodespaceStateInfo.Available?{state:t.state,error:new n.OutdatedCodespaceStateError("The codespace is not in an available state.",t.state)}:{state:null==t?void 0:t.state}}))}}.apply(t,r),void 0===o||(e.exports=o)},28259:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.excludeSubdomain=void 0;t.excludeSubdomain=e=>{const t=e.split(".");return(t.length>2?t.slice(1):t).join(".")}}.apply(t,[n,t]),void 0===r||(e.exports=r)},28809:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(39628)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGitHubIssue=void 0,t.fetchGitHubIssue=function(e,t,r){return i(this,void 0,void 0,(function*(){const o=new n.Octokit({auth:t,baseUrl:r});try{const t=yield o.graphql(`query {\n\t\t\tnode(id: "${e}") {\n\t\t\t\t... on Issue {\n\t\t\t\t\tbody\n\t\t\t\t}\n\t\t\t}\n\t\t}`);if(!t)return;return t.node.body}catch(e){return void console.log(e)}}))}}.apply(t,r),void 0===o||(e.exports=o)},28474:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(88986),n(50502),n(62569)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchOrNetworkError=void 0;const s=(e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield fetch(e,t)}catch(e){throw new n.NetworkError(null==e?void 0:e.message)}}));t.fetchOrNetworkError=(e,t,a=!1)=>i(void 0,void 0,void 0,(function*(){return a?yield(0,o.withRetries)((o=>i(void 0,void 0,void 0,(function*(){var i;const a=yield s(e,t);if(0===o)return a;if(!a.ok&&a.status>299)throw new n.HttpError(a.status,null!==(i=a.statusText)&&void 0!==i?i:(0,r.httpStatusCodeToMessage)(a.status),e.toString());return a}))),{retries:3,retryDelay:250,isAggregateError:!1}):yield s(e,t)}))}.apply(t,r),void 0===o||(e.exports=o)},77283:(e,t,n)=>{var r,o;r=[n,t,n(86092)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllowedPortPrivacySettings=void 0;const r=[n.PortPrivacy.Private,n.PortPrivacy.Public];t.getAllowedPortPrivacySettings=e=>{var t,n;return null!==(n=null===(t=e.runtime_constraints)||void 0===t?void 0:t.allowed_port_privacy_settings)&&void 0!==n?n:r}}.apply(t,r),void 0===o||(e.exports=o)},39158:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppRootElement=void 0;t.getAppRootElement=()=>{const e=document.getElementById("js-vscode-workbench");if(!e)throw new Error("No workbench DOM element found.");return e}}.apply(t,[n,t]),void 0===r||(e.exports=r)},47500:(e,t,n)=>{var r,o;r=[n,t,n(9138)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCodespacesUrl=void 0;t.getCodespacesUrl=e=>{const{partnerName:t}=e;if("github"===e.partnerName)return n.FALLBACK_REDIRECT_URL;throw new Error(`Unknown partner "${t}"`)}}.apply(t,r),void 0===o||(e.exports=o)},33068:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentCodespaceId=t.setCurrentCodespaceId=void 0;let n=null;t.setCurrentCodespaceId=e=>{n=e};t.getCurrentCodespaceId=()=>{if(n)return n}}.apply(t,[n,t]),void 0===r||(e.exports=r)},3384:(e,t,n)=>{var r;r=function(e,t){"use strict";function n(e){const t=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(e);if(null==t?void 0:t.groups){const{start:e,end:n}=t.groups;if(void 0!==e){let t=parseInt(e,10),r=t+1;return void 0!==n&&(r=parseInt(n,10)+1),{startLineNumber:t,startColumn:0,endLineNumber:r,endColumn:0}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultLayout=void 0,t.getDefaultLayout=function(e,t,r,o){let i;return o&&(i=function(e){const t=/(C(?<cell>\d+)(\:L(?<cell_line_start>\d+)(?:-L(?<cell_line_end>\d+))?)?)/.exec(e);if(null==t?void 0:t.groups){const{cell:e,cell_line_start:n,cell_line_end:r}=t.groups;if(void 0!==e)return{indexedCellOptions:{index:Math.max(0,Number(e)-1),selection:void 0!==n?{startLineNumber:Number(n),startColumn:1,endLineNumber:Number(null!=r?r:n)+1,endColumn:1}:void 0}}}}(o),void 0===i&&(i={selection:n(o)})),{force:!0,editors:[{uri:{scheme:"vscode-vfs",authority:t.authority,path:`/${e.owner}/${e.repo}/${r}`,fragment:"",query:""},options:i,openOnlyIfExists:!0}]}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},43071:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(9138),n(45267)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSettings=void 0;const o={"workbench.startupEditor":"readme"};t.getDefaultSettings=e=>i(void 0,void 0,void 0,(function*(){var t;const i="vscodeSettings"in e?e.vscodeSettings.defaultSettings:void 0;return(0,r.isGitHubDarkTheme)()&&i&&(null!==(t=i["workbench.colorTheme"])&&void 0!==t||(i["workbench.colorTheme"]=n.GITHUB_PAYLOAD_DARK_THEME_NAME)),Object.assign(Object.assign({},o),i)}))}.apply(t,r),void 0===o||(e.exports=o)},24558:function(e,t,n){var r,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultWorkspacePath=void 0;t.getDefaultWorkspacePath=e=>o(void 0,void 0,void 0,(function*(){const t=yield e.getPartnerInfo();if(t)return t.defaultWorkspacePath}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},92647:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(29913),n(83818),n(53624),n(77283)],o=function(e,t,n,r,o,s){"use strict";let a;Object.defineProperty(t,"__esModule",{value:!0}),t.initializeDevTunnelProvider=t.getDevTunnelProvider=void 0;t.getDevTunnelProvider=()=>((0,n.assertDefined)(a,"devTunnelProviderInstance is not defined"),a);t.initializeDevTunnelProvider=(e,t,n,c,d)=>{if(a)return;const l=(0,s.getAllowedPortPrivacySettings)(n);a=new o.DevTunnelProvider(e,t,n,l,(e=>i(void 0,void 0,void 0,(function*(){return r.workspace.openTunnel(e)}))),c,d,void 0)}}.apply(t,r),void 0===o||(e.exports=o)},67737:(e,t,n)=>{var r,o;r=[n,t,n(92375),n(9138),n(89148)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeatureSet=void 0;t.getFeatureSet=()=>{const e=(0,o.getQueryParamFlag)(n.CodespacesQueryParams.VSCodeChannel);if(e)return e;let t=r.FeatureSet.Stable;const i=localStorage.getItem(r.CS_FEATURESET_LOCALSTORAGE_KEY);return i||t}}.apply(t,r),void 0===o||(e.exports=o)},63075:function(e,t,n){var r,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHomeIndicator=void 0;t.getHomeIndicator=e=>o(void 0,void 0,void 0,(function*(){if(e)return"homeIndicator"in e.vscodeSettings?e.vscodeSettings.homeIndicator:void 0}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},10443:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};r=[n,t,n(83818)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogLevel=void 0,n=a(n);t.getLogLevel=()=>{var e;switch(null===(e=new URL(location.href).searchParams.get("vscode-log"))||void 0===e?void 0:e.toLowerCase()){case"trace":return n.LogLevel.Trace;case"debug":return n.LogLevel.Debug;case"warning":return n.LogLevel.Warning;case"error":return n.LogLevel.Error;case"critical":return n.LogLevel.Critical;case"off":return n.LogLevel.Off;default:return n.LogLevel.Info}}}.apply(t,r),void 0===o||(e.exports=o)},26513:(e,t,n)=>{var r,o;r=[n,t,n(9138)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoginRedirectionURL=void 0;const r=()=>new URL(n.FALLBACK_REDIRECT_URL);t.getLoginRedirectionURL=e=>{if(!e)return r();const{managementPortalUrl:t}=e;return t?new URL(t):r()}}.apply(t,r),void 0===o||(e.exports=o)},28620:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getName=void 0;t.getName=e=>e.split(".")[0]}.apply(t,[n,t]),void 0===r||(e.exports=r)},28521:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformAccessToken=void 0,t.getPlatformAccessToken=function(e,t){var n,r,o;return null===(o=null===(r=null===(n=e.vscodeSettings)||void 0===n?void 0:n.defaultAuthSessions)||void 0===r?void 0:r.find((e=>e.id.includes(t)&&!!e.accessToken)))||void 0===o?void 0:o.accessToken}}.apply(t,[n,t]),void 0===r||(e.exports=r)},62220:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPartnerExtensions=void 0;t.getPartnerExtensions=e=>{var t;const{vscodeSettings:n}=e;return(null!==(t=null==n?void 0:n.defaultExtensions)&&void 0!==t?t:[]).map((e=>e.id))}}.apply(t,[n,t]),void 0===r||(e.exports=r)},68056:function(e,t,n){var r,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProductConfiguration=void 0;t.getProductConfiguration=e=>o(void 0,void 0,void 0,(function*(){if("productConfiguration"in e.vscodeSettings)return e.vscodeSettings.productConfiguration}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},89148:(e,t,n)=>{var r,o;r=[n,t,n(92375),n(9138)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteQueryParamFlag=t.setQueryParamFlag=t.getQueryParamFlag=void 0;t.getQueryParamFlag=function(e,t){const o=new URLSearchParams(location.search).get(e);return o?e===n.CodespacesQueryParams.VSCodeChannel?(e=>{if([r.FeatureSet.Insider,r.FeatureSet.Stable].includes(e))return e})(o||""):e===n.CodespacesQueryParams.VSCodeCommitId?o:"true"===(i=(o||"").toLowerCase())||"false"!==i&&i:t;var i},t.setQueryParamFlag=function(e,t,n=window.location){const r=new URL(n.href),{searchParams:o}=r,i=`${t}`;o.get(e)!==i&&(r.searchParams.set(e,i),n.replace(r.toString()))},t.deleteQueryParamFlag=function(e){const t=new URL(window.location.href);t.searchParams.delete(e),window.location.replace(t.toString())}}.apply(t,r),void 0===o||(e.exports=o)},13145:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryParams=void 0;t.getQueryParams=e=>{const t=e.split("?")[1];return t?new URLSearchParams(`?${t}`):new URLSearchParams}}.apply(t,[n,t]),void 0===r||(e.exports=r)},12759:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(71771),n(59463),n(39406),n(72633),n(9138),n(92647)],o=function(e,t,n,r,o,s,a,c){"use strict";let d;Object.defineProperty(t,"__esModule",{value:!0}),t.disposeRpcClient=t.getRpcClient=void 0;t.getRpcClient=(e,t)=>i(void 0,void 0,void 0,(function*(){if(e=e.createChild("rpc-client"),d)return e.verbose("RPC client already exists, returning existing instance"),d;let i;d=new n.RpcClient,d.setTelemetry(new r.TelemetryClass),e.verbose("gRPC web feature flag is enabled, creating clients");const l=(0,c.getDevTunnelProvider)();return i=yield s.StreamManager.getStreamManager(e,l,t),d.createGrpcClients(!1,e,!0,a.CODESPACES_INTERNAL_WEB_PORT,(()=>(0,o.CodespacesInternalTransportFactory)(e.createChild("codespaces-internal-transport"),t,i))),d}));t.disposeRpcClient=()=>{(null==d?void 0:d.shouldUseGrpcService)&&d.dispose(),d=void 0}}.apply(t,r),void 0===o||(e.exports=o)},43024:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionPath=void 0,t.getSessionPath=function(e){var t;return(null===(t=e.connection)||void 0===t?void 0:t.sessionPath)?e.connection.sessionPath:`/workspaces/${e.repository.name}`}}.apply(t,[n,t]),void 0===r||(e.exports=r)},22484:(e,t,n)=>{var r,o;r=[n,t,n(9138)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUriAuthority=void 0;t.getUriAuthority=e=>`${n.CODESPACES_EXTENSION_AUTHORITY}+${e.name}`}.apply(t,r),void 0===o||(e.exports=o)},48959:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(62220),n(50173),n(9138),n(15419),n(21696),n(61973)],o=function(e,t,n,r,o,s,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVSCodeConnectionOptions=void 0;t.getVSCodeConnectionOptions=(e,t,d)=>i(void 0,void 0,void 0,(function*(){const{environment_id:i}=e,l=(0,r.getVSCodeVersion)(d.vscodeVersionInfo,s.featureFlags.isEnabled(a.FeatureFlags.Developer)),u=(0,n.getPartnerExtensions)(t);let p=[];s.featureFlags.isEnabled(a.FeatureFlags.CopilotWorkspace)&&d.loadType===c.ILoadType.cw&&(p=o.COPILOT_WORKSPACE_BUILT_IN_EXTENSIONS);let h=[];return t.agentContext&&(h=o.COPILOT_CHAT_BUILT_IN_EXTENSIONS),{environmentId:i,telemetry:!0,extensions:[...u,...p,...h,...o.CODESPACES_BUILT_IN_EXTENSIONS],vsCodeCommit:l.commit,vsCodeQuality:l.quality,version:l.productVersion}}))}.apply(t,r),void 0===o||(e.exports=o)},2526:(e,t,n)=>{var r,o;r=[n,t,n(9138),n(67737)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVSCodeScheme=void 0;t.getVSCodeScheme=()=>(0,r.getFeatureSet)()===n.FeatureSet.Insider?"vscode-insiders":"vscode"}.apply(t,r),void 0===o||(e.exports=o)},50173:(e,t,n)=>{var r,o;r=[n,t,n(88986),n(92375),n(9138),n(67737),n(89148)],o=function(e,t,n,r,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVSCodeVersion=void 0;t.getVSCodeVersion=(e,t)=>{const a=(0,i.getFeatureSet)();if(t){const e=(0,s.getQueryParamFlag)(r.CodespacesQueryParams.VSCodeCommitId);if(e)return{quality:a,commit:e}}const c={[o.FeatureSet.Insider]:{commit:e.insider.commit,productVersion:e.insider.productVersion},[o.FeatureSet.Stable]:{commit:e.stable.commit,productVersion:e.stable.productVersion}}[a];if(!c.commit)throw new n.VSCodeCommitNotFound(`No VSCode commit found for ${a} quality.`);return{quality:a,commit:c.commit,productVersion:c.productVersion}}}.apply(t,r),void 0===o||(e.exports=o)},60743:function(e,t,n){var r,o,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r=[n,t,n(23611),n(43024),n(22484)],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkbenchDefaultLayout=void 0,n=i(n);t.getWorkbenchDefaultLayout=(e,t)=>{const i=e.html_url;if("string"==typeof(s=i)&&s&&null!==s.match(/https:\/\/github\.com\/.+\/.+\/pull\/\d+/))return{views:[{id:"workbench.panel.comments"},{id:"prStatus:github"}]};{const i=(null==t?void 0:t.openFiles)||[],s=(0,r.getSessionPath)(e);return{views:[{id:"terminal"}],editors:i.map((t=>({uri:{scheme:"vscode-remote",authority:(0,o.getUriAuthority)(e),path:n.default.join(s,t),fragment:"",query:""},openOnlyIfExists:!0})))}}var s}}.apply(t,r),void 0===o||(e.exports=o)},3948:(e,t,n)=>{var r,o;r=[n,t,n(45267)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkbenchInitialColorTheme=void 0;t.getWorkbenchInitialColorTheme=()=>(0,n.isGitHubDarkTheme)()?{themeType:"dark",colors:{focusBorder:"#1158c7",foreground:"#c9d1d9",descriptionForeground:"#8b949e",errorForeground:"#ff7b72","textLink.foreground":"#58a6ff","textLink.activeForeground":"#79c0ff","textBlockQuote.background":"#0d1117","textBlockQuote.border":"#21262d","textCodeBlock.background":"#161b22","textPreformat.foreground":"#8b949e","textSeparator.foreground":"#30363d","button.background":"#0f5323","button.foreground":"#7ee787","button.hoverBackground":"#196c2e","checkbox.background":"#21262d","checkbox.border":"#010409","dropdown.background":"#161b22","dropdown.border":"#30363d","dropdown.foreground":"#c9d1d9","dropdown.listBackground":"#0d1117","input.background":"#161b22","input.border":"#30363d","input.foreground":"#c9d1d9","input.placeholderForeground":"#6e7681","badge.foreground":"#79c0ff","badge.background":"#0d419d","progressBar.background":"#1f6feb","titleBar.activeForeground":"#c9d1d9","titleBar.activeBackground":"#0d1117","titleBar.inactiveForeground":"#6e7681","titleBar.inactiveBackground":"#0d1117","titleBar.border":"#30363d","activityBar.foreground":"#c9d1d9","activityBar.inactiveForeground":"#484f58","activityBar.background":"#0d1117","activityBarBadge.foreground":"#f0f6fc","activityBarBadge.background":"#1f6feb","activityBar.activeBorder":"#f9826c","activityBar.border":"#30363d","sideBar.foreground":"#8b949e","sideBar.background":"#0d1117","sideBar.border":"#30363d","sideBarTitle.foreground":"#c9d1d9","sideBarSectionHeader.foreground":"#c9d1d9","sideBarSectionHeader.background":"#0d1117","sideBarSectionHeader.border":"#30363d","list.hoverForeground":"#c9d1d9","list.inactiveSelectionForeground":"#c9d1d9","list.activeSelectionForeground":"#c9d1d9","list.hoverBackground":"#282e34","list.inactiveSelectionBackground":"#282e34","list.activeSelectionBackground":"#39414a","list.inactiveFocusBackground":"#1d2d3e","list.focusBackground":"#0d419d","tree.indentGuidesStroke":"#161b22","notificationCenterHeader.foreground":"#6e7681","notificationCenterHeader.background":"#0d1117","notifications.foreground":"#c9d1d9","notifications.background":"#161b22","notifications.border":"#30363d","notificationsErrorIcon.foreground":"#f85149","notificationsWarningIcon.foreground":"#f0883e","notificationsInfoIcon.foreground":"#58a6ff","pickerGroup.border":"#21262d","pickerGroup.foreground":"#c9d1d9","quickInput.background":"#0d1117","quickInput.foreground":"#c9d1d9","statusBar.foreground":"#8b949e","statusBar.background":"#0d1117","statusBar.border":"#30363d","statusBar.noFolderBackground":"#0d1117","statusBar.debuggingBackground":"#931b06","statusBar.debuggingForeground":"#f0f6fc","statusBarItem.prominentBackground":"#282e34","editorGroupHeader.tabsBackground":"#0d1117","editorGroupHeader.tabsBorder":"#30363d","editorGroup.border":"#30363d","tab.activeForeground":"#c9d1d9","tab.inactiveForeground":"#6e7681","tab.inactiveBackground":"#0d1117","tab.activeBackground":"#0d1117","tab.hoverBackground":"#0d1117","tab.unfocusedHoverBackground":"#0d1117","tab.border":"#30363d","tab.unfocusedActiveBorderTop":"#30363d","tab.activeBorder":"#0d1117","tab.unfocusedActiveBorder":"#0d1117","tab.activeBorderTop":"#f9826c","breadcrumb.foreground":"#6e7681","breadcrumb.focusForeground":"#c9d1d9","breadcrumb.activeSelectionForeground":"#8b949e","breadcrumbPicker.background":"#2b3036","editor.foreground":"#c9d1d9","editor.background":"#0d1117","editorWidget.background":"#0d1117","editor.foldBackground":"#282e33","editor.lineHighlightBackground":"#2b3036","editorLineNumber.foreground":"#f0f6fc4d","editorLineNumber.activeForeground":"#c9d1d9","editorIndentGuide.background":"#161b22","editorIndentGuide.activeBackground":"#21262d","editorWhitespace.foreground":"#21262d","editorCursor.foreground":"#79c0ff","editor.findMatchBackground":"#ffd33d44","editor.findMatchHighlightBackground":"#ffd33d22","editor.inactiveSelectionBackground":"#3392FF22","editor.selectionBackground":"#3392FF44","editor.selectionHighlightBackground":"#17E5E633","editor.selectionHighlightBorder":"#17E5E600","editor.wordHighlightBackground":"#17E5E600","editor.wordHighlightStrongBackground":"#17E5E600","editor.wordHighlightBorder":"#17E5E699","editor.wordHighlightStrongBorder":"#17E5E666","editorBracketMatch.background":"#17E5E650","editorBracketMatch.border":"#17E5E600","editorGutter.modifiedBackground":"#388bfd","editorGutter.addedBackground":"#238636","editorGutter.deletedBackground":"#f85149","diffEditor.insertedTextBackground":"#28a74530","diffEditor.removedTextBackground":"#d73a4930","scrollbar.shadow":"#0008","scrollbarSlider.background":"#6a737d33","scrollbarSlider.hoverBackground":"#6a737d44","scrollbarSlider.activeBackground":"#6a737d88","editorOverviewRuler.border":"#010409","panel.background":"#0d1117","panel.border":"#30363d","panelTitle.activeBorder":"#f9826c","panelTitle.activeForeground":"#c9d1d9","panelTitle.inactiveForeground":"#6e7681","panelInput.border":"#161b22","terminal.foreground":"#8b949e","gitDecoration.addedResourceForeground":"#2ea043","gitDecoration.modifiedResourceForeground":"#58a6ff","gitDecoration.deletedResourceForeground":"#f85149","gitDecoration.untrackedResourceForeground":"#2ea043","gitDecoration.ignoredResourceForeground":"#484f58","gitDecoration.conflictingResourceForeground":"#f0883e","gitDecoration.submoduleResourceForeground":"#484f58","debugToolBar.background":"#2b3036","editor.stackFrameHighlightBackground":"#a707","editor.focusedStackFrameHighlightBackground":"#b808","peekViewEditor.matchHighlightBackground":"#ffd33d33","peekViewResult.matchHighlightBackground":"#ffd33d33","peekViewEditor.background":"#0d111788","peekViewResult.background":"#0d1117","settings.headerForeground":"#c9d1d9","settings.modifiedItemIndicator":"#1f6feb","welcomePage.buttonBackground":"#161b22","welcomePage.buttonHoverBackground":"#21262d"}}:{themeType:"light",colors:{focusBorder:"#2188ff",foreground:"#444d56",descriptionForeground:"#6a737d",errorForeground:"#cb2431","textLink.foreground":"#0366d6","textLink.activeForeground":"#005cc5","textBlockQuote.background":"#fafbfc","textBlockQuote.border":"#e1e4e8","textCodeBlock.background":"#f6f8fa","textPreformat.foreground":"#586069","textSeparator.foreground":"#d1d5da","button.background":"#159739","button.foreground":"#fff","button.hoverBackground":"#138934","checkbox.background":"#fafbfc","checkbox.border":"#d1d5da","dropdown.background":"#fafbfc","dropdown.border":"#e1e4e8","dropdown.foreground":"#2f363d","dropdown.listBackground":"#fff","input.background":"#fafbfc","input.border":"#e1e4e8","input.foreground":"#2f363d","input.placeholderForeground":"#959da5","badge.foreground":"#005cc5","badge.background":"#dbedff","progressBar.background":"#2188ff","titleBar.activeForeground":"#2f363d","titleBar.activeBackground":"#fff","titleBar.inactiveForeground":"#6a737d","titleBar.inactiveBackground":"#f6f8fa","titleBar.border":"#e1e4e8","activityBar.foreground":"#2f363d","activityBar.inactiveForeground":"#959da5","activityBar.background":"#fff","activityBarBadge.foreground":"#fff","activityBarBadge.background":"#2188ff","activityBar.activeBorder":"#f9826c","activityBar.border":"#e1e4e8","sideBar.foreground":"#586069","sideBar.background":"#f6f8fa","sideBar.border":"#e1e4e8","sideBarTitle.foreground":"#2f363d","sideBarSectionHeader.foreground":"#2f363d","sideBarSectionHeader.background":"#f6f8fa","sideBarSectionHeader.border":"#e1e4e8","list.hoverForeground":"#2f363d","list.inactiveSelectionForeground":"#2f363d","list.activeSelectionForeground":"#2f363d","list.hoverBackground":"#ebf0f4","list.inactiveSelectionBackground":"#e8eaed","list.activeSelectionBackground":"#e2e5e9","list.inactiveFocusBackground":"#dbedff","list.focusBackground":"#cce5ff","tree.indentGuidesStroke":"#e1e4e8","notificationCenterHeader.foreground":"#6a737d","notificationCenterHeader.background":"#e1e4e8","notifications.foreground":"#2f363d","notifications.background":"#fafbfc","notifications.border":"#e1e4e8","notificationsErrorIcon.foreground":"#d73a49","notificationsWarningIcon.foreground":"#e36209","notificationsInfoIcon.foreground":"#005cc5","pickerGroup.border":"#e1e4e8","pickerGroup.foreground":"#2f363d","quickInput.background":"#fafbfc","quickInput.foreground":"#2f363d","statusBar.foreground":"#586069","statusBar.background":"#fff","statusBar.border":"#e1e4e8","statusBar.noFolderBackground":"#fff","statusBar.debuggingBackground":"#f9826c","statusBar.debuggingForeground":"#fff","statusBarItem.prominentBackground":"#e8eaed","editorGroupHeader.tabsBackground":"#f6f8fa","editorGroupHeader.tabsBorder":"#e1e4e8","editorGroup.border":"#e1e4e8","tab.activeForeground":"#2f363d","tab.inactiveForeground":"#6a737d","tab.inactiveBackground":"#f6f8fa","tab.activeBackground":"#fff","tab.hoverBackground":"#fff","tab.unfocusedHoverBackground":"#fff","tab.border":"#e1e4e8","tab.unfocusedActiveBorderTop":"#e1e4e8","tab.activeBorder":"#fff","tab.unfocusedActiveBorder":"#fff","tab.activeBorderTop":"#f9826c","breadcrumb.foreground":"#6a737d","breadcrumb.focusForeground":"#2f363d","breadcrumb.activeSelectionForeground":"#586069","breadcrumbPicker.background":"#fafbfc","editor.foreground":"#24292e","editor.background":"#fff","editorWidget.background":"#f6f8fa","editor.foldBackground":"#fafbfc","editor.lineHighlightBackground":"#f6f8fa","editorLineNumber.foreground":"#1b1f234d","editorLineNumber.activeForeground":"#24292e","editorIndentGuide.background":"#eff2f6","editorIndentGuide.activeBackground":"#d7dbe0","editorWhitespace.foreground":"#d1d5da","editorCursor.foreground":"#044289","editor.findMatchBackground":"#ffdf5d","editor.findMatchHighlightBackground":"#ffdf5d66","editor.inactiveSelectionBackground":"#0366d611","editor.selectionBackground":"#0366d625","editor.selectionHighlightBackground":"#34d05840","editor.selectionHighlightBorder":"#34d05800","editor.wordHighlightBackground":"#34d05800","editor.wordHighlightStrongBackground":"#34d05800","editor.wordHighlightBorder":"#24943e99","editor.wordHighlightStrongBorder":"#24943e50","editorBracketMatch.background":"#34d05840","editorBracketMatch.border":"#34d05800","editorGutter.modifiedBackground":"#2188ff","editorGutter.addedBackground":"#28a745","editorGutter.deletedBackground":"#d73a49","diffEditor.insertedTextBackground":"#34d05822","diffEditor.removedTextBackground":"#d73a4922","scrollbar.shadow":"#6a737d33","scrollbarSlider.background":"#959da533","scrollbarSlider.hoverBackground":"#959da544","scrollbarSlider.activeBackground":"#959da588","editorOverviewRuler.border":"#fff","panel.background":"#f6f8fa","panel.border":"#e1e4e8","panelTitle.activeBorder":"#f9826c","panelTitle.activeForeground":"#2f363d","panelTitle.inactiveForeground":"#6a737d","panelInput.border":"#e1e4e8","terminal.foreground":"#586069","gitDecoration.addedResourceForeground":"#28a745","gitDecoration.modifiedResourceForeground":"#005cc5","gitDecoration.deletedResourceForeground":"#d73a49","gitDecoration.untrackedResourceForeground":"#28a745","gitDecoration.ignoredResourceForeground":"#959da5","gitDecoration.conflictingResourceForeground":"#e36209","gitDecoration.submoduleResourceForeground":"#959da5","debugToolBar.background":"#fff","editor.stackFrameHighlightBackground":"#fffbdd","editor.focusedStackFrameHighlightBackground":"#fff5b1","settings.headerForeground":"#2f363d","settings.modifiedItemIndicator":"#2188ff","welcomePage.buttonBackground":"#f6f8fa","welcomePage.buttonHoverBackground":"#e1e4e8"}}}.apply(t,r),void 0===o||(e.exports=o)},26261:(e,t,n)=>{var r,o;r=[n,t,n(2947)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSha=t.decodeAuthority=t.encodeAuthority=t.decodeUtf8Hex=t.encodeUtf8Hex=void 0;const r=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function o(e){var t;const n=(new TextEncoder).encode(e),o=new Array(n.length);for(let e=0;e<n.length;++e)o[e]=r[null!==(t=n[e])&&void 0!==t?t:0]||"";return o.join("")}function i(e){const t=e.match(/(\w{2})/g);if(null===t)return"";const n=new Uint8Array(t.map((e=>parseInt(e,16))));return(new TextDecoder).decode(n)}t.encodeUtf8Hex=o,t.decodeUtf8Hex=i,t.encodeAuthority=function(e,t){return`${e}${t?`+${o(JSON.stringify(t))}`:""}`},t.decodeAuthority=function(e,t){const[n,r]=e.split("+");let o;if(r)try{o=JSON.parse(i(r))}catch(e){t.warning("decoding metadata failed",e)}return{scheme:n,metadata:o}},t.isSha=function(e){return!!e&&n.shaRegex.test(e)}}.apply(t,r),void 0===o||(e.exports=o)},83559:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(39628),n(88986)],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubRefRequest=void 0;t.GithubRefRequest=class{constructor(e){this.token=e}validateOwnerAndRepoAndGetPotentialRefForPath(e,t,n){var o;return i(this,void 0,void 0,(function*(){try{const{data:r}=yield this.extractRef({owner:e,repo:t,ref:null!=n?n:"HEAD"}),o=yield this.extractDefaultBranch({owner:e,repo:t});return{owner:e,repo:t,defaultBranch:o,ref:r.ref,path:r.path}}catch(e){if(403===e.status&&(null===(o=e.message)||void 0===o?void 0:o.startsWith("Resource protected by organization SAML enforcement")))throw new r.GitHubNeedsAuthenticationError;if(404===e.status)throw new r.GitHubRepoAccessError;if(401===e.status)throw new r.AuthenticationError;return}}))}extractRef(e){return i(this,void 0,void 0,(function*(){const t=this.requestWithAuth();return yield t("GET /repos/{owner}/{repo}/git/extract-ref/{ref}",e)}))}extractDefaultBranch(e){return i(this,void 0,void 0,(function*(){const t=this.requestWithAuth();return(yield t("GET /repos/{owner}/{repo}",e)).data.default_branch}))}requestWithAuth(){return(new n.Octokit).request.defaults({headers:{authorization:`token ${this.token}`}})}}}.apply(t,r),void 0===o||(e.exports=o)},96188:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(49368),n(2947),n(26261),n(83818)],o=function(e,t,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGitHubWorkspaceFromUrl=void 0,t.getGitHubWorkspaceFromUrl=function(e,t){return i(this,void 0,void 0,(function*(){const i=r.githubRepositoryRegex.exec(e);if(void 0===(null==i?void 0:i.groups))return;let a,c,{owner:d,repo:l,blob:u,commit:p,tree:h,pull:f,fragment:v}=i.groups;h?c=n.GitHubURLType.Folder:u&&(c=n.GitHubURLType.File);let m=null!=h?h:u;m&&(m=decodeURIComponent(m));const g=yield t.validateOwnerAndRepoAndGetPotentialRefForPath(d,l,m);if(!g)return;let y,b;({owner:d,repo:l,ref:b,path:y}=g);const S="true"===new URLSearchParams(location.search).get("workspace");let w;const C=g.defaultBranch;(h||u)&&b?(w=(0,o.isSha)(b)?r.RepositoryRefType.Commit:h?r.RepositoryRefType.Tree:r.RepositoryRefType.Blob,a={v:r.githubAuthorityMetadataSchemaVersion,ref:{type:w,id:b}}):p?(w=r.RepositoryRefType.Commit,a={v:r.githubAuthorityMetadataSchemaVersion,ref:{type:w,id:p}}):f?(w=r.RepositoryRefType.PullRequest,a={v:r.githubAuthorityMetadataSchemaVersion,ref:{type:w,id:f}}):(w=r.RepositoryRefType.Root,C&&(a={v:r.githubAuthorityMetadataSchemaVersion,ref:{type:w,id:C}})),c=S?n.GitHubURLType.Workspace:c;return{uri:s.URI.from({scheme:"vscode-vfs",authority:(0,o.encodeAuthority)("github",a),path:S?`/${d}/${l}/${y}`:`/${d}/${l}`}),path:y,fragment:v,type:c,refType:w}}))}}.apply(t,r),void 0===o||(e.exports=o)},50502:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpStatusCodeToMessage=void 0;t.httpStatusCodeToMessage=e=>401===e?"Codespace is disconnected.":`${e}: HTTP request failed.`}.apply(t,[n,t]),void 0===r||(e.exports=r)},91014:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDefined=void 0,t.isDefined=function(e){return null!=e}}.apply(t,[n,t]),void 0===r||(e.exports=r)},45267:(e,t,n)=>{var r,o;r=[n,t,n(9138)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGitHubDarkTheme=void 0;t.isGitHubDarkTheme=()=>document.documentElement.classList.contains(n.GITHUB_DARK_THEME_CSS_CLASS)}.apply(t,r),void 0===o||(e.exports=o)},49646:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGuid=void 0,t.isGuid=function(e){return/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/i.test(e)}}.apply(t,[n,t]),void 0===r||(e.exports=r)},51629:(e,t,n)=>{var r,o;r=[n,t,n(34595)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInternalPort=void 0;t.isInternalPort=e=>{var t;return null!==(t=null==e?void 0:e.includes(n.TPortType.Internal))&&void 0!==t&&t}}.apply(t,r),void 0===o||(e.exports=o)},71154:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=void 0;t.isNumber=e=>"number"==typeof e&&!isNaN(e)}.apply(t,[n,t]),void 0===r||(e.exports=r)},15236:(e,t,n)=>{var r,o;r=[n,t,n(26028)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSettingsSyncEnabled=void 0;t.isSettingsSyncEnabled=(e,t=localStorage)=>{const r=t.getItem(n.TLocalStorageKey.SettingsSyncEnabled);if(r)return"true"===r;const{vscodeSettings:o}=e;return"enabled"===o.settingsSync}}.apply(t,r),void 0===o||(e.exports=o)},61680:(e,t,n)=>{var r,o;r=[n,t,n(61973),n(86092),n(89036),n(21696),n(7336),n(9138)],o=function(e,t,n,r,o,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSplashScreen=void 0;t.isSplashScreen=e=>{var t,c,d;const{codespaceState:l,codespaceInfo:u,error:p,editor:h}=e;if(p)return!0;if(!u||!l)return!0;if(h===n.IEditorType.vscode){const s=(null===(t=e.featureFlags)||void 0===t?void 0:t.isEnabled(i.FeatureFlags.UseEarlyWorkbenchWebClient))&&e.editor!==n.IEditorType.jupyter;if(!(null===(c=u.connection)||void 0===c?void 0:c.tunnelProperties))return e.telemetry.sendTelemetry([o.CodespacesTelemetryEventNames.WaitingOnConnectionInfo,{origin:"isSplashScreen",codespaceState:u.state,hasConnectionInfo:!!u.connection,hasTunnelProperties:!!(null===(d=u.connection)||void 0===d?void 0:d.tunnelProperties)}]),!0;if(s){if(!a.STATES_TO_RENDER_EARLY_WORKBENCH.includes(l))return!0}else{if(l===r.CodespaceStateInfo.Provisioning)return!(!u.devcontainer_path||u.prebuild);if(!a.STATES_TO_RENDER_WORKBENCH.includes(l))return!0}}else if(l!==s.CodespaceWorkspaceState.Connected)return!0;return!1}}.apply(t,r),void 0===o||(e.exports=o)},3255:(e,t,n)=>{var r,o;r=[n,t,n(9138)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidAuthRequestId=void 0,t.isValidAuthRequestId=function(e){return!e.withAuthRequest||!!localStorage.getItem(`${n.AUTH_ATTEMPTS_COUNT_LOCALSTORAGE_KEY}_${e.requestId}`)}}.apply(t,r),void 0===o||(e.exports=o)},92958:(e,t,n)=>{var r,o;r=[n,t,n(61973),n(86092),n(89036),n(21696),n(7336),n(9138)],o=function(e,t,n,r,o,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWorkbench=void 0;const c=[r.CodespaceStateInfo.Available,s.CodespaceWorkspaceState.Connected];t.isWorkbench=e=>{var t,s,d;const{platformInfo:l,codespaceInfo:u,codespaceState:p,error:h,editor:f}=e;if(h)return!1;if(!l||!u)return!1;if(f===n.IEditorType.vscode){const c=(null===(t=e.featureFlags)||void 0===t?void 0:t.isEnabled(i.FeatureFlags.UseEarlyWorkbenchWebClient))&&e.editor!==n.IEditorType.jupyter;if(!(null===(s=u.connection)||void 0===s?void 0:s.tunnelProperties))return e.telemetry.sendTelemetry([o.CodespacesTelemetryEventNames.WaitingOnConnectionInfo,{origin:"isWorkbench",codespaceState:u.state,hasConnectionInfo:!!u.connection,hasTunnelProperties:!!(null===(d=u.connection)||void 0===d?void 0:d.tunnelProperties)}]),!1;if(c){if(!a.STATES_TO_RENDER_EARLY_WORKBENCH.includes(p))return!1}else{if(p===r.CodespaceStateInfo.Provisioning)return!(u.devcontainer_path&&!u.prebuild);if(!a.STATES_TO_RENDER_WORKBENCH.includes(p))return!1}}else if(!c.includes(p))return!1;return!0}}.apply(t,r),void 0===o||(e.exports=o)},82318:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinUrl=void 0,t.joinUrl=function(e,t){return t.startsWith("/")&&(t=t.substring(1)),e.endsWith("/")&&(e=e.substring(0,e.length-1)),`${e}/${t}`}}.apply(t,[n,t]),void 0===r||(e.exports=r)},42025:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeSecretStorageGitHubAuthSessions=t.mergeKeytarGitHubAuthSessions=void 0;t.mergeKeytarGitHubAuthSessions=(e,t)=>{try{const n=JSON.parse(e),r=JSON.parse(t);if(!(null==n?void 0:n.extensionId)||(null==n?void 0:n.extensionId)!==(null==r?void 0:r.extensionId))return e;const o=JSON.parse(n.content),i=JSON.parse(r.content);if(!o||!i)return e;const s=i;o.forEach((e=>{s.some((t=>t.id===e.id))||s.push(e)}));const a={extensionId:n.extensionId,content:JSON.stringify(s)};return JSON.stringify(a)}catch(t){return e}};t.mergeSecretStorageGitHubAuthSessions=(e,t,n)=>{try{const n=JSON.parse(e),r=JSON.parse(t);if(!n||!r)return e;const o=r;return n.forEach((e=>{o.some((t=>t.id===e.id))||o.push(e)})),JSON.stringify(o)}catch(t){return n.error(t),e}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},61647:function(e,t,n){var r,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHttpMessageChunks=void 0;const[n,r]=Array.from((new TextEncoder).encode("\r\n"));t.parseHttpMessageChunks=(e,t)=>o(void 0,void 0,void 0,(function*(){for(;e.byteLength>0;){const o=e.findIndex(((t,o)=>e[o+0]===n&&e[o+1]===r));if(!(o>=0))return e;{const n=parseInt(e.subarray(0,o).toString(),16);if(n>e.byteLength)return e;const r=(e=e.subarray(o+2)).subarray(0,n);yield t(r),e=e.subarray(n)}}return e}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},39749:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWorkspacePayload=void 0;const n=e=>{if(!Array.isArray(e))return!1;return!e.find((e=>!(e=>!!Array.isArray(e)&&2===e.length&&"string"==typeof e[0])(e)))};t.parseWorkspacePayload=e=>{if("string"!=typeof e)return null;try{const t=JSON.parse(e);return n(t)?t:null}catch(e){return null}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},5572:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(29913),n(88986),n(89036),n(9138)],o=function(e,t,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pollUntilCodespaceConnectionReady=void 0;let a=null;t.pollUntilCodespaceConnectionReady=(e,t,d,l)=>i(void 0,void 0,void 0,(function*(){if(a)return l.verbose("Already polling for Codespace connection readiness, returning existing promise"),a;let u=0;return a=new Promise(((l,p)=>i(void 0,void 0,void 0,(function*(){for(;!c(e)&&u++<s.MAX_POLL_ATTEMPTS;){const r=yield t();(0,n.assertDefined)(r,"Could not fetch Codespace details"),e=r}d.sendTelemetry([o.CodespacesTelemetryEventNames.CodespacePollAttempts,{connectionAttempts:u,origin:o.PollTypes.ReadyPolling}]),u>=s.MAX_POLL_ATTEMPTS?p(new r.ThrottlingApiError("Max poll attempts reached for pollUntilCodespaceConnectionReady")):l(e),a=null})))),a}));const c=e=>{var t;return!!(null===(t=e.connection)||void 0===t?void 0:t.tunnelProperties)}}.apply(t,r),void 0===o||(e.exports=o)},32636:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popupCenter=void 0;t.popupCenter=(e,t,n,r)=>{const o=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=s/window.screen.availWidth,d=(s-n)/2/c+o,l=(a-r)/2/c+i;return window.open(e,t,`\n      scrollbars=yes,\n      width=${n/c}, \n      height=${r/c}, \n      top=${l}, \n      left=${d}\n      `)}}.apply(t,[n,t]),void 0===r||(e.exports=r)},99481:(e,t,n)=>{var r,o;r=[n,t,n(86092)],o=function(e,t,n){"use strict";var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.UserProgressReporter=t.ProgressType=t.ProgressOptions=void 0,function(e){e[e.Connecting=1]="Connecting",e[e.Done=2]="Done",e[e.ResumingCodespace=3]="ResumingCodespace",e[e.ShuttingDown=4]="ShuttingDown",e[e.ProvisioningCodespace=5]="ProvisioningCodespace",e[e.RebuildCodespace=6]="RebuildCodespace"}(r||(t.ProgressOptions=r={})),function(e){e[e.Default=0]="Default",e[e.Resume=1]="Resume",e[e.ShuttingDown=2]="ShuttingDown",e[e.Rebuild=3]="Rebuild"}(o||(t.ProgressType=o={}));const i=[r.Connecting,r.Done],s=[r.ResumingCodespace].concat(i),a=[r.ProvisioningCodespace].concat(i),c=[r.ShuttingDown].concat(s),d=[r.RebuildCodespace].concat(i),l=new Map([[r.Connecting,{message:"Connecting to codespace...",weight:5}],[r.ResumingCodespace,{message:"Starting codespace...",weight:10}],[r.ProvisioningCodespace,{message:"[Building codespace...](command:_codespaces.viewCreationLog)",weight:12}],[r.RebuildCodespace,{message:"[Rebuilding codespace...](command:_codespaces.viewCreationLog)",weight:5}],[r.ShuttingDown,{message:"Shutting down codespace...",weight:5}]]);t.UserProgressReporter=class{constructor(e,t,r){var l;this.progress=e,this.logger=r,this.currentMarkIndex=-1,this.currentFakeProgress=0,this.fakeTick=0,t.state===n.CodespaceStateInfo.Starting||t.state===n.CodespaceStateInfo.Shutdown||t.state===n.CodespaceStateInfo.Queued&&(null===(l=t.connection)||void 0===l?void 0:l.sessionPath)?(this.totalWeight=this.calculateWeight(s),this.progressMark=s,this.type=o.Resume):t.state===n.CodespaceStateInfo.Provisioning?(this.totalWeight=this.calculateWeight(a),this.progressMark=a,this.type=o.Rebuild):t.state===n.CodespaceStateInfo.Rebuilding?(this.totalWeight=this.calculateWeight(d),this.progressMark=d,this.type=o.Rebuild):t.state===n.CodespaceStateInfo.ShuttingDown?(this.totalWeight=this.calculateWeight(c),this.progressMark=c,this.type=o.ShuttingDown):(this.totalWeight=this.calculateWeight(i),this.progressMark=i,this.type=o.Default),this.startFakeProgress()}update(e){var t,n,o,i;const s=l.get(e),a=this.progressMark.indexOf(e);if(a<=this.currentMarkIndex)throw new Error("Progress can't move backwards");e===r.Done&&this.stopFakeProgress(),this.currentMarkIndex=a;const c=this.progressMark[a-1];if(!c)return;const d=null!==(n=null===(t=l.get(c))||void 0===t?void 0:t.weight)&&void 0!==n?n:0,u=Math.max(d/this.totalWeight*100-this.currentFakeProgress,0);this.progress.report({message:null!==(o=null==s?void 0:s.message)&&void 0!==o?o:"Done",increment:u}),this.logger.info("Progress: "+(null!==(i=null==s?void 0:s.message)&&void 0!==i?i:"Done")),this.fakeTick=0,this.currentFakeProgress=0}startFakeProgress(){this.fakeProgressTimer=setInterval((()=>{this.addFakeProgress()}),100)}stopFakeProgress(){clearInterval(this.fakeProgressTimer)}addFakeProgress(){const e=this.progressMark[this.currentMarkIndex];if(e){const t=l.get(e);if(null==t?void 0:t.weight){const e=13,n=2*Math.atan(this.fakeTick/e)/Math.PI*t.weight*.9/this.totalWeight*100,r=n-this.currentFakeProgress,o=t.message;this.progress.report({message:o,increment:r}),this.currentFakeProgress=n,this.fakeTick++}}}get progressType(){return this.type}calculateWeight(e){return Array.from(l.entries()).map((t=>e.includes(t[0])?t[1].weight:0)).reduce(((e,t)=>e+t),0)}}}.apply(t,r),void 0===o||(e.exports=o)},15146:function(e,t,n){var r,o,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(83818)],o=function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.sendVSCodeCommand=t.CodespacesVSCodeCommands=void 0,n=a(n),function(e){e.Dispose="codespaces.workbench.dispose"}(r||(t.CodespacesVSCodeCommands=r={}));t.sendVSCodeCommand=(e,...t)=>c(void 0,void 0,void 0,(function*(){return yield n.commands.executeCommand(e,...t)}))}.apply(t,r),void 0===o||(e.exports=o)},64114:(e,t,n)=>{var r,o;r=[n,t,n(29913)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vscodeMenuClickHandler=void 0;t.vscodeMenuClickHandler=(e,t,r)=>{const o=t();e.verbose(`Opening url: "${o}"`),(0,n.assertDefined)(o,"Cannot find url."),r?window.location.href=o:window.open(o,"_blank")}}.apply(t,r),void 0===o||(e.exports=o)},62569:function(e,t,n){var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};r=[n,t,n(88986)],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withRetries=void 0;class r{constructor(){this.errorType="AggregateError",this.errorsReference=[]}get errors(){return[...this.errorsReference]}addErrors(...e){return this.errorsReference.push(...e),this}cloneWithErrors(...e){const t=new r;return t.addErrors(...this.errors,...e),t}get lastError(){const e=this.errorsReference.length-1;return this.errorsReference[e]}}const o=(e,t)=>{if(!0!==e){throw"string"==typeof t?new n.AssertionError:t}},s=(e,t)=>{if(t)throw e.lastError;throw e},a={retries:2,retryDelay:0,shouldStopRetries:()=>!1,isAggregateError:!0};t.withRetries=(e,c={},d=new r)=>i(void 0,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},a),c),{retries:i,retryDelay:l,shouldStopRetries:u,cancellationToken:p,isAggregateError:h}=r,f=new n.AssertionError;o(i>-1,h?d.cloneWithErrors():f);try{return o(!(null==p?void 0:p.isCancellationRequested),new n.CancellationError),yield e(i)}catch(a){d.addErrors(a);if(yield u(a))return s(d,!h);if(a instanceof n.CancellationError)return s(d,!h);const c=new n.CancellationError;return o(!(null==p?void 0:p.isCancellationRequested),h?d.cloneWithErrors():c),i>0?(yield(v=l,new Promise((e=>{setTimeout(e,v)}))),yield(0,t.withRetries)(e,Object.assign(Object.assign({},r),{retries:i-1}),d)):s(d,!h)}var v}))}.apply(t,r),void 0===o||(e.exports=o)},92029:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCodespaceWorkbenchType=void 0,t.isCodespaceWorkbenchType=function(e){return"codespaces"===e}}.apply(t,[n,t]),void 0===r||(e.exports=r)},34691:(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFastlyUrl=void 0;t.getFastlyUrl=e=>{switch(e){case"local":case"dev":case"Development":case"latest-dev":return"https://assets.dev.github.dev";case"ppe":case"Staging":case"latest-ppe":return"https://assets.ppe.github.dev";default:return"https://assets.github.dev"}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},83818:t=>{"use strict";t.exports=e},8330:e=>{"use strict";e.exports=JSON.parse('{"name":"codespaces-web-client","version":"1.0.0","description":"Node Web Client","main":"../out/static/app.js","private":"true","scripts":{"clean":"rimraf ../out/static/**/*.{html,js,js.map}","build":"npm run clean && webpack --mode production","lint":"eslint --ext .ts,.tsx .","lint-fix":"npm run lint -- --fix","pretty-quick-staged":"pretty-quick --staged","test":"npm run build && jest --config ./jest.config.js","test-update":"jest --config ./jest.config.js --updateSnapshot","watch":"npm run clean && webpack --mode development --watch"},"repository":{"type":"git","url":"git+https://github.com/osortega/webapi.git"},"author":"Osvaldo Ortega","bugs":{"url":"https://github.com/osortega/webapi/issues"},"devDependencies":{"@types/deep-equal":"^1.0.1","@types/enzyme-adapter-react-16":"^1.0.6","@types/he":"^1.2.3","@types/jest":"^27.4.1","@types/randombytes":"^2.0.0","@types/react":"^16.14.23","@types/react-dom":"^17.0.11","@types/react-router-dom":"^5.3.3","@types/trusted-types":"^2.0.2","@types/uuid":"8.0.0","constants-browserify":"^1.0.0","copy-webpack-plugin":"^11.0.0","crypto-browserify":"^3.12.0","css-loader":"^6.8.1","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.6","eslint-plugin-github":"^4.10.1","fork-ts-checker-webpack-plugin":"^9.0.2","git-repo-info":"^2.1.1","html-webpack-plugin":"^5.3.2","http-message-parser":"^0.0.34","jest":"^27.5.1","jest-fetch-mock":"^3.0.3","mini-css-extract-plugin":"^2.6.1","os-browserify":"^0.3.0","path-browserify":"^1.0.1","rimraf":"^3.0.2","stream-browserify":"^3.0.0","style-loader":"^1.2.1","ts-jest":"^27.1.3","ts-loader":"^9.2.3","tsconfig-paths-webpack-plugin":"^3.5.2","typescript":"^5.3.3","wait-for-expect":"^3.0.2","webpack":"^5.94.0","webpack-cli":"^4.7.2"},"dependencies":{"@microsoft/1ds-core-js":"^3.2.4","@microsoft/1ds-post-js":"^3.2.4","@microsoft/applicationinsights-web":"^2.5.3","@microsoft/dev-tunnels-connections":"^1.1.32","@microsoft/dev-tunnels-contracts":"^1.1.32","@microsoft/dev-tunnels-management":"^1.1.32","@octokit/core":"^3.5.1","@types/async-lock":"^1.4.0","@vs/grpc":"^2.0.976","@vs/vs-ssh":"^3.7.6","@vs/vso-telemetry":"^2.0.1132","@vs/vscs-performance":"^2.0.917","@vs/vscs-utils":"^2.0.1050","@vs/vso-logging":"^2.0.1132","@vs/vso-http-client":"^2.0.1132","async-lock":"^1.4.0","buffer":"^6.0.3","classnames":"^2.3.1","deep-equal":"^2.0.1","detect-browser":"^5.0.0","es5-ext":"0.10.63","he":"^1.2.0","http-browserify":"^1.7.0","js-base64":"^3.7.1","moment":"^2.29.4","node-rsa":"^1.1.1","process":"^0.11.10","randombytes":"^2.1.0","react":"^16.13.1","react-dom":"^16.13.1","react-router-dom":"^5.2.0","setimmediate":"^1.0.5","stream-http":"^3.2.0","url":"^0.11.0","url-loader":"^4.1.1","xterm":"^4.18.0","xterm-addon-fit":"^0.5.0","xterm-addon-search":"^0.8.2"},"_moduleAliases":{"@grpc-clients":"../node_modules/@vs/grpc/dist/src/clients/browser"}}')}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=n,t=[],o.O=(e,n,r,i)=>{if(!n){var s=1/0;for(l=0;l<t.length;l++){for(var[n,r,i]=t[l],a=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(a=!1,i<s&&(s=i));if(a){t.splice(l--,1);var d=r();void 0!==d&&(e=d)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={524:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[s,a,c]=n,d=0;if(s.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(c)var l=c(o)}for(t&&t(n);d<s.length;d++)i=s[d],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(l)},n=self.webpackChunkcodespaces_web_client=self.webpackChunkcodespaces_web_client||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0;var i=o.O(void 0,[643,87,371,714,981,772,329,427,253,672,909,246,422,240,67,71,94,511,36,877,460,466,485,478,198,446,957,501,417,932,382,829,222,79,236,268,505,644,974,623,467],(()=>o(80514)));return i=o.O(i)})()));